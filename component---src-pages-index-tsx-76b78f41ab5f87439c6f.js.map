{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./node_modules/konva/lib/Global.js","webpack:///./src/components/AsciiComputer.tsx","webpack:///./src/components/CursorRow.tsx","webpack:///./src/components/CursorRowGroup.tsx","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/konva/lib/Util.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///./node_modules/konva/lib/Validators.js","webpack:///./node_modules/konva/lib/Factory.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/konva/lib/Context.js","webpack:///./node_modules/konva/lib/Canvas.js","webpack:///./node_modules/konva/lib/DragAndDrop.js","webpack:///./node_modules/konva/lib/Node.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/konva/lib/Container.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/konva/lib/PointerEvents.js","webpack:///./node_modules/konva/lib/Stage.js","webpack:///./node_modules/konva/lib/Shape.js","webpack:///./node_modules/konva/lib/Layer.js","webpack:///./node_modules/konva/lib/FastLayer.js","webpack:///./node_modules/konva/lib/Group.js","webpack:///./node_modules/konva/lib/Animation.js","webpack:///./node_modules/konva/lib/Tween.js","webpack:///./node_modules/konva/lib/_CoreInternals.js","webpack:///./node_modules/konva/lib/shapes/Arc.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/konva/lib/shapes/Line.js","webpack:///./node_modules/konva/lib/shapes/Path.js","webpack:///./node_modules/konva/lib/shapes/Arrow.js","webpack:///./node_modules/konva/lib/shapes/Circle.js","webpack:///./node_modules/konva/lib/shapes/Ellipse.js","webpack:///./node_modules/konva/lib/shapes/Image.js","webpack:///./node_modules/konva/lib/shapes/Label.js","webpack:///./node_modules/konva/lib/shapes/Rect.js","webpack:///./node_modules/konva/lib/shapes/RegularPolygon.js","webpack:///./node_modules/konva/lib/shapes/Ring.js","webpack:///./node_modules/konva/lib/shapes/Sprite.js","webpack:///./node_modules/konva/lib/shapes/Star.js","webpack:///./node_modules/konva/lib/shapes/Text.js","webpack:///./node_modules/konva/lib/shapes/TextPath.js","webpack:///./node_modules/konva/lib/shapes/Transformer.js","webpack:///./node_modules/konva/lib/shapes/Wedge.js","webpack:///./node_modules/konva/lib/filters/Blur.js","webpack:///./node_modules/konva/lib/filters/Brighten.js","webpack:///./node_modules/konva/lib/filters/Contrast.js","webpack:///./node_modules/konva/lib/filters/Enhance.js","webpack:///./node_modules/konva/lib/filters/Emboss.js","webpack:///./node_modules/konva/lib/filters/HSL.js","webpack:///./node_modules/konva/lib/filters/HSV.js","webpack:///./node_modules/konva/lib/filters/Mask.js","webpack:///./node_modules/konva/lib/filters/Kaleidoscope.js","webpack:///./node_modules/konva/lib/filters/Noise.js","webpack:///./node_modules/konva/lib/filters/Pixelate.js","webpack:///./node_modules/konva/lib/filters/Posterize.js","webpack:///./node_modules/konva/lib/filters/RGB.js","webpack:///./node_modules/konva/lib/filters/RGBA.js","webpack:///./node_modules/konva/lib/filters/Threshold.js","webpack:///./node_modules/konva/lib/_FullInternals.js","webpack:///./node_modules/konva/lib/index.js","webpack:///./node_modules/konva/lib/filters/Grayscale.js","webpack:///./node_modules/konva/lib/filters/Invert.js","webpack:///./node_modules/konva/lib/filters/Sepia.js","webpack:///./node_modules/konva/lib/filters/Solarize.js","webpack:///./src/components/MountainBiking.tsx","webpack:///./src/components/index/Desktop.tsx","webpack:///./src/components/RecordPlayer.tsx","webpack:///./src/components/index/Mobile.tsx","webpack:///./src/components/ResponsiveBreakpoint.tsx","webpack:///./src/pages/index.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.string.trim-right.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.reflect.construct.js"],"names":["$trim","this","PI_OVER_180","Math","PI","glob","global","window","WorkerGlobalScope","self","Konva","_global","version","isBrowser","toString","call","isUnminified","test","param","dblClickWindow","getAngle","angle","angleDeg","enableTrace","pointerEventsEnabled","autoDrawEnabled","hitOnDragEnabled","capturePointerEventsEnabled","_mouseListenClick","_touchListenClick","_pointerListenClick","_mouseInDblClickWindow","_touchInDblClickWindow","_pointerInDblClickWindow","_mouseDblClickPointerId","_touchDblClickPointerId","_pointerDblClickPointerId","pixelRatio","devicePixelRatio","dragDistance","showWarnings","dragButtons","isDragging","isDragReady","node","document","_injectGlobal","_registerNode","NodeClass","prototype","getClassName","AsciiComputer","children","ComputerPart","Computer","top","left","ComputerScreen","right","bottom","styled","div","pre","CursorRow","text","startTyping","className","delay","onComplete","finishTyping","useState","typedText","setTypedText","callback","useRef","useEffect","current","currentIndex","length","t","intervalId","setInterval","clearInterval","TextContainer","Cursor","span","Blinking","keyframes","CursorRowGroup","contentItems","startTypingIndex","setStartTypingIndex","onFinishTypingRow","useCallback","map","section","index","key","_arrayWithHoles","arr","Array","isArray","_iterableToArray","iter","Symbol","iterator","Object","from","_arrayLikeToArray","len","i","arr2","_unsupportedIterableToArray","o","minLen","n","slice","constructor","name","_nonIterableRest","TypeError","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","Transform","m","arguments","undefined","dirty","value","tr","_point","x","y","sx","sy","rad","c","cos","s","sin","m11","m12","m21","m22","matrix","dx","dy","d","m0","m1","m2","m3","m4","m5","a","b","delta","result","rotation","scaleX","scaleY","skewX","skewY","r","sqrt","acos","Util","_getRotation","PI_OVER_DEG180","DEG180_OVER_PI","COLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","transparent","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","req","requestAnimationFrame","f","setTimeout","_isElement","obj","nodeType","_isFunction","apply","_isPlainObject","_isArray","_isNumber","isNaN","isFinite","_isString","_isBoolean","isObject","val","isValidSelector","selector","firstChar","toUpperCase","_sign","number","requestAnimFrame","push","queue","forEach","cb","createCanvasElement","canvas","createElement","style","e","createImageElement","_isInDocument","el","parentNode","_urlToImage","url","imageObj","onload","src","_rgbToHex","g","_hexToRgb","hex","replace","bigint","parseInt","getRandomColor","randColor","random","getRGB","color","rgb","substring","substr","exec","colorToRGBA","str","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","toLowerCase","indexOf","parts","match","split","Number","t2","t3","_$exec","_$exec2","hsl","h","l","round","t1","haveIntersection","r1","r2","width","height","cloneObject","retObj","cloneArray","degToRad","deg","radToDeg","_degToRad","warn","_radToDeg","radians","_capitalize","charAt","Error","error","console","each","func","_inRange","_getProjectionToSegment","x1","y1","x2","y2","x3","y3","dist","pd2","u","_getProjectionToLine","pt","line","isClosed","pc","MAX_VALUE","p1","p2","proj","px","py","pdist","_prepareArrayForTween","startArray","endArray","start","end","temp","newStart","point","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","hasOwnProperty","getOwnPropertyDescriptor","_assign","source","_getFirstPointerId","evt","touches","changedTouches","identifier","pointerId","_formatValue","RGBComponent","getNumberValidator","attr","getNumberOrArrayOfNumbersValidator","noOfElements","isNumber","isValidArray","getNumberOrAutoValidator","getStringValidator","getStringOrGradientValidator","isString","isGradient","addColorStop","getBooleanValidator","Factory","addGetterSetter","def","validator","after","addGetter","addSetter","addOverloadedGetterSetter","method","attrs","overWriteSetter","_setAttr","addComponentsGetterSetter","components","component","capitalize","getter","setter","ret","getAttr","basicValidator","getComponentValidator","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","message","backCompat","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","afterSetFilter","_filterUpToDate","_assertThisInitialized","ReferenceError","_setPrototypeOf","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","_typeof","_possibleConstructorReturn","_getPrototypeOf","getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","Super","NewTarget","simplifyArray","retArr","util","CONTEXT_METHODS","Context","_context","_canvas","getContext","traceArr","_enableTrace","shape","fillEnabled","_fill","hasStroke","_stroke","fillAfterStrokeEnabled","strokeShape","fillShape","relaxed","rounded","trace","args","join","floor","property","shift","getCanvas","getPixelRatio","setTransform","bounds","clearRect","getWidth","getHeight","lineCap","getLineCap","setAttr","absOpacity","getAbsoluteOpacity","lineJoin","a0","a1","a2","a3","a4","a5","arc","arcTo","beginPath","bezierCurveTo","clip","closePath","createImageData","createLinearGradient","createPattern","createRadialGradient","a6","a7","a8","drawImage","ellipse","isPointInPath","path2d","fill","fillRect","strokeRect","maxWidth","fillText","measureText","getImageData","lineTo","moveTo","rect","putImageData","quadraticCurveTo","restore","rotate","save","scale","setLineDash","getLineDash","stroke","strokeText","transform","translate","that","origSetter","methodName","origMethod","_trace","prop","op","globalCompositeOperation","get","set","_pixelRatio","_Context","SceneContext","_super","_fillFunc","_getFillPattern","grd","_getLinearGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","_fillColor","hasPattern","getFillPatternImage","_fillPattern","hasLinearGradient","getFillLinearGradientColorStops","_fillLinearGradient","hasRadialGradient","getFillRadialGradientColorStops","_fillRadialGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","dash","strokeScaleEnabled","getStrokeScaleEnabled","_applyLineCap","dashEnabled","dashOffset","strokeWidth","getShadowForStrokeEnabled","_strokeLinearGradient","_strokeFunc","_a","_b","_c","getShadowRGBA","blur","getShadowBlur","offset","getShadowOffset","getAbsoluteScale","ratio","min","abs","_Context2","HitContext","_super2","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","Canvas","config","isCache","context","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","getDevicePixelRatio","padding","margin","border","background","position","previousRatio","setSize","setWidth","setHeight","mimeType","quality","toDataURL","err","_Canvas","SceneCanvas","_this","_Canvas2","HitCanvas","_this2","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","Map","_drag","nodesToFireEvents","stage","getStage","setPointersPositions","pos","_changedPointerPositions","find","id","max","startPointerPos","startDrag","_setDragPosition","fire","type","_endDragBefore","drawNode","getLayer","batchDraw","_endDragAfter","addEventListener","TRANSFORM_CHANGE_STR","idCounter","Node","_id","eventListeners","_allEventListeners","parent","_cache","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","setAttrs","clear","privateGetter","cache","deps","depsString","dep","on","_clearCache","_getCache","_clearSelfAndDescendantCache","_requestDraw","conf","getClientRect","skipTransform","relativeTo","getParent","ceil","drawBorder","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","imageSmoothingEnabled","drawScene","drawHit","scene","filter","hit","has","minX","minY","maxX","maxY","points","trans","getAbsoluteTransform","transformed","_applyOpacity","_applyGlobalCompositeOperation","canvasCache","_getCanvasCache","cacheCanvas","_getCachedSceneCanvas","imageData","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","evtStr","handler","_delegate","baseEvent","events","_off","off","event","stopNode","targets","findAncestors","currentTarget","stopDrag","_remove","_clearCaches","splice","_setChildrenIndices","remove","ancestors","_batchTransformChanges","_isListening","listening","_isVisible","visible","skipDragCheck","layer","layerUnderDrag","dragSkip","isListening","isVisible","nodes","child","depth","getDepth","addChildren","concat","getChildren","_this3","getPointerPosition","copy","invert","haveCachedParent","isCached","absoluteMatrix","getMatrix","absoluteTransform","getTranslation","origTrans","_clearTransform","it","_getAbsoluteTransform","_setTransform","setPosition","offsetX","offsetY","change","changeX","changeY","family","unshift","theta","zIndex","_getAbsoluteOpacity","opacity","newContainer","add","defaultValue","getAttrs","JSON","stringify","toObject","includeSelf","res","_isMatch","ancestor","sel","selectorArr","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","_eachAncestorReverse","transformsEnabled","multiply","getTransform","copyInto","reset","decompose","_getTransform","skew","allListeners","listener","box","_toKonvaCanvas","img","size","getDragDistance","evtName","evtListeners","newVal","oldName","newName","fullName","names","compareShape","isAncestorOf","stopBubble","cancelBubble","listeners","newEvents","oldEvents","topListeners","_getProtoListeners","selfListeners","ap","getAbsolutePosition","_getPointerById","bubbleEvent","_createDragElement","newNodePos","dbf","dragBoundFunc","bounded","setAbsolutePosition","draggable","_dragChange","_dragCleanup","_this4","hasDraggingChild","_listenDrag","dragElement","isReady","screenRect","data","container","parse","_createNode","no","Class","_attrsAffectingSize","rotateDeg","setRotationDeg","getRotationDeg","receiver","base","object","_createForOfIteratorHelper","allowArrayLike","F","done","_e","normalCompletion","didErr","step","next","_e2","_Node","Container","filterFunc","results","destroy","_len","_key","_validateAdd","hasChildren","destroyChildren","_generalFind","findOne","_descendants","valid","fn","_step","_iterator","clone","intersects","can","caching","_drawCachedSceneCanvas","_drawChildren","shouldDrawHit","_drawCachedHitCanvas","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipX","clipY","hasComposition","selfRect","Infinity","skipShadow","skipStroke","shapes","hasVisible","_transformedRect","_slicedToArray","_arr","_n","_d","_s","_i","_defineProperty","_mouse","_touch","_pointer","Captures","SUPPORT_POINTER_EVENTS","getCapturedShape","createEvent","PointerEvent","content","EVENTS","EVENTS_MAP","mouse","touch","pointer","getEventType","checkNoClip","stages","_Container","Stage","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","getType","isFastLayer","display","getElementsByClassName","getElementById","parentElement","removeChild","appendChild","layers","layerCanvas","getIntersection","bufferCanvas","bufferHitCanvas","draw","rest","_ref","_ref2","pointerenter","pointerover","evenType","targetShape","_getTargetShape","eventsEnabled","pointerout","pointerleave","pointerPos","triggeredOnShape","setPointerCapture","pointerdown","isTouch","preventDefault","cancelable","processedShapesIds","differentTarget","assign","pointermove","_this5","clickStartShape","clickEndShape","releaseCapture","fireDblClick","clearTimeout","pointerup","pointerclick","pointerdblclick","_this6","contentPosition","_getContentPosition","clientX","clientY","getBoundingClientRect","clientWidth","clientHeight","innerHTML","userSelect","setAttribute","dummyContext","getDummyContext","Shape","sceneFunc","hitFunc","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","pattern","fillPatternRepeat","fillPatternX","fillPatternY","fillPatternRotation","fillPatternScaleX","fillPatternScaleY","fillPatternOffsetX","fillPatternOffsetY","DOMMatrix","__getLinearGradient","fillLinearGradientColorStops","ctx","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","hasShadow","rgba","_calculate","strokeEnabled","strokeLinearGradientColorStops","forceFill","perfectDrawEnabled","hasFill","isTransparent","strokeForShadow","shadowForStrokeEnabled","_centroid","getSelfRect","applyStroke","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","bufferContext","drawFunc","getSceneFunc","skipBuffer","cachingSelf","_useBufferCanvas","_applyLineJoin","_applyShadow","hitImageData","hitData","rgbColorKey","alphaThreshold","hitWidth","hitHeight","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","Layer","_waitingForDraw","_setSmoothEnabled","createPNGStream","getHitCanvas","getNativeCanvasElement","insertBefore","moveToTop","moveUp","moveDown","moveToBottom","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","clearBeforeDraw","hitGraphEnabled","_Layer","FastLayer","Group","now","performance","getTime","Animation","animIdCounter","frame","time","timeDiff","lastTime","frameRate","setLayers","lays","animations","stop","_addAnimation","_removeAnimation","anim","_handleAnimation","layersLen","layerHash","_updateFrameObject","Anim","_runFrames","_animationLoop","animRunning","blacklist","duration","easing","onFinish","yoyo","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","reverse","play","update","state","getTimer","onEnterFrame","getPosition","setTime","Tween","nodeId","Easings","Linear","getLayers","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","diff","tweenId","trueEnd","trueStart","endRGBA","closed","startRGBA","onPlay","onReverse","onPause","seek","thisId","to","params","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","asin","pow","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","Global","_Shape","Arc","clockwise","outerRadius","innerRadius","fillStrokeShape","boundLeftRatio","boundTopRatio","boundBottomRatio","boundLeft","boundTop","boundBottom","_toConsumableArray","getControlPoints","x0","y0","d01","d12","fa","fb","expandPoints","tension","cp","allPoints","Line","tp","bezier","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","middle","item","getNumberArrayValidator","Path","dataArray","pathLength","parsePathData","ca","command","cx","cy","rx","ry","dTheta","psi","fs","inc","getPointOnEllipticalArc","_t","_t2","_point2","getPointOnCubicBezier","ii","getPointOnLine","getPointOnQuadraticBezier","P1x","P1y","P2x","P2y","fromX","fromY","run","rise","ix","iy","getLineLength","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","sinPsi","cs","cc","RegExp","coords","cpx","cpy","re","j","jlen","parsed","parseFloat","prevCmd","ctlPtx","ctlPty","cmd","startX","startY","idx","convertEndpointToCenterParameterization","calcLength","path","psiDeg","xp","yp","lambda","cxp","cyp","vMag","v","vRatio","vAngle","_Line","Arrow","PI2","fromTension","pointerLength","lp","lastLength","previous","atan2","pointerWidth","pointerAtEnding","__fillStroke","pointerAtBeginning","isDashEnabled","lineRect","Circle","radius","Ellipse","radiusX","radiusY","Image","_setImageLoad","image","complete","readyState","cropWidth","cropHeight","cropX","cropY","onError","onerror","crossOrigin","ATTR_CHANGE_LIST","attrChangeListLen","_Group","Label","_sync","getText","pointerDirection","pointerHeight","tag","getTag","Tag","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","direction","Rect","RegularPolygon","_getPoints","sides","PIx2","Ring","Sprite","_updated","updated","frameIndex","isRunning","interval","_setInterval","animation","ix4","offsets","frameOffsets","ix2","_updateIndex","getIndex","setIndex","Star","numPoints","stringToArray","string","Text","checkDefaultFill","_partialTextX","_partialTextY","_setTextData","textArr","textArrLen","fontSize","lineHeightPx","lineHeight","verticalAlign","alignY","align","totalWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","_getContextFont","spacesNumber","oneWord","lineWidth","lastLine","lastInParagraph","strokeStyle","array","li","letter","_partialText","measureSize","getTextWidth","textWidth","textHeight","metrics","font","fontStyle","fontVariant","fontFamily","hasSpace","trim","hasQuotes","_getTextWidth","lines","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","wrap","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","mid","substrWidth","wrapIndex","nextChar","lastIndexOf","trimRight","_addTextLine","trimLeft","partialText","TextPath","dummyCanvas","textBaseline","glyphInfo","p0","setText","_getTextSize","kerningFunc","textFullWidth","fullPathWidth","pathCmd","charArr","pIndex","currentT","getNextPathSegment","pathData","findSegmentToFitCharacter","glyphWidth","currLen","attempts","cumulativePathLength","needNewSegment","lettersInOffset","k","kern","midpoint","transposeX","transposeY","info","ANGLES","TOUCH_DEVICE","ANCHORS_NAMES","rotateAroundPoint","angleRad","rotateAroundCenter","deltaRad","getCenter","Transformer","_transforming","_createElements","_handleMouseMove","bind","_handleMouseUp","getNode","setNode","setNodes","_nodes","detach","useSingleNodeRotation","getAbsoluteRotation","onChange","_resetTransformCache","additionalEvents","_getEventNamespace","_proxyDrag","elementsCreated","lastPos","otherNode","otherAbs","_movingAnchorName","__getNodeRect","rot","relative","ignoreStroke","absScale","absPos","totalPoints","_getNodeRect","_createBack","_createAnchor","anchor","_handleMouseDown","cursor","anchorName","getCursor","_cursorChange","_this7","back","rotateEnabled","rotateAnchorOffset","shouldOverdrawWholeArea","hypotenuse","_anchorDragOffset","newHypotenuse","anchorNode","pp","oldAbs","anchorDragBoundFunc","newAbs","keepProportion","keepRatio","shiftKey","centeredScaling","altKey","comparePoint","reverseX","reverseY","topOffsetX","topOffsetY","bottomOffsetX","bottomOffsetY","move","_fitNodesInto","newRotation","tol","rotationSnapTolerance","snaps","newRotationRad","snapped","absDiff","getSnap","rotationSnaps","_removeEvents","removeEventListener","newAttrs","_this8","oldAttrs","allowNegativeScale","flipEnabled","_offset","_offset2","_offset3","boundBoxFunc","oldTr","newTr","parentTransform","localTransform","newLocalTransform","_this9","enabledAnchors","resizeEnabled","anchorSize","anchorStroke","anchorStrokeWidth","anchorFill","anchorCornerRadius","_batchChangeChild","borderEnabled","borderStroke","borderStrokeWidth","borderDash","lineEnabled","rotateHandlerOffset","enabledHandlers","Wedge","BlurStack","getAngleDeg","setAngleDeg","mul_table","shg_table","remap","fromValue","fromMin","fromMax","toMin","toMax","fromRange","toRange","pixelAt","idata","rgbDistance","Filters","Blur","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pg","pb","pa","rbs","pixels","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stack","stackIn","stackOut","mul_sum","shg_sum","filterGaussBlurRGBA","Brighten","brightness","Contrast","adjust","contrast","nPixels","Emboss","strength","embossStrength","greyLevel","embossWhiteLevel","embossDirection","blend","embossBlend","dirY","dirX","w","w4","otherY","offsetYOther","otherX","offsetOther","dR","dG","dB","dif","absDif","Enhance","nSubPixels","rMin","rMax","gMin","gMax","bMin","bMax","enhanceAmount","enhance","rMid","rGoalMax","rGoalMin","gMid","gGoalMax","gGoalMin","bMid","bGoalMax","bGoalMin","Grayscale","HSL","saturation","hue","luminance","vsu","vsw","rr","rg","rb","gr","gg","gb","br","bg","bb","HSV","Invert","Kaleidoscope","srcPos","dstPos","xSize","ySize","power","kaleidoscopePower","kaleidoscopeAngle","tempCanvas","scratchData","dst","opt","srcPixels","dstPixels","xMid","polarCenterX","yMid","polarCenterY","rSize","tSize","conversion","ToPolar","minSectionSize","sectionSize","xStart","xEnd","xDelta","phaseShift","polarRotation","FromPolar","Mask","mask","threshold","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","pTab","rgbMean","backgroundMask","applyMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","wt","smoothEdgeMask","dilateMask","erodeMask","Noise","amount","noise","half","Pixelate","alpha","xBinStart","xBinEnd","yBinStart","yBinEnd","xBin","yBin","pixelsInBin","pixelSize","nBinsX","nBinsY","Posterize","levels","RGB","RGBA","ia","Sepia","Solarize","Threshold","level","createStage","stageWidth","ground","elevations","mountain","drawMountain","moon","drawMoon","DesktopIndex","React","finishTypingIntro","setFinishTypingIntro","DesktopContent","HeaderContainer","Header","Index","headerName","ContentContainer","BioContainer","onDoubleClick","intro","ComputerContainer","ComputerContent","ref","DashedContainer","PlayerContainer","startingPosition","endingPosition","rotateArm","PlayerArm","isArmRotating","css","Player","MobileIndex","isPlayingMusic","setIsPlayingMusic","currentSongIndex","setCurrentSongIndex","currentSong","AudioUrls","MobileContainer","mobileHeaderName","RecordPlayerContainer","StyledRecordPlayer","onClick","HiddenAudio","autoPlay","nextIndex","PlayerComponents","arm","playerWithoutArm","audio","ResponsiveBreakpoint","desktopView","mobileView","breakpoint","currentView","setView","useLayoutEffect","outerWidth","Footer","footer","MobileBreakpoint","TerminalScreenFrame","IndexPage","href","EMAILME","GALAKSIJA_ARTICLE","$export","P","aFunction","anObject","fails","rConstruct","NEW_TARGET_BUG","ARGS_BUG","S","Target","newTarget","$args","proto","Function"],"mappings":"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K,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACnwCC,GAAY,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,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","file":"component---src-pages-index-tsx-76b78f41ab5f87439c6f.js","sourcesContent":["'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nvar PI_OVER_180 = Math.PI / 180;\n\nfunction detectBrowser() {\n  return typeof window !== 'undefined' && ({}.toString.call(window) === '[object Window]' || {}.toString.call(window) === '[object global]');\n}\n\nexport var glob = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof WorkerGlobalScope !== 'undefined' ? self : {};\nexport var Konva = {\n  _global: glob,\n  version: '8.3.9',\n  isBrowser: detectBrowser(),\n  isUnminified: /param/.test(function (param) {}.toString()),\n  dblClickWindow: 400,\n  getAngle: function getAngle(angle) {\n    return Konva.angleDeg ? angle * PI_OVER_180 : angle;\n  },\n  enableTrace: false,\n  pointerEventsEnabled: true,\n  autoDrawEnabled: true,\n  hitOnDragEnabled: false,\n  capturePointerEventsEnabled: false,\n  _mouseListenClick: false,\n  _touchListenClick: false,\n  _pointerListenClick: false,\n  _mouseInDblClickWindow: false,\n  _touchInDblClickWindow: false,\n  _pointerInDblClickWindow: false,\n  _mouseDblClickPointerId: null,\n  _touchDblClickPointerId: null,\n  _pointerDblClickPointerId: null,\n  pixelRatio: typeof window !== 'undefined' && window.devicePixelRatio || 1,\n  dragDistance: 3,\n  angleDeg: true,\n  showWarnings: true,\n  dragButtons: [0, 1],\n  isDragging: function isDragging() {\n    return Konva['DD'].isDragging;\n  },\n  isDragReady: function isDragReady() {\n    return !!Konva['DD'].node;\n  },\n  document: glob.document,\n  _injectGlobal: function _injectGlobal(Konva) {\n    glob.Konva = Konva;\n  }\n};\nexport var _registerNode = function _registerNode(NodeClass) {\n  Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\n\nKonva._injectGlobal(Konva);","import React, { FC } from \"react\"\nimport styled from \"styled-components\"\nimport { Computer } from \"../constants/siteConstants\"\n\nexport const AsciiComputer: FC = ({ children }) => {\n  return (\n    <div>\n      <div>\n        <ComputerPart>{Computer.top}</ComputerPart>\n      </div>\n      <div>\n        <ComputerPart>{Computer.left}</ComputerPart>\n        <ComputerScreen>{children}</ComputerScreen>\n        <ComputerPart>{Computer.right}</ComputerPart>\n      </div>\n      <div>\n        <ComputerPart>{Computer.bottom}</ComputerPart>\n      </div>\n    </div>\n  )\n}\n\nconst ComputerScreen = styled.div`\n  display: inline-block;\n  width: 15vw;\n  height: 7vw;\n`\n\nconst ComputerPart = styled.pre`\n  color: white;\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n`\n","import React, { FC, HTMLAttributes, useState, useEffect, useRef } from \"react\"\nimport styled, { keyframes } from \"styled-components\"\n\ninterface Props extends HTMLAttributes<HTMLDivElement> {\n  text: string\n  startTyping: boolean\n  delay?: number\n  onComplete?: () => void\n  finishTyping: boolean\n}\n\nexport const CursorRow: FC<Props> = ({\n  text,\n  startTyping,\n  className = \"\",\n  delay = 50,\n  onComplete = () => undefined,\n  finishTyping,\n}) => {\n  const [typedText, setTypedText] = useState(\"\")\n  const callback = useRef<() => void>()\n\n  useEffect(() => {\n    callback.current = (): void => {\n      if (text === typedText) {\n        onComplete()\n        return\n      } else {\n        const currentIndex = typedText.length\n        setTypedText(t => t + text[currentIndex])\n      }\n    }\n  }, [text, typedText])\n\n  useEffect(() => {\n    if (startTyping) {\n      const tick = () => {\n        callback.current?.()\n      }\n\n      const intervalId = setInterval(tick, delay)\n      return () => clearInterval(intervalId)\n    }\n  }, [startTyping])\n\n  useEffect(() => {\n    if (finishTyping) {\n      setTypedText(text)\n    }\n  }, [finishTyping])\n\n  return (\n    <div className={className}>\n      <TextContainer>{typedText}</TextContainer>\n      {startTyping && <Cursor />}\n    </div>\n  )\n}\n\nconst TextContainer = styled.span`\n  &::selection {\n    background-color: white;\n    color: black;\n  }\n`\n\nconst Blinking = keyframes`\n  from {\n    background-color: white;\n  }\n\n  to {\n    background-color: black;\n  }\n`\n\nconst Cursor = styled.div`\n  display: inline-block;\n  background-color: white;\n  height: 23px;\n  width: 10px;\n  animation: ${Blinking} 1s linear infinite;\n  vertical-align: text-top;\n`\n","import React, { FC, useCallback, useEffect, useState } from \"react\"\nimport { CursorRow } from \"./CursorRow\"\n\ninterface IOwnProps {\n  contentItems: string[]\n  finishTyping?: boolean\n}\n\nexport const CursorRowGroup: FC<IOwnProps> = ({\n  contentItems,\n  finishTyping = false,\n}) => {\n  const [startTypingIndex, setStartTypingIndex] = useState(0)\n\n  const onFinishTypingRow = useCallback(() => {\n    setStartTypingIndex(startTypingIndex + 1)\n  }, [startTypingIndex, setStartTypingIndex])\n\n  useEffect(() => {\n    if (finishTyping) {\n      setStartTypingIndex(contentItems.length)\n    }\n  }, [finishTyping])\n\n  return (\n    <>\n      {contentItems.map((section, index) => (\n        <CursorRow\n          text={section}\n          key={index}\n          startTyping={startTypingIndex === index}\n          onComplete={onFinishTypingRow}\n          finishTyping={finishTyping}\n        />\n      ))}\n    </>\n  )\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _toArray from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/toArray\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Konva } from './Global.js';\nexport var Transform = /*#__PURE__*/function () {\n  function Transform() {\n    var m = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [1, 0, 0, 1, 0, 0];\n\n    _classCallCheck(this, Transform);\n\n    this.dirty = false;\n    this.m = m && m.slice() || [1, 0, 0, 1, 0, 0];\n  }\n\n  _createClass(Transform, [{\n    key: \"reset\",\n    value: function reset() {\n      this.m[0] = 1;\n      this.m[1] = 0;\n      this.m[2] = 0;\n      this.m[3] = 1;\n      this.m[4] = 0;\n      this.m[5] = 0;\n    }\n  }, {\n    key: \"copy\",\n    value: function copy() {\n      return new Transform(this.m);\n    }\n  }, {\n    key: \"copyInto\",\n    value: function copyInto(tr) {\n      tr.m[0] = this.m[0];\n      tr.m[1] = this.m[1];\n      tr.m[2] = this.m[2];\n      tr.m[3] = this.m[3];\n      tr.m[4] = this.m[4];\n      tr.m[5] = this.m[5];\n    }\n  }, {\n    key: \"point\",\n    value: function point(_point) {\n      var m = this.m;\n      return {\n        x: m[0] * _point.x + m[2] * _point.y + m[4],\n        y: m[1] * _point.x + m[3] * _point.y + m[5]\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(x, y) {\n      this.m[4] += this.m[0] * x + this.m[2] * y;\n      this.m[5] += this.m[1] * x + this.m[3] * y;\n      return this;\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(sx, sy) {\n      this.m[0] *= sx;\n      this.m[1] *= sx;\n      this.m[2] *= sy;\n      this.m[3] *= sy;\n      return this;\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(rad) {\n      var c = Math.cos(rad);\n      var s = Math.sin(rad);\n      var m11 = this.m[0] * c + this.m[2] * s;\n      var m12 = this.m[1] * c + this.m[3] * s;\n      var m21 = this.m[0] * -s + this.m[2] * c;\n      var m22 = this.m[1] * -s + this.m[3] * c;\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n      return this;\n    }\n  }, {\n    key: \"getTranslation\",\n    value: function getTranslation() {\n      return {\n        x: this.m[4],\n        y: this.m[5]\n      };\n    }\n  }, {\n    key: \"skew\",\n    value: function skew(sx, sy) {\n      var m11 = this.m[0] + this.m[2] * sy;\n      var m12 = this.m[1] + this.m[3] * sy;\n      var m21 = this.m[2] + this.m[0] * sx;\n      var m22 = this.m[3] + this.m[1] * sx;\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n      return this;\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(matrix) {\n      var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n      var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n      var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n      var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n      var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n      var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n      this.m[4] = dx;\n      this.m[5] = dy;\n      return this;\n    }\n  }, {\n    key: \"invert\",\n    value: function invert() {\n      var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n      var m0 = this.m[3] * d;\n      var m1 = -this.m[1] * d;\n      var m2 = -this.m[2] * d;\n      var m3 = this.m[0] * d;\n      var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n      var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n      this.m[0] = m0;\n      this.m[1] = m1;\n      this.m[2] = m2;\n      this.m[3] = m3;\n      this.m[4] = m4;\n      this.m[5] = m5;\n      return this;\n    }\n  }, {\n    key: \"getMatrix\",\n    value: function getMatrix() {\n      return this.m;\n    }\n  }, {\n    key: \"decompose\",\n    value: function decompose() {\n      var a = this.m[0];\n      var b = this.m[1];\n      var c = this.m[2];\n      var d = this.m[3];\n      var e = this.m[4];\n      var f = this.m[5];\n      var delta = a * d - b * c;\n      var result = {\n        x: e,\n        y: f,\n        rotation: 0,\n        scaleX: 0,\n        scaleY: 0,\n        skewX: 0,\n        skewY: 0\n      };\n\n      if (a != 0 || b != 0) {\n        var r = Math.sqrt(a * a + b * b);\n        result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n        result.scaleX = r;\n        result.scaleY = delta / r;\n        result.skewX = (a * c + b * d) / delta;\n        result.skewY = 0;\n      } else if (c != 0 || d != 0) {\n        var s = Math.sqrt(c * c + d * d);\n        result.rotation = Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n        result.scaleX = delta / s;\n        result.scaleY = s;\n        result.skewX = 0;\n        result.skewY = (a * c + b * d) / delta;\n      } else {}\n\n      result.rotation = Util._getRotation(result.rotation);\n      return result;\n    }\n  }]);\n\n  return Transform;\n}();\nvar OBJECT_ARRAY = '[object Array]',\n    OBJECT_NUMBER = '[object Number]',\n    OBJECT_STRING = '[object String]',\n    OBJECT_BOOLEAN = '[object Boolean]',\n    PI_OVER_DEG180 = Math.PI / 180,\n    DEG180_OVER_PI = 180 / Math.PI,\n    HASH = '#',\n    EMPTY_STRING = '',\n    ZERO = '0',\n    KONVA_WARNING = 'Konva warning: ',\n    KONVA_ERROR = 'Konva error: ',\n    RGB_PAREN = 'rgb(',\n    COLORS = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 132, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 255, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  grey: [128, 128, 128],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 203],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  rebeccapurple: [102, 51, 153],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [119, 128, 144],\n  slategrey: [119, 128, 144],\n  snow: [255, 255, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  transparent: [255, 255, 255, 0],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 5]\n},\n    RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/,\n    animQueue = [];\n\nvar req = typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame || function (f) {\n  setTimeout(f, 60);\n};\n\nexport var Util = {\n  _isElement: function _isElement(obj) {\n    return !!(obj && obj.nodeType == 1);\n  },\n  _isFunction: function _isFunction(obj) {\n    return !!(obj && obj.constructor && obj.call && obj.apply);\n  },\n  _isPlainObject: function _isPlainObject(obj) {\n    return !!obj && obj.constructor === Object;\n  },\n  _isArray: function _isArray(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n  },\n  _isNumber: function _isNumber(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_NUMBER && !isNaN(obj) && isFinite(obj);\n  },\n  _isString: function _isString(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_STRING;\n  },\n  _isBoolean: function _isBoolean(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n  },\n  isObject: function isObject(val) {\n    return val instanceof Object;\n  },\n  isValidSelector: function isValidSelector(selector) {\n    if (typeof selector !== 'string') {\n      return false;\n    }\n\n    var firstChar = selector[0];\n    return firstChar === '#' || firstChar === '.' || firstChar === firstChar.toUpperCase();\n  },\n  _sign: function _sign(number) {\n    if (number === 0) {\n      return 1;\n    }\n\n    if (number > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  },\n  requestAnimFrame: function requestAnimFrame(callback) {\n    animQueue.push(callback);\n\n    if (animQueue.length === 1) {\n      req(function () {\n        var queue = animQueue;\n        animQueue = [];\n        queue.forEach(function (cb) {\n          cb();\n        });\n      });\n    }\n  },\n  createCanvasElement: function createCanvasElement() {\n    var canvas = document.createElement('canvas');\n\n    try {\n      canvas.style = canvas.style || {};\n    } catch (e) {}\n\n    return canvas;\n  },\n  createImageElement: function createImageElement() {\n    return document.createElement('img');\n  },\n  _isInDocument: function _isInDocument(el) {\n    while (el = el.parentNode) {\n      if (el == document) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _urlToImage: function _urlToImage(url, callback) {\n    var imageObj = Util.createImageElement();\n\n    imageObj.onload = function () {\n      callback(imageObj);\n    };\n\n    imageObj.src = url;\n  },\n  _rgbToHex: function _rgbToHex(r, g, b) {\n    return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n  },\n  _hexToRgb: function _hexToRgb(hex) {\n    hex = hex.replace(HASH, EMPTY_STRING);\n    var bigint = parseInt(hex, 16);\n    return {\n      r: bigint >> 16 & 255,\n      g: bigint >> 8 & 255,\n      b: bigint & 255\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    var randColor = (Math.random() * 0xffffff << 0).toString(16);\n\n    while (randColor.length < 6) {\n      randColor = ZERO + randColor;\n    }\n\n    return HASH + randColor;\n  },\n  getRGB: function getRGB(color) {\n    var rgb;\n\n    if (color in COLORS) {\n      rgb = COLORS[color];\n      return {\n        r: rgb[0],\n        g: rgb[1],\n        b: rgb[2]\n      };\n    } else if (color[0] === HASH) {\n      return this._hexToRgb(color.substring(1));\n    } else if (color.substr(0, 4) === RGB_PAREN) {\n      rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n      return {\n        r: parseInt(rgb[1], 10),\n        g: parseInt(rgb[2], 10),\n        b: parseInt(rgb[3], 10)\n      };\n    } else {\n      return {\n        r: 0,\n        g: 0,\n        b: 0\n      };\n    }\n  },\n  colorToRGBA: function colorToRGBA(str) {\n    str = str || 'black';\n    return Util._namedColorToRBA(str) || Util._hex3ColorToRGBA(str) || Util._hex6ColorToRGBA(str) || Util._rgbColorToRGBA(str) || Util._rgbaColorToRGBA(str) || Util._hslColorToRGBA(str);\n  },\n  _namedColorToRBA: function _namedColorToRBA(str) {\n    var c = COLORS[str.toLowerCase()];\n\n    if (!c) {\n      return null;\n    }\n\n    return {\n      r: c[0],\n      g: c[1],\n      b: c[2],\n      a: 1\n    };\n  },\n  _rgbColorToRGBA: function _rgbColorToRGBA(str) {\n    if (str.indexOf('rgb(') === 0) {\n      str = str.match(/rgb\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(Number);\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: 1\n      };\n    }\n  },\n  _rgbaColorToRGBA: function _rgbaColorToRGBA(str) {\n    if (str.indexOf('rgba(') === 0) {\n      str = str.match(/rgba\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(function (n, index) {\n        if (n.slice(-1) === '%') {\n          return index === 3 ? parseInt(n) / 100 : parseInt(n) / 100 * 255;\n        }\n\n        return Number(n);\n      });\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: parts[3]\n      };\n    }\n  },\n  _hex6ColorToRGBA: function _hex6ColorToRGBA(str) {\n    if (str[0] === '#' && str.length === 7) {\n      return {\n        r: parseInt(str.slice(1, 3), 16),\n        g: parseInt(str.slice(3, 5), 16),\n        b: parseInt(str.slice(5, 7), 16),\n        a: 1\n      };\n    }\n  },\n  _hex3ColorToRGBA: function _hex3ColorToRGBA(str) {\n    if (str[0] === '#' && str.length === 4) {\n      return {\n        r: parseInt(str[1] + str[1], 16),\n        g: parseInt(str[2] + str[2], 16),\n        b: parseInt(str[3] + str[3], 16),\n        a: 1\n      };\n    }\n  },\n  _hslColorToRGBA: function _hslColorToRGBA(str) {\n    if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n      var _$exec = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str),\n          _$exec2 = _toArray(_$exec),\n          _ = _$exec2[0],\n          hsl = _$exec2.slice(1);\n\n      var h = Number(hsl[0]) / 360;\n      var s = Number(hsl[1]) / 100;\n      var l = Number(hsl[2]) / 100;\n      var t2;\n      var t3;\n      var val;\n\n      if (s === 0) {\n        val = l * 255;\n        return {\n          r: Math.round(val),\n          g: Math.round(val),\n          b: Math.round(val),\n          a: 1\n        };\n      }\n\n      if (l < 0.5) {\n        t2 = l * (1 + s);\n      } else {\n        t2 = l + s - l * s;\n      }\n\n      var t1 = 2 * l - t2;\n      var rgb = [0, 0, 0];\n\n      for (var i = 0; i < 3; i++) {\n        t3 = h + 1 / 3 * -(i - 1);\n\n        if (t3 < 0) {\n          t3++;\n        }\n\n        if (t3 > 1) {\n          t3--;\n        }\n\n        if (6 * t3 < 1) {\n          val = t1 + (t2 - t1) * 6 * t3;\n        } else if (2 * t3 < 1) {\n          val = t2;\n        } else if (3 * t3 < 2) {\n          val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n        } else {\n          val = t1;\n        }\n\n        rgb[i] = val * 255;\n      }\n\n      return {\n        r: Math.round(rgb[0]),\n        g: Math.round(rgb[1]),\n        b: Math.round(rgb[2]),\n        a: 1\n      };\n    }\n  },\n  haveIntersection: function haveIntersection(r1, r2) {\n    return !(r2.x > r1.x + r1.width || r2.x + r2.width < r1.x || r2.y > r1.y + r1.height || r2.y + r2.height < r1.y);\n  },\n  cloneObject: function cloneObject(obj) {\n    var retObj = {};\n\n    for (var key in obj) {\n      if (this._isPlainObject(obj[key])) {\n        retObj[key] = this.cloneObject(obj[key]);\n      } else if (this._isArray(obj[key])) {\n        retObj[key] = this.cloneArray(obj[key]);\n      } else {\n        retObj[key] = obj[key];\n      }\n    }\n\n    return retObj;\n  },\n  cloneArray: function cloneArray(arr) {\n    return arr.slice(0);\n  },\n  degToRad: function degToRad(deg) {\n    return deg * PI_OVER_DEG180;\n  },\n  radToDeg: function radToDeg(rad) {\n    return rad * DEG180_OVER_PI;\n  },\n  _degToRad: function _degToRad(deg) {\n    Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n    return Util.degToRad(deg);\n  },\n  _radToDeg: function _radToDeg(rad) {\n    Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n    return Util.radToDeg(rad);\n  },\n  _getRotation: function _getRotation(radians) {\n    return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n  },\n  _capitalize: function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n  \"throw\": function _throw(str) {\n    throw new Error(KONVA_ERROR + str);\n  },\n  error: function error(str) {\n    console.error(KONVA_ERROR + str);\n  },\n  warn: function warn(str) {\n    if (!Konva.showWarnings) {\n      return;\n    }\n\n    console.warn(KONVA_WARNING + str);\n  },\n  each: function each(obj, func) {\n    for (var key in obj) {\n      func(key, obj[key]);\n    }\n  },\n  _inRange: function _inRange(val, left, right) {\n    return left <= val && val < right;\n  },\n  _getProjectionToSegment: function _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n    var x, y, dist;\n    var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n\n    if (pd2 == 0) {\n      x = x1;\n      y = y1;\n      dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n    } else {\n      var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n\n      if (u < 0) {\n        x = x1;\n        y = y1;\n        dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n      } else if (u > 1.0) {\n        x = x2;\n        y = y2;\n        dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n      } else {\n        x = x1 + u * (x2 - x1);\n        y = y1 + u * (y2 - y1);\n        dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n      }\n    }\n\n    return [x, y, dist];\n  },\n  _getProjectionToLine: function _getProjectionToLine(pt, line, isClosed) {\n    var pc = Util.cloneObject(pt);\n    var dist = Number.MAX_VALUE;\n    line.forEach(function (p1, i) {\n      if (!isClosed && i === line.length - 1) {\n        return;\n      }\n\n      var p2 = line[(i + 1) % line.length];\n\n      var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n\n      var px = proj[0],\n          py = proj[1],\n          pdist = proj[2];\n\n      if (pdist < dist) {\n        pc.x = px;\n        pc.y = py;\n        dist = pdist;\n      }\n    });\n    return pc;\n  },\n  _prepareArrayForTween: function _prepareArrayForTween(startArray, endArray, isClosed) {\n    var n,\n        start = [],\n        end = [];\n\n    if (startArray.length > endArray.length) {\n      var temp = endArray;\n      endArray = startArray;\n      startArray = temp;\n    }\n\n    for (n = 0; n < startArray.length; n += 2) {\n      start.push({\n        x: startArray[n],\n        y: startArray[n + 1]\n      });\n    }\n\n    for (n = 0; n < endArray.length; n += 2) {\n      end.push({\n        x: endArray[n],\n        y: endArray[n + 1]\n      });\n    }\n\n    var newStart = [];\n    end.forEach(function (point) {\n      var pr = Util._getProjectionToLine(point, start, isClosed);\n\n      newStart.push(pr.x);\n      newStart.push(pr.y);\n    });\n    return newStart;\n  },\n  _prepareToStringify: function _prepareToStringify(obj) {\n    var desc;\n    obj.visitedByCircularReferenceRemoval = true;\n\n    for (var key in obj) {\n      if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n        continue;\n      }\n\n      desc = Object.getOwnPropertyDescriptor(obj, key);\n\n      if (obj[key].visitedByCircularReferenceRemoval || Util._isElement(obj[key])) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      } else if (Util._prepareToStringify(obj[key]) === null) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      }\n    }\n\n    delete obj.visitedByCircularReferenceRemoval;\n    return obj;\n  },\n  _assign: function _assign(target, source) {\n    for (var key in source) {\n      target[key] = source[key];\n    }\n\n    return target;\n  },\n  _getFirstPointerId: function _getFirstPointerId(evt) {\n    if (!evt.touches) {\n      return evt.pointerId || 999;\n    } else {\n      return evt.changedTouches[0].identifier;\n    }\n  }\n};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport { Konva } from './Global.js';\nimport { Util } from './Util.js';\n\nfunction _formatValue(val) {\n  if (Util._isString(val)) {\n    return '\"' + val + '\"';\n  }\n\n  if (Object.prototype.toString.call(val) === '[object Number]') {\n    return val;\n  }\n\n  if (Util._isBoolean(val)) {\n    return val;\n  }\n\n  return Object.prototype.toString.call(val);\n}\n\nexport function RGBComponent(val) {\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  }\n\n  return Math.round(val);\n}\nexport function alphaComponent(val) {\n  if (val > 1) {\n    return 1;\n  } else if (val < 0.0001) {\n    return 0.0001;\n  }\n\n  return val;\n}\nexport function getNumberValidator() {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util._isNumber(val)) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a number.');\n      }\n\n      return val;\n    };\n  }\n}\nexport function getNumberOrArrayOfNumbersValidator(noOfElements) {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      var isNumber = Util._isNumber(val);\n\n      var isValidArray = Util._isArray(val) && val.length == noOfElements;\n\n      if (!isNumber && !isValidArray) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a number or Array<number>(' + noOfElements + ')');\n      }\n\n      return val;\n    };\n  }\n}\nexport function getNumberOrAutoValidator() {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      var isNumber = Util._isNumber(val);\n\n      var isAuto = val === 'auto';\n\n      if (!(isNumber || isAuto)) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a number or \"auto\".');\n      }\n\n      return val;\n    };\n  }\n}\nexport function getStringValidator() {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util._isString(val)) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a string.');\n      }\n\n      return val;\n    };\n  }\n}\nexport function getStringOrGradientValidator() {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      var isString = Util._isString(val);\n\n      var isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' || val && val.addColorStop;\n\n      if (!(isString || isGradient)) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a string or a native gradient.');\n      }\n\n      return val;\n    };\n  }\n}\nexport function getFunctionValidator() {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util._isFunction(val)) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a function.');\n      }\n\n      return val;\n    };\n  }\n}\nexport function getNumberArrayValidator() {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util._isArray(val)) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a array of numbers.');\n      } else {\n        val.forEach(function (item) {\n          if (!Util._isNumber(item)) {\n            Util.warn('\"' + attr + '\" attribute has non numeric element ' + item + '. Make sure that all elements are numbers.');\n          }\n        });\n      }\n\n      return val;\n    };\n  }\n}\nexport function getBooleanValidator() {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      var isBool = val === true || val === false;\n\n      if (!isBool) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a boolean.');\n      }\n\n      return val;\n    };\n  }\n}\nexport function getComponentValidator(components) {\n  if (Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util.isObject(val)) {\n        Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be an object with properties ' + components);\n      }\n\n      return val;\n    };\n  }\n}","import { Util } from './Util.js';\nimport { getComponentValidator } from './Validators.js';\nvar GET = 'get',\n    SET = 'set';\nexport var Factory = {\n  addGetterSetter: function addGetterSetter(constructor, attr, def, validator, after) {\n    Factory.addGetter(constructor, attr, def);\n    Factory.addSetter(constructor, attr, validator, after);\n    Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  addGetter: function addGetter(constructor, attr, def) {\n    var method = GET + Util._capitalize(attr);\n\n    constructor.prototype[method] = constructor.prototype[method] || function () {\n      var val = this.attrs[attr];\n      return val === undefined ? def : val;\n    };\n  },\n  addSetter: function addSetter(constructor, attr, validator, after) {\n    var method = SET + Util._capitalize(attr);\n\n    if (!constructor.prototype[method]) {\n      Factory.overWriteSetter(constructor, attr, validator, after);\n    }\n  },\n  overWriteSetter: function overWriteSetter(constructor, attr, validator, after) {\n    var method = SET + Util._capitalize(attr);\n\n    constructor.prototype[method] = function (val) {\n      if (validator && val !== undefined && val !== null) {\n        val = validator.call(this, val, attr);\n      }\n\n      this._setAttr(attr, val);\n\n      if (after) {\n        after.call(this);\n      }\n\n      return this;\n    };\n  },\n  addComponentsGetterSetter: function addComponentsGetterSetter(constructor, attr, components, validator, after) {\n    var len = components.length,\n        capitalize = Util._capitalize,\n        getter = GET + capitalize(attr),\n        setter = SET + capitalize(attr),\n        n,\n        component;\n\n    constructor.prototype[getter] = function () {\n      var ret = {};\n\n      for (n = 0; n < len; n++) {\n        component = components[n];\n        ret[component] = this.getAttr(attr + capitalize(component));\n      }\n\n      return ret;\n    };\n\n    var basicValidator = getComponentValidator(components);\n\n    constructor.prototype[setter] = function (val) {\n      var oldVal = this.attrs[attr],\n          key;\n\n      if (validator) {\n        val = validator.call(this, val);\n      }\n\n      if (basicValidator) {\n        basicValidator.call(this, val, attr);\n      }\n\n      for (key in val) {\n        if (!val.hasOwnProperty(key)) {\n          continue;\n        }\n\n        this._setAttr(attr + capitalize(key), val[key]);\n      }\n\n      this._fireChangeEvent(attr, oldVal, val);\n\n      if (after) {\n        after.call(this);\n      }\n\n      return this;\n    };\n\n    Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  addOverloadedGetterSetter: function addOverloadedGetterSetter(constructor, attr) {\n    var capitalizedAttr = Util._capitalize(attr),\n        setter = SET + capitalizedAttr,\n        getter = GET + capitalizedAttr;\n\n    constructor.prototype[attr] = function () {\n      if (arguments.length) {\n        this[setter](arguments[0]);\n        return this;\n      }\n\n      return this[getter]();\n    };\n  },\n  addDeprecatedGetterSetter: function addDeprecatedGetterSetter(constructor, attr, def, validator) {\n    Util.error('Adding deprecated ' + attr);\n\n    var method = GET + Util._capitalize(attr);\n\n    var message = attr + ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n\n    constructor.prototype[method] = function () {\n      Util.error(message);\n      var val = this.attrs[attr];\n      return val === undefined ? def : val;\n    };\n\n    Factory.addSetter(constructor, attr, validator, function () {\n      Util.error(message);\n    });\n    Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  backCompat: function backCompat(constructor, methods) {\n    Util.each(methods, function (oldMethodName, newMethodName) {\n      var method = constructor.prototype[newMethodName];\n\n      var oldGetter = GET + Util._capitalize(oldMethodName);\n\n      var oldSetter = SET + Util._capitalize(oldMethodName);\n\n      function deprecated() {\n        method.apply(this, arguments);\n        Util.error('\"' + oldMethodName + '\" method is deprecated and will be removed soon. Use \"\"' + newMethodName + '\" instead.');\n      }\n\n      constructor.prototype[oldMethodName] = deprecated;\n      constructor.prototype[oldGetter] = deprecated;\n      constructor.prototype[oldSetter] = deprecated;\n    });\n  },\n  afterSetFilter: function afterSetFilter() {\n    this._filterUpToDate = false;\n  }\n};","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.map\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from './Util.js';\nimport { Konva } from './Global.js';\n\nfunction simplifyArray(arr) {\n  var retArr = [],\n      len = arr.length,\n      util = Util,\n      n,\n      val;\n\n  for (n = 0; n < len; n++) {\n    val = arr[n];\n\n    if (util._isNumber(val)) {\n      val = Math.round(val * 1000) / 1000;\n    } else if (!util._isString(val)) {\n      val = val + '';\n    }\n\n    retArr.push(val);\n  }\n\n  return retArr;\n}\n\nvar COMMA = ',',\n    OPEN_PAREN = '(',\n    CLOSE_PAREN = ')',\n    OPEN_PAREN_BRACKET = '([',\n    CLOSE_BRACKET_PAREN = '])',\n    SEMICOLON = ';',\n    DOUBLE_PAREN = '()',\n    EQUALS = '=',\n    CONTEXT_METHODS = ['arc', 'arcTo', 'beginPath', 'bezierCurveTo', 'clearRect', 'clip', 'closePath', 'createLinearGradient', 'createPattern', 'createRadialGradient', 'drawImage', 'ellipse', 'fill', 'fillText', 'getImageData', 'createImageData', 'lineTo', 'moveTo', 'putImageData', 'quadraticCurveTo', 'rect', 'restore', 'rotate', 'save', 'scale', 'setLineDash', 'setTransform', 'stroke', 'strokeText', 'transform', 'translate'];\nvar CONTEXT_PROPERTIES = ['fillStyle', 'strokeStyle', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'lineCap', 'lineDashOffset', 'lineJoin', 'lineWidth', 'miterLimit', 'font', 'textAlign', 'textBaseline', 'globalAlpha', 'globalCompositeOperation', 'imageSmoothingEnabled'];\nvar traceArrMax = 100;\nexport var Context = /*#__PURE__*/function () {\n  function Context(canvas) {\n    _classCallCheck(this, Context);\n\n    this.canvas = canvas;\n    this._context = canvas._canvas.getContext('2d');\n\n    if (Konva.enableTrace) {\n      this.traceArr = [];\n\n      this._enableTrace();\n    }\n  }\n\n  _createClass(Context, [{\n    key: \"fillShape\",\n    value: function fillShape(shape) {\n      if (shape.fillEnabled()) {\n        this._fill(shape);\n      }\n    }\n  }, {\n    key: \"_fill\",\n    value: function _fill(shape) {}\n  }, {\n    key: \"strokeShape\",\n    value: function strokeShape(shape) {\n      if (shape.hasStroke()) {\n        this._stroke(shape);\n      }\n    }\n  }, {\n    key: \"_stroke\",\n    value: function _stroke(shape) {}\n  }, {\n    key: \"fillStrokeShape\",\n    value: function fillStrokeShape(shape) {\n      if (shape.attrs.fillAfterStrokeEnabled) {\n        this.strokeShape(shape);\n        this.fillShape(shape);\n      } else {\n        this.fillShape(shape);\n        this.strokeShape(shape);\n      }\n    }\n  }, {\n    key: \"getTrace\",\n    value: function getTrace(relaxed, rounded) {\n      var traceArr = this.traceArr,\n          len = traceArr.length,\n          str = '',\n          n,\n          trace,\n          method,\n          args;\n\n      for (n = 0; n < len; n++) {\n        trace = traceArr[n];\n        method = trace.method;\n\n        if (method) {\n          args = trace.args;\n          str += method;\n\n          if (relaxed) {\n            str += DOUBLE_PAREN;\n          } else {\n            if (Util._isArray(args[0])) {\n              str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n            } else {\n              if (rounded) {\n                args = args.map(function (a) {\n                  return typeof a === 'number' ? Math.floor(a) : a;\n                });\n              }\n\n              str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n            }\n          }\n        } else {\n          str += trace.property;\n\n          if (!relaxed) {\n            str += EQUALS + trace.val;\n          }\n        }\n\n        str += SEMICOLON;\n      }\n\n      return str;\n    }\n  }, {\n    key: \"clearTrace\",\n    value: function clearTrace() {\n      this.traceArr = [];\n    }\n  }, {\n    key: \"_trace\",\n    value: function _trace(str) {\n      var traceArr = this.traceArr,\n          len;\n      traceArr.push(str);\n      len = traceArr.length;\n\n      if (len >= traceArrMax) {\n        traceArr.shift();\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var pixelRatio = this.getCanvas().getPixelRatio();\n      this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      return this.canvas;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(bounds) {\n      var canvas = this.getCanvas();\n\n      if (bounds) {\n        this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n      } else {\n        this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n      }\n    }\n  }, {\n    key: \"_applyLineCap\",\n    value: function _applyLineCap(shape) {\n      var lineCap = shape.getLineCap();\n\n      if (lineCap) {\n        this.setAttr('lineCap', lineCap);\n      }\n    }\n  }, {\n    key: \"_applyOpacity\",\n    value: function _applyOpacity(shape) {\n      var absOpacity = shape.getAbsoluteOpacity();\n\n      if (absOpacity !== 1) {\n        this.setAttr('globalAlpha', absOpacity);\n      }\n    }\n  }, {\n    key: \"_applyLineJoin\",\n    value: function _applyLineJoin(shape) {\n      var lineJoin = shape.attrs.lineJoin;\n\n      if (lineJoin) {\n        this.setAttr('lineJoin', lineJoin);\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(attr, val) {\n      this._context[attr] = val;\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(a0, a1, a2, a3, a4, a5) {\n      this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n  }, {\n    key: \"arcTo\",\n    value: function arcTo(a0, a1, a2, a3, a4) {\n      this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n  }, {\n    key: \"beginPath\",\n    value: function beginPath() {\n      this._context.beginPath();\n    }\n  }, {\n    key: \"bezierCurveTo\",\n    value: function bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n      this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n  }, {\n    key: \"clearRect\",\n    value: function clearRect(a0, a1, a2, a3) {\n      this._context.clearRect(a0, a1, a2, a3);\n    }\n  }, {\n    key: \"clip\",\n    value: function clip() {\n      this._context.clip();\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._context.closePath();\n    }\n  }, {\n    key: \"createImageData\",\n    value: function createImageData(a0, a1) {\n      var a = arguments;\n\n      if (a.length === 2) {\n        return this._context.createImageData(a0, a1);\n      } else if (a.length === 1) {\n        return this._context.createImageData(a0);\n      }\n    }\n  }, {\n    key: \"createLinearGradient\",\n    value: function createLinearGradient(a0, a1, a2, a3) {\n      return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n  }, {\n    key: \"createPattern\",\n    value: function createPattern(a0, a1) {\n      return this._context.createPattern(a0, a1);\n    }\n  }, {\n    key: \"createRadialGradient\",\n    value: function createRadialGradient(a0, a1, a2, a3, a4, a5) {\n      return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n  }, {\n    key: \"drawImage\",\n    value: function drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n      var a = arguments,\n          _context = this._context;\n\n      if (a.length === 3) {\n        _context.drawImage(a0, a1, a2);\n      } else if (a.length === 5) {\n        _context.drawImage(a0, a1, a2, a3, a4);\n      } else if (a.length === 9) {\n        _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n      }\n    }\n  }, {\n    key: \"ellipse\",\n    value: function ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n      this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n  }, {\n    key: \"isPointInPath\",\n    value: function isPointInPath(x, y) {\n      return this._context.isPointInPath(x, y);\n    }\n  }, {\n    key: \"fill\",\n    value: function fill(path2d) {\n      if (path2d) {\n        this._context.fill(path2d);\n      } else {\n        this._context.fill();\n      }\n    }\n  }, {\n    key: \"fillRect\",\n    value: function fillRect(x, y, width, height) {\n      this._context.fillRect(x, y, width, height);\n    }\n  }, {\n    key: \"strokeRect\",\n    value: function strokeRect(x, y, width, height) {\n      this._context.strokeRect(x, y, width, height);\n    }\n  }, {\n    key: \"fillText\",\n    value: function fillText(text, x, y, maxWidth) {\n      if (maxWidth) {\n        this._context.fillText(text, x, y, maxWidth);\n      } else {\n        this._context.fillText(text, x, y);\n      }\n    }\n  }, {\n    key: \"measureText\",\n    value: function measureText(text) {\n      return this._context.measureText(text);\n    }\n  }, {\n    key: \"getImageData\",\n    value: function getImageData(a0, a1, a2, a3) {\n      return this._context.getImageData(a0, a1, a2, a3);\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(a0, a1) {\n      this._context.lineTo(a0, a1);\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(a0, a1) {\n      this._context.moveTo(a0, a1);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(a0, a1, a2, a3) {\n      this._context.rect(a0, a1, a2, a3);\n    }\n  }, {\n    key: \"putImageData\",\n    value: function putImageData(a0, a1, a2) {\n      this._context.putImageData(a0, a1, a2);\n    }\n  }, {\n    key: \"quadraticCurveTo\",\n    value: function quadraticCurveTo(a0, a1, a2, a3) {\n      this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n  }, {\n    key: \"restore\",\n    value: function restore() {\n      this._context.restore();\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(a0) {\n      this._context.rotate(a0);\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      this._context.save();\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(a0, a1) {\n      this._context.scale(a0, a1);\n    }\n  }, {\n    key: \"setLineDash\",\n    value: function setLineDash(a0) {\n      if (this._context.setLineDash) {\n        this._context.setLineDash(a0);\n      } else if ('mozDash' in this._context) {\n        this._context['mozDash'] = a0;\n      } else if ('webkitLineDash' in this._context) {\n        this._context['webkitLineDash'] = a0;\n      }\n    }\n  }, {\n    key: \"getLineDash\",\n    value: function getLineDash() {\n      return this._context.getLineDash();\n    }\n  }, {\n    key: \"setTransform\",\n    value: function setTransform(a0, a1, a2, a3, a4, a5) {\n      this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n  }, {\n    key: \"stroke\",\n    value: function stroke(path2d) {\n      if (path2d) {\n        this._context.stroke(path2d);\n      } else {\n        this._context.stroke();\n      }\n    }\n  }, {\n    key: \"strokeText\",\n    value: function strokeText(a0, a1, a2, a3) {\n      this._context.strokeText(a0, a1, a2, a3);\n    }\n  }, {\n    key: \"transform\",\n    value: function transform(a0, a1, a2, a3, a4, a5) {\n      this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(a0, a1) {\n      this._context.translate(a0, a1);\n    }\n  }, {\n    key: \"_enableTrace\",\n    value: function _enableTrace() {\n      var that = this,\n          len = CONTEXT_METHODS.length,\n          origSetter = this.setAttr,\n          n,\n          args;\n\n      var func = function func(methodName) {\n        var origMethod = that[methodName],\n            ret;\n\n        that[methodName] = function () {\n          args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n          ret = origMethod.apply(that, arguments);\n\n          that._trace({\n            method: methodName,\n            args: args\n          });\n\n          return ret;\n        };\n      };\n\n      for (n = 0; n < len; n++) {\n        func(CONTEXT_METHODS[n]);\n      }\n\n      that.setAttr = function () {\n        origSetter.apply(that, arguments);\n        var prop = arguments[0];\n        var val = arguments[1];\n\n        if (prop === 'shadowOffsetX' || prop === 'shadowOffsetY' || prop === 'shadowBlur') {\n          val = val / this.canvas.getPixelRatio();\n        }\n\n        that._trace({\n          property: prop,\n          val: val\n        });\n      };\n    }\n  }, {\n    key: \"_applyGlobalCompositeOperation\",\n    value: function _applyGlobalCompositeOperation(node) {\n      var op = node.attrs.globalCompositeOperation;\n      var def = !op || op === 'source-over';\n\n      if (!def) {\n        this.setAttr('globalCompositeOperation', op);\n      }\n    }\n  }]);\n\n  return Context;\n}();\nCONTEXT_PROPERTIES.forEach(function (prop) {\n  Object.defineProperty(Context.prototype, prop, {\n    get: function get() {\n      return this._context[prop];\n    },\n    set: function set(val) {\n      this._context[prop] = val;\n    }\n  });\n});\nexport var SceneContext = /*#__PURE__*/function (_Context) {\n  _inherits(SceneContext, _Context);\n\n  var _super = _createSuper(SceneContext);\n\n  function SceneContext() {\n    _classCallCheck(this, SceneContext);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SceneContext, [{\n    key: \"_fillColor\",\n    value: function _fillColor(shape) {\n      var fill = shape.fill();\n      this.setAttr('fillStyle', fill);\n\n      shape._fillFunc(this);\n    }\n  }, {\n    key: \"_fillPattern\",\n    value: function _fillPattern(shape) {\n      this.setAttr('fillStyle', shape._getFillPattern());\n\n      shape._fillFunc(this);\n    }\n  }, {\n    key: \"_fillLinearGradient\",\n    value: function _fillLinearGradient(shape) {\n      var grd = shape._getLinearGradient();\n\n      if (grd) {\n        this.setAttr('fillStyle', grd);\n\n        shape._fillFunc(this);\n      }\n    }\n  }, {\n    key: \"_fillRadialGradient\",\n    value: function _fillRadialGradient(shape) {\n      var grd = shape._getRadialGradient();\n\n      if (grd) {\n        this.setAttr('fillStyle', grd);\n\n        shape._fillFunc(this);\n      }\n    }\n  }, {\n    key: \"_fill\",\n    value: function _fill(shape) {\n      var hasColor = shape.fill(),\n          fillPriority = shape.getFillPriority();\n\n      if (hasColor && fillPriority === 'color') {\n        this._fillColor(shape);\n\n        return;\n      }\n\n      var hasPattern = shape.getFillPatternImage();\n\n      if (hasPattern && fillPriority === 'pattern') {\n        this._fillPattern(shape);\n\n        return;\n      }\n\n      var hasLinearGradient = shape.getFillLinearGradientColorStops();\n\n      if (hasLinearGradient && fillPriority === 'linear-gradient') {\n        this._fillLinearGradient(shape);\n\n        return;\n      }\n\n      var hasRadialGradient = shape.getFillRadialGradientColorStops();\n\n      if (hasRadialGradient && fillPriority === 'radial-gradient') {\n        this._fillRadialGradient(shape);\n\n        return;\n      }\n\n      if (hasColor) {\n        this._fillColor(shape);\n      } else if (hasPattern) {\n        this._fillPattern(shape);\n      } else if (hasLinearGradient) {\n        this._fillLinearGradient(shape);\n      } else if (hasRadialGradient) {\n        this._fillRadialGradient(shape);\n      }\n    }\n  }, {\n    key: \"_strokeLinearGradient\",\n    value: function _strokeLinearGradient(shape) {\n      var start = shape.getStrokeLinearGradientStartPoint(),\n          end = shape.getStrokeLinearGradientEndPoint(),\n          colorStops = shape.getStrokeLinearGradientColorStops(),\n          grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n\n      if (colorStops) {\n        for (var n = 0; n < colorStops.length; n += 2) {\n          grd.addColorStop(colorStops[n], colorStops[n + 1]);\n        }\n\n        this.setAttr('strokeStyle', grd);\n      }\n    }\n  }, {\n    key: \"_stroke\",\n    value: function _stroke(shape) {\n      var dash = shape.dash(),\n          strokeScaleEnabled = shape.getStrokeScaleEnabled();\n\n      if (shape.hasStroke()) {\n        if (!strokeScaleEnabled) {\n          this.save();\n          var pixelRatio = this.getCanvas().getPixelRatio();\n          this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        }\n\n        this._applyLineCap(shape);\n\n        if (dash && shape.dashEnabled()) {\n          this.setLineDash(dash);\n          this.setAttr('lineDashOffset', shape.dashOffset());\n        }\n\n        this.setAttr('lineWidth', shape.strokeWidth());\n\n        if (!shape.getShadowForStrokeEnabled()) {\n          this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n        }\n\n        var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n\n        if (hasLinearGradient) {\n          this._strokeLinearGradient(shape);\n        } else {\n          this.setAttr('strokeStyle', shape.stroke());\n        }\n\n        shape._strokeFunc(this);\n\n        if (!strokeScaleEnabled) {\n          this.restore();\n        }\n      }\n    }\n  }, {\n    key: \"_applyShadow\",\n    value: function _applyShadow(shape) {\n      var _a, _b, _c;\n\n      var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black',\n          blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5,\n          offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n        x: 0,\n        y: 0\n      },\n          scale = shape.getAbsoluteScale(),\n          ratio = this.canvas.getPixelRatio(),\n          scaleX = scale.x * ratio,\n          scaleY = scale.y * ratio;\n      this.setAttr('shadowColor', color);\n      this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n      this.setAttr('shadowOffsetX', offset.x * scaleX);\n      this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n  }]);\n\n  return SceneContext;\n}(Context);\nexport var HitContext = /*#__PURE__*/function (_Context2) {\n  _inherits(HitContext, _Context2);\n\n  var _super2 = _createSuper(HitContext);\n\n  function HitContext() {\n    _classCallCheck(this, HitContext);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(HitContext, [{\n    key: \"_fill\",\n    value: function _fill(shape) {\n      this.save();\n      this.setAttr('fillStyle', shape.colorKey);\n\n      shape._fillFuncHit(this);\n\n      this.restore();\n    }\n  }, {\n    key: \"strokeShape\",\n    value: function strokeShape(shape) {\n      if (shape.hasHitStroke()) {\n        this._stroke(shape);\n      }\n    }\n  }, {\n    key: \"_stroke\",\n    value: function _stroke(shape) {\n      if (shape.hasHitStroke()) {\n        var strokeScaleEnabled = shape.getStrokeScaleEnabled();\n\n        if (!strokeScaleEnabled) {\n          this.save();\n          var pixelRatio = this.getCanvas().getPixelRatio();\n          this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        }\n\n        this._applyLineCap(shape);\n\n        var hitStrokeWidth = shape.hitStrokeWidth();\n        var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n        this.setAttr('lineWidth', strokeWidth);\n        this.setAttr('strokeStyle', shape.colorKey);\n\n        shape._strokeFuncHit(this);\n\n        if (!strokeScaleEnabled) {\n          this.restore();\n        }\n      }\n    }\n  }]);\n\n  return HitContext;\n}(Context);","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _assertThisInitialized from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from './Util.js';\nimport { SceneContext, HitContext } from './Context.js';\nimport { Konva } from './Global.js';\nimport { Factory } from './Factory.js';\nimport { getNumberValidator } from './Validators.js';\n\nvar _pixelRatio;\n\nfunction getDevicePixelRatio() {\n  if (_pixelRatio) {\n    return _pixelRatio;\n  }\n\n  var canvas = Util.createCanvasElement();\n  var context = canvas.getContext('2d');\n\n  _pixelRatio = function () {\n    var devicePixelRatio = Konva._global.devicePixelRatio || 1,\n        backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n    return devicePixelRatio / backingStoreRatio;\n  }();\n\n  return _pixelRatio;\n}\n\nexport var Canvas = /*#__PURE__*/function () {\n  function Canvas(config) {\n    _classCallCheck(this, Canvas);\n\n    this.pixelRatio = 1;\n    this.width = 0;\n    this.height = 0;\n    this.isCache = false;\n    var conf = config || {};\n    var pixelRatio = conf.pixelRatio || Konva.pixelRatio || getDevicePixelRatio();\n    this.pixelRatio = pixelRatio;\n    this._canvas = Util.createCanvasElement();\n    this._canvas.style.padding = '0';\n    this._canvas.style.margin = '0';\n    this._canvas.style.border = '0';\n    this._canvas.style.background = 'transparent';\n    this._canvas.style.position = 'absolute';\n    this._canvas.style.top = '0';\n    this._canvas.style.left = '0';\n  }\n\n  _createClass(Canvas, [{\n    key: \"getContext\",\n    value: function getContext() {\n      return this.context;\n    }\n  }, {\n    key: \"getPixelRatio\",\n    value: function getPixelRatio() {\n      return this.pixelRatio;\n    }\n  }, {\n    key: \"setPixelRatio\",\n    value: function setPixelRatio(pixelRatio) {\n      var previousRatio = this.pixelRatio;\n      this.pixelRatio = pixelRatio;\n      this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      this.width = this._canvas.width = width * this.pixelRatio;\n      this._canvas.style.width = width + 'px';\n\n      var pixelRatio = this.pixelRatio,\n          _context = this.getContext()._context;\n\n      _context.scale(pixelRatio, pixelRatio);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.height = this._canvas.height = height * this.pixelRatio;\n      this._canvas.style.height = height + 'px';\n\n      var pixelRatio = this.pixelRatio,\n          _context = this.getContext()._context;\n\n      _context.scale(pixelRatio, pixelRatio);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.width;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.height;\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(width, height) {\n      this.setWidth(width || 0);\n      this.setHeight(height || 0);\n    }\n  }, {\n    key: \"toDataURL\",\n    value: function toDataURL(mimeType, quality) {\n      try {\n        return this._canvas.toDataURL(mimeType, quality);\n      } catch (e) {\n        try {\n          return this._canvas.toDataURL();\n        } catch (err) {\n          Util.error('Unable to get data URL. ' + err.message + ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n          return '';\n        }\n      }\n    }\n  }]);\n\n  return Canvas;\n}();\nFactory.addGetterSetter(Canvas, 'pixelRatio', undefined, getNumberValidator());\nexport var SceneCanvas = /*#__PURE__*/function (_Canvas) {\n  _inherits(SceneCanvas, _Canvas);\n\n  var _super = _createSuper(SceneCanvas);\n\n  function SceneCanvas() {\n    var _this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      width: 0,\n      height: 0\n    };\n\n    _classCallCheck(this, SceneCanvas);\n\n    _this = _super.call(this, config);\n    _this.context = new SceneContext(_assertThisInitialized(_this));\n\n    _this.setSize(config.width, config.height);\n\n    return _this;\n  }\n\n  return SceneCanvas;\n}(Canvas);\nexport var HitCanvas = /*#__PURE__*/function (_Canvas2) {\n  _inherits(HitCanvas, _Canvas2);\n\n  var _super2 = _createSuper(HitCanvas);\n\n  function HitCanvas() {\n    var _this2;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      width: 0,\n      height: 0\n    };\n\n    _classCallCheck(this, HitCanvas);\n\n    _this2 = _super2.call(this, config);\n    _this2.hitCanvas = true;\n    _this2.context = new HitContext(_assertThisInitialized(_this2));\n\n    _this2.setSize(config.width, config.height);\n\n    return _this2;\n  }\n\n  return HitCanvas;\n}(Canvas);","import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.array.for-each\";\nimport { Konva } from './Global.js';\nimport { Util } from './Util.js';\nexport var DD = {\n  get isDragging() {\n    var flag = false;\n\n    DD._dragElements.forEach(function (elem) {\n      if (elem.dragStatus === 'dragging') {\n        flag = true;\n      }\n    });\n\n    return flag;\n  },\n\n  justDragged: false,\n\n  get node() {\n    var node;\n\n    DD._dragElements.forEach(function (elem) {\n      node = elem.node;\n    });\n\n    return node;\n  },\n\n  _dragElements: new Map(),\n  _drag: function _drag(evt) {\n    var nodesToFireEvents = [];\n\n    DD._dragElements.forEach(function (elem, key) {\n      var node = elem.node;\n      var stage = node.getStage();\n      stage.setPointersPositions(evt);\n\n      if (elem.pointerId === undefined) {\n        elem.pointerId = Util._getFirstPointerId(evt);\n      }\n\n      var pos = stage._changedPointerPositions.find(function (pos) {\n        return pos.id === elem.pointerId;\n      });\n\n      if (!pos) {\n        return;\n      }\n\n      if (elem.dragStatus !== 'dragging') {\n        var dragDistance = node.dragDistance();\n        var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n\n        if (distance < dragDistance) {\n          return;\n        }\n\n        node.startDrag({\n          evt: evt\n        });\n\n        if (!node.isDragging()) {\n          return;\n        }\n      }\n\n      node._setDragPosition(evt, elem);\n\n      nodesToFireEvents.push(node);\n    });\n\n    nodesToFireEvents.forEach(function (node) {\n      node.fire('dragmove', {\n        type: 'dragmove',\n        target: node,\n        evt: evt\n      }, true);\n    });\n  },\n  _endDragBefore: function _endDragBefore(evt) {\n    DD._dragElements.forEach(function (elem) {\n      var node = elem.node;\n      var stage = node.getStage();\n\n      if (evt) {\n        stage.setPointersPositions(evt);\n      }\n\n      var pos = stage._changedPointerPositions.find(function (pos) {\n        return pos.id === elem.pointerId;\n      });\n\n      if (!pos) {\n        return;\n      }\n\n      if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n        DD.justDragged = true;\n        Konva._mouseListenClick = false;\n        Konva._touchListenClick = false;\n        Konva._pointerListenClick = false;\n        elem.dragStatus = 'stopped';\n      }\n\n      var drawNode = elem.node.getLayer() || elem.node instanceof Konva['Stage'] && elem.node;\n\n      if (drawNode) {\n        drawNode.batchDraw();\n      }\n    });\n  },\n  _endDragAfter: function _endDragAfter(evt) {\n    DD._dragElements.forEach(function (elem, key) {\n      if (elem.dragStatus === 'stopped') {\n        elem.node.fire('dragend', {\n          type: 'dragend',\n          target: elem.node,\n          evt: evt\n        }, true);\n      }\n\n      if (elem.dragStatus !== 'dragging') {\n        DD._dragElements[\"delete\"](key);\n      }\n    });\n  }\n};\n\nif (Konva.isBrowser) {\n  window.addEventListener('mouseup', DD._endDragBefore, true);\n  window.addEventListener('touchend', DD._endDragBefore, true);\n  window.addEventListener('mousemove', DD._drag);\n  window.addEventListener('touchmove', DD._drag);\n  window.addEventListener('mouseup', DD._endDragAfter, false);\n  window.addEventListener('touchend', DD._endDragAfter, false);\n}","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Util, Transform } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { Konva } from './Global.js';\nimport { DD } from './DragAndDrop.js';\nimport { getNumberValidator, getStringValidator, getBooleanValidator } from './Validators.js';\nvar ABSOLUTE_OPACITY = 'absoluteOpacity',\n    ALL_LISTENERS = 'allEventListeners',\n    ABSOLUTE_TRANSFORM = 'absoluteTransform',\n    ABSOLUTE_SCALE = 'absoluteScale',\n    CANVAS = 'canvas',\n    CHANGE = 'Change',\n    CHILDREN = 'children',\n    KONVA = 'konva',\n    LISTENING = 'listening',\n    MOUSEENTER = 'mouseenter',\n    MOUSELEAVE = 'mouseleave',\n    NAME = 'name',\n    SET = 'set',\n    SHAPE = 'Shape',\n    SPACE = ' ',\n    STAGE = 'stage',\n    TRANSFORM = 'transform',\n    UPPER_STAGE = 'Stage',\n    VISIBLE = 'visible',\n    TRANSFORM_CHANGE_STR = ['xChange.konva', 'yChange.konva', 'scaleXChange.konva', 'scaleYChange.konva', 'skewXChange.konva', 'skewYChange.konva', 'rotationChange.konva', 'offsetXChange.konva', 'offsetYChange.konva', 'transformsEnabledChange.konva'].join(SPACE);\nvar idCounter = 1;\nexport var Node = /*#__PURE__*/function () {\n  function Node(config) {\n    _classCallCheck(this, Node);\n\n    this._id = idCounter++;\n    this.eventListeners = {};\n    this.attrs = {};\n    this.index = 0;\n    this._allEventListeners = null;\n    this.parent = null;\n    this._cache = new Map();\n    this._attachedDepsListeners = new Map();\n    this._lastPos = null;\n    this._batchingTransformChange = false;\n    this._needClearTransformCache = false;\n    this._filterUpToDate = false;\n    this._isUnderCache = false;\n    this._dragEventId = null;\n    this._shouldFireChangeEvents = false;\n    this.setAttrs(config);\n    this._shouldFireChangeEvents = true;\n  }\n\n  _createClass(Node, [{\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return false;\n    }\n  }, {\n    key: \"_clearCache\",\n    value: function _clearCache(attr) {\n      if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) && this._cache.get(attr)) {\n        this._cache.get(attr).dirty = true;\n      } else if (attr) {\n        this._cache[\"delete\"](attr);\n      } else {\n        this._cache.clear();\n      }\n    }\n  }, {\n    key: \"_getCache\",\n    value: function _getCache(attr, privateGetter) {\n      var cache = this._cache.get(attr);\n\n      var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n      var invalid = cache === undefined || isTransform && cache.dirty === true;\n\n      if (invalid) {\n        cache = privateGetter.call(this);\n\n        this._cache.set(attr, cache);\n      }\n\n      return cache;\n    }\n  }, {\n    key: \"_calculate\",\n    value: function _calculate(name, deps, getter) {\n      var _this = this;\n\n      if (!this._attachedDepsListeners.get(name)) {\n        var depsString = deps.map(function (dep) {\n          return dep + 'Change.konva';\n        }).join(SPACE);\n        this.on(depsString, function () {\n          _this._clearCache(name);\n        });\n\n        this._attachedDepsListeners.set(name, true);\n      }\n\n      return this._getCache(name, getter);\n    }\n  }, {\n    key: \"_getCanvasCache\",\n    value: function _getCanvasCache() {\n      return this._cache.get(CANVAS);\n    }\n  }, {\n    key: \"_clearSelfAndDescendantCache\",\n    value: function _clearSelfAndDescendantCache(attr) {\n      this._clearCache(attr);\n\n      if (attr === ABSOLUTE_TRANSFORM) {\n        this.fire('absoluteTransformChange');\n      }\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this._cache[\"delete\"](CANVAS);\n\n      this._clearSelfAndDescendantCache();\n\n      this._requestDraw();\n\n      return this;\n    }\n  }, {\n    key: \"cache\",\n    value: function cache(config) {\n      var conf = config || {};\n      var rect = {};\n\n      if (conf.x === undefined || conf.y === undefined || conf.width === undefined || conf.height === undefined) {\n        rect = this.getClientRect({\n          skipTransform: true,\n          relativeTo: this.getParent()\n        });\n      }\n\n      var width = Math.ceil(conf.width || rect.width),\n          height = Math.ceil(conf.height || rect.height),\n          pixelRatio = conf.pixelRatio,\n          x = conf.x === undefined ? Math.floor(rect.x) : conf.x,\n          y = conf.y === undefined ? Math.floor(rect.y) : conf.y,\n          offset = conf.offset || 0,\n          drawBorder = conf.drawBorder || false,\n          hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n\n      if (!width || !height) {\n        Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n        return;\n      }\n\n      width += offset * 2 + 1;\n      height += offset * 2 + 1;\n      x -= offset;\n      y -= offset;\n      var cachedSceneCanvas = new SceneCanvas({\n        pixelRatio: pixelRatio,\n        width: width,\n        height: height\n      }),\n          cachedFilterCanvas = new SceneCanvas({\n        pixelRatio: pixelRatio,\n        width: 0,\n        height: 0\n      }),\n          cachedHitCanvas = new HitCanvas({\n        pixelRatio: hitCanvasPixelRatio,\n        width: width,\n        height: height\n      }),\n          sceneContext = cachedSceneCanvas.getContext(),\n          hitContext = cachedHitCanvas.getContext();\n      cachedHitCanvas.isCache = true;\n      cachedSceneCanvas.isCache = true;\n\n      this._cache[\"delete\"](CANVAS);\n\n      this._filterUpToDate = false;\n\n      if (conf.imageSmoothingEnabled === false) {\n        cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n        cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n      }\n\n      sceneContext.save();\n      hitContext.save();\n      sceneContext.translate(-x, -y);\n      hitContext.translate(-x, -y);\n      this._isUnderCache = true;\n\n      this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n\n      this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n\n      this.drawScene(cachedSceneCanvas, this);\n      this.drawHit(cachedHitCanvas, this);\n      this._isUnderCache = false;\n      sceneContext.restore();\n      hitContext.restore();\n\n      if (drawBorder) {\n        sceneContext.save();\n        sceneContext.beginPath();\n        sceneContext.rect(0, 0, width, height);\n        sceneContext.closePath();\n        sceneContext.setAttr('strokeStyle', 'red');\n        sceneContext.setAttr('lineWidth', 5);\n        sceneContext.stroke();\n        sceneContext.restore();\n      }\n\n      this._cache.set(CANVAS, {\n        scene: cachedSceneCanvas,\n        filter: cachedFilterCanvas,\n        hit: cachedHitCanvas,\n        x: x,\n        y: y\n      });\n\n      this._requestDraw();\n\n      return this;\n    }\n  }, {\n    key: \"isCached\",\n    value: function isCached() {\n      return this._cache.has(CANVAS);\n    }\n  }, {\n    key: \"getClientRect\",\n    value: function getClientRect(config) {\n      throw new Error('abstract \"getClientRect\" method call');\n    }\n  }, {\n    key: \"_transformedRect\",\n    value: function _transformedRect(rect, top) {\n      var points = [{\n        x: rect.x,\n        y: rect.y\n      }, {\n        x: rect.x + rect.width,\n        y: rect.y\n      }, {\n        x: rect.x + rect.width,\n        y: rect.y + rect.height\n      }, {\n        x: rect.x,\n        y: rect.y + rect.height\n      }];\n      var minX, minY, maxX, maxY;\n      var trans = this.getAbsoluteTransform(top);\n      points.forEach(function (point) {\n        var transformed = trans.point(point);\n\n        if (minX === undefined) {\n          minX = maxX = transformed.x;\n          minY = maxY = transformed.y;\n        }\n\n        minX = Math.min(minX, transformed.x);\n        minY = Math.min(minY, transformed.y);\n        maxX = Math.max(maxX, transformed.x);\n        maxY = Math.max(maxY, transformed.y);\n      });\n      return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY\n      };\n    }\n  }, {\n    key: \"_drawCachedSceneCanvas\",\n    value: function _drawCachedSceneCanvas(context) {\n      context.save();\n\n      context._applyOpacity(this);\n\n      context._applyGlobalCompositeOperation(this);\n\n      var canvasCache = this._getCanvasCache();\n\n      context.translate(canvasCache.x, canvasCache.y);\n\n      var cacheCanvas = this._getCachedSceneCanvas();\n\n      var ratio = cacheCanvas.pixelRatio;\n      context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n      context.restore();\n    }\n  }, {\n    key: \"_drawCachedHitCanvas\",\n    value: function _drawCachedHitCanvas(context) {\n      var canvasCache = this._getCanvasCache(),\n          hitCanvas = canvasCache.hit;\n\n      context.save();\n      context.translate(canvasCache.x, canvasCache.y);\n      context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n      context.restore();\n    }\n  }, {\n    key: \"_getCachedSceneCanvas\",\n    value: function _getCachedSceneCanvas() {\n      var filters = this.filters(),\n          cachedCanvas = this._getCanvasCache(),\n          sceneCanvas = cachedCanvas.scene,\n          filterCanvas = cachedCanvas.filter,\n          filterContext = filterCanvas.getContext(),\n          len,\n          imageData,\n          n,\n          filter;\n\n      if (filters) {\n        if (!this._filterUpToDate) {\n          var ratio = sceneCanvas.pixelRatio;\n          filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n\n          try {\n            len = filters.length;\n            filterContext.clear();\n            filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n            imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n\n            for (n = 0; n < len; n++) {\n              filter = filters[n];\n\n              if (typeof filter !== 'function') {\n                Util.error('Filter should be type of function, but got ' + typeof filter + ' instead. Please check correct filters');\n                continue;\n              }\n\n              filter.call(this, imageData);\n              filterContext.putImageData(imageData, 0, 0);\n            }\n          } catch (e) {\n            Util.error('Unable to apply filter. ' + e.message + ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n          }\n\n          this._filterUpToDate = true;\n        }\n\n        return filterCanvas;\n      }\n\n      return sceneCanvas;\n    }\n  }, {\n    key: \"on\",\n    value: function on(evtStr, handler) {\n      this._cache && this._cache[\"delete\"](ALL_LISTENERS);\n\n      if (arguments.length === 3) {\n        return this._delegate.apply(this, arguments);\n      }\n\n      var events = evtStr.split(SPACE),\n          len = events.length,\n          n,\n          event,\n          parts,\n          baseEvent,\n          name;\n\n      for (n = 0; n < len; n++) {\n        event = events[n];\n        parts = event.split('.');\n        baseEvent = parts[0];\n        name = parts[1] || '';\n\n        if (!this.eventListeners[baseEvent]) {\n          this.eventListeners[baseEvent] = [];\n        }\n\n        this.eventListeners[baseEvent].push({\n          name: name,\n          handler: handler\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(evtStr, callback) {\n      var events = (evtStr || '').split(SPACE),\n          len = events.length,\n          n,\n          t,\n          event,\n          parts,\n          baseEvent,\n          name;\n      this._cache && this._cache[\"delete\"](ALL_LISTENERS);\n\n      if (!evtStr) {\n        for (t in this.eventListeners) {\n          this._off(t);\n        }\n      }\n\n      for (n = 0; n < len; n++) {\n        event = events[n];\n        parts = event.split('.');\n        baseEvent = parts[0];\n        name = parts[1];\n\n        if (baseEvent) {\n          if (this.eventListeners[baseEvent]) {\n            this._off(baseEvent, name, callback);\n          }\n        } else {\n          for (t in this.eventListeners) {\n            this._off(t, name, callback);\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(evt) {\n      var e = {\n        target: this,\n        type: evt.type,\n        evt: evt\n      };\n      this.fire(evt.type, e);\n      return this;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(type, handler) {\n      this.on(type, function (evt) {\n        handler.call(this, evt.evt);\n      });\n      return this;\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type) {\n      this.off(type);\n      return this;\n    }\n  }, {\n    key: \"_delegate\",\n    value: function _delegate(event, selector, handler) {\n      var stopNode = this;\n      this.on(event, function (evt) {\n        var targets = evt.target.findAncestors(selector, true, stopNode);\n\n        for (var i = 0; i < targets.length; i++) {\n          evt = Util.cloneObject(evt);\n          evt.currentTarget = targets[i];\n          handler.call(targets[i], evt);\n        }\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.isDragging()) {\n        this.stopDrag();\n      }\n\n      DD._dragElements[\"delete\"](this._id);\n\n      this._remove();\n\n      return this;\n    }\n  }, {\n    key: \"_clearCaches\",\n    value: function _clearCaches() {\n      this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n\n      this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n\n      this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n\n      this._clearSelfAndDescendantCache(STAGE);\n\n      this._clearSelfAndDescendantCache(VISIBLE);\n\n      this._clearSelfAndDescendantCache(LISTENING);\n    }\n  }, {\n    key: \"_remove\",\n    value: function _remove() {\n      this._clearCaches();\n\n      var parent = this.getParent();\n\n      if (parent && parent.children) {\n        parent.children.splice(this.index, 1);\n\n        parent._setChildrenIndices();\n\n        this.parent = null;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.remove();\n      return this;\n    }\n  }, {\n    key: \"getAttr\",\n    value: function getAttr(attr) {\n      var method = 'get' + Util._capitalize(attr);\n\n      if (Util._isFunction(this[method])) {\n        return this[method]();\n      }\n\n      return this.attrs[attr];\n    }\n  }, {\n    key: \"getAncestors\",\n    value: function getAncestors() {\n      var parent = this.getParent(),\n          ancestors = [];\n\n      while (parent) {\n        ancestors.push(parent);\n        parent = parent.getParent();\n      }\n\n      return ancestors;\n    }\n  }, {\n    key: \"getAttrs\",\n    value: function getAttrs() {\n      return this.attrs || {};\n    }\n  }, {\n    key: \"setAttrs\",\n    value: function setAttrs(config) {\n      var _this2 = this;\n\n      this._batchTransformChanges(function () {\n        var key, method;\n\n        if (!config) {\n          return _this2;\n        }\n\n        for (key in config) {\n          if (key === CHILDREN) {\n            continue;\n          }\n\n          method = SET + Util._capitalize(key);\n\n          if (Util._isFunction(_this2[method])) {\n            _this2[method](config[key]);\n          } else {\n            _this2._setAttr(key, config[key]);\n          }\n        }\n      });\n\n      return this;\n    }\n  }, {\n    key: \"isListening\",\n    value: function isListening() {\n      return this._getCache(LISTENING, this._isListening);\n    }\n  }, {\n    key: \"_isListening\",\n    value: function _isListening(relativeTo) {\n      var listening = this.listening();\n\n      if (!listening) {\n        return false;\n      }\n\n      var parent = this.getParent();\n\n      if (parent && parent !== relativeTo && this !== relativeTo) {\n        return parent._isListening(relativeTo);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return this._getCache(VISIBLE, this._isVisible);\n    }\n  }, {\n    key: \"_isVisible\",\n    value: function _isVisible(relativeTo) {\n      var visible = this.visible();\n\n      if (!visible) {\n        return false;\n      }\n\n      var parent = this.getParent();\n\n      if (parent && parent !== relativeTo && this !== relativeTo) {\n        return parent._isVisible(relativeTo);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"shouldDrawHit\",\n    value: function shouldDrawHit(top) {\n      var skipDragCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (top) {\n        return this._isVisible(top) && this._isListening(top);\n      }\n\n      var layer = this.getLayer();\n      var layerUnderDrag = false;\n\n      DD._dragElements.forEach(function (elem) {\n        if (elem.dragStatus !== 'dragging') {\n          return;\n        } else if (elem.node.nodeType === 'Stage') {\n          layerUnderDrag = true;\n        } else if (elem.node.getLayer() === layer) {\n          layerUnderDrag = true;\n        }\n      });\n\n      var dragSkip = !skipDragCheck && !Konva.hitOnDragEnabled && layerUnderDrag;\n      return this.isListening() && this.isVisible() && !dragSkip;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.visible(true);\n      return this;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.visible(false);\n      return this;\n    }\n  }, {\n    key: \"getZIndex\",\n    value: function getZIndex() {\n      return this.index || 0;\n    }\n  }, {\n    key: \"getAbsoluteZIndex\",\n    value: function getAbsoluteZIndex() {\n      var depth = this.getDepth(),\n          that = this,\n          index = 0,\n          nodes,\n          len,\n          n,\n          child;\n\n      function addChildren(children) {\n        nodes = [];\n        len = children.length;\n\n        for (n = 0; n < len; n++) {\n          child = children[n];\n          index++;\n\n          if (child.nodeType !== SHAPE) {\n            nodes = nodes.concat(child.getChildren().slice());\n          }\n\n          if (child._id === that._id) {\n            n = len;\n          }\n        }\n\n        if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n          addChildren(nodes);\n        }\n      }\n\n      if (that.nodeType !== UPPER_STAGE) {\n        addChildren(that.getStage().getChildren());\n      }\n\n      return index;\n    }\n  }, {\n    key: \"getDepth\",\n    value: function getDepth() {\n      var depth = 0,\n          parent = this.parent;\n\n      while (parent) {\n        depth++;\n        parent = parent.parent;\n      }\n\n      return depth;\n    }\n  }, {\n    key: \"_batchTransformChanges\",\n    value: function _batchTransformChanges(func) {\n      this._batchingTransformChange = true;\n      func();\n      this._batchingTransformChange = false;\n\n      if (this._needClearTransformCache) {\n        this._clearCache(TRANSFORM);\n\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n      }\n\n      this._needClearTransformCache = false;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(pos) {\n      var _this3 = this;\n\n      this._batchTransformChanges(function () {\n        _this3.x(pos.x);\n\n        _this3.y(pos.y);\n      });\n\n      return this;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      return {\n        x: this.x(),\n        y: this.y()\n      };\n    }\n  }, {\n    key: \"getRelativePointerPosition\",\n    value: function getRelativePointerPosition() {\n      if (!this.getStage()) {\n        return null;\n      }\n\n      var pos = this.getStage().getPointerPosition();\n\n      if (!pos) {\n        return null;\n      }\n\n      var transform = this.getAbsoluteTransform().copy();\n      transform.invert();\n      return transform.point(pos);\n    }\n  }, {\n    key: \"getAbsolutePosition\",\n    value: function getAbsolutePosition(top) {\n      var haveCachedParent = false;\n      var parent = this.parent;\n\n      while (parent) {\n        if (parent.isCached()) {\n          haveCachedParent = true;\n          break;\n        }\n\n        parent = parent.parent;\n      }\n\n      if (haveCachedParent && !top) {\n        top = true;\n      }\n\n      var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(),\n          absoluteTransform = new Transform(),\n          offset = this.offset();\n      absoluteTransform.m = absoluteMatrix.slice();\n      absoluteTransform.translate(offset.x, offset.y);\n      return absoluteTransform.getTranslation();\n    }\n  }, {\n    key: \"setAbsolutePosition\",\n    value: function setAbsolutePosition(pos) {\n      var origTrans = this._clearTransform();\n\n      this.attrs.x = origTrans.x;\n      this.attrs.y = origTrans.y;\n      delete origTrans.x;\n      delete origTrans.y;\n\n      this._clearCache(TRANSFORM);\n\n      var it = this._getAbsoluteTransform().copy();\n\n      it.invert();\n      it.translate(pos.x, pos.y);\n      pos = {\n        x: this.attrs.x + it.getTranslation().x,\n        y: this.attrs.y + it.getTranslation().y\n      };\n\n      this._setTransform(origTrans);\n\n      this.setPosition({\n        x: pos.x,\n        y: pos.y\n      });\n\n      this._clearCache(TRANSFORM);\n\n      this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n\n      return this;\n    }\n  }, {\n    key: \"_setTransform\",\n    value: function _setTransform(trans) {\n      var key;\n\n      for (key in trans) {\n        this.attrs[key] = trans[key];\n      }\n    }\n  }, {\n    key: \"_clearTransform\",\n    value: function _clearTransform() {\n      var trans = {\n        x: this.x(),\n        y: this.y(),\n        rotation: this.rotation(),\n        scaleX: this.scaleX(),\n        scaleY: this.scaleY(),\n        offsetX: this.offsetX(),\n        offsetY: this.offsetY(),\n        skewX: this.skewX(),\n        skewY: this.skewY()\n      };\n      this.attrs.x = 0;\n      this.attrs.y = 0;\n      this.attrs.rotation = 0;\n      this.attrs.scaleX = 1;\n      this.attrs.scaleY = 1;\n      this.attrs.offsetX = 0;\n      this.attrs.offsetY = 0;\n      this.attrs.skewX = 0;\n      this.attrs.skewY = 0;\n      return trans;\n    }\n  }, {\n    key: \"move\",\n    value: function move(change) {\n      var changeX = change.x,\n          changeY = change.y,\n          x = this.x(),\n          y = this.y();\n\n      if (changeX !== undefined) {\n        x += changeX;\n      }\n\n      if (changeY !== undefined) {\n        y += changeY;\n      }\n\n      this.setPosition({\n        x: x,\n        y: y\n      });\n      return this;\n    }\n  }, {\n    key: \"_eachAncestorReverse\",\n    value: function _eachAncestorReverse(func, top) {\n      var family = [],\n          parent = this.getParent(),\n          len,\n          n;\n\n      if (top && top._id === this._id) {\n        return;\n      }\n\n      family.unshift(this);\n\n      while (parent && (!top || parent._id !== top._id)) {\n        family.unshift(parent);\n        parent = parent.parent;\n      }\n\n      len = family.length;\n\n      for (n = 0; n < len; n++) {\n        func(family[n]);\n      }\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(theta) {\n      this.rotation(this.rotation() + theta);\n      return this;\n    }\n  }, {\n    key: \"moveToTop\",\n    value: function moveToTop() {\n      if (!this.parent) {\n        Util.warn('Node has no parent. moveToTop function is ignored.');\n        return false;\n      }\n\n      var index = this.index,\n          len = this.parent.getChildren().length;\n\n      if (index < len - 1) {\n        this.parent.children.splice(index, 1);\n        this.parent.children.push(this);\n\n        this.parent._setChildrenIndices();\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      if (!this.parent) {\n        Util.warn('Node has no parent. moveUp function is ignored.');\n        return false;\n      }\n\n      var index = this.index,\n          len = this.parent.getChildren().length;\n\n      if (index < len - 1) {\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(index + 1, 0, this);\n\n        this.parent._setChildrenIndices();\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      if (!this.parent) {\n        Util.warn('Node has no parent. moveDown function is ignored.');\n        return false;\n      }\n\n      var index = this.index;\n\n      if (index > 0) {\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(index - 1, 0, this);\n\n        this.parent._setChildrenIndices();\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"moveToBottom\",\n    value: function moveToBottom() {\n      if (!this.parent) {\n        Util.warn('Node has no parent. moveToBottom function is ignored.');\n        return false;\n      }\n\n      var index = this.index;\n\n      if (index > 0) {\n        this.parent.children.splice(index, 1);\n        this.parent.children.unshift(this);\n\n        this.parent._setChildrenIndices();\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"setZIndex\",\n    value: function setZIndex(zIndex) {\n      if (!this.parent) {\n        Util.warn('Node has no parent. zIndex parameter is ignored.');\n        return this;\n      }\n\n      if (zIndex < 0 || zIndex >= this.parent.children.length) {\n        Util.warn('Unexpected value ' + zIndex + ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' + (this.parent.children.length - 1) + '.');\n      }\n\n      var index = this.index;\n      this.parent.children.splice(index, 1);\n      this.parent.children.splice(zIndex, 0, this);\n\n      this.parent._setChildrenIndices();\n\n      return this;\n    }\n  }, {\n    key: \"getAbsoluteOpacity\",\n    value: function getAbsoluteOpacity() {\n      return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n  }, {\n    key: \"_getAbsoluteOpacity\",\n    value: function _getAbsoluteOpacity() {\n      var absOpacity = this.opacity();\n      var parent = this.getParent();\n\n      if (parent && !parent._isUnderCache) {\n        absOpacity *= parent.getAbsoluteOpacity();\n      }\n\n      return absOpacity;\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(newContainer) {\n      if (this.getParent() !== newContainer) {\n        this._remove();\n\n        newContainer.add(this);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject() {\n      var obj = {},\n          attrs = this.getAttrs(),\n          key,\n          val,\n          getter,\n          defaultValue,\n          nonPlainObject;\n      obj.attrs = {};\n\n      for (key in attrs) {\n        val = attrs[key];\n        nonPlainObject = Util.isObject(val) && !Util._isPlainObject(val) && !Util._isArray(val);\n\n        if (nonPlainObject) {\n          continue;\n        }\n\n        getter = typeof this[key] === 'function' && this[key];\n        delete attrs[key];\n        defaultValue = getter ? getter.call(this) : null;\n        attrs[key] = val;\n\n        if (defaultValue !== val) {\n          obj.attrs[key] = val;\n        }\n      }\n\n      obj.className = this.getClassName();\n      return Util._prepareToStringify(obj);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return JSON.stringify(this.toObject());\n    }\n  }, {\n    key: \"getParent\",\n    value: function getParent() {\n      return this.parent;\n    }\n  }, {\n    key: \"findAncestors\",\n    value: function findAncestors(selector, includeSelf, stopNode) {\n      var res = [];\n\n      if (includeSelf && this._isMatch(selector)) {\n        res.push(this);\n      }\n\n      var ancestor = this.parent;\n\n      while (ancestor) {\n        if (ancestor === stopNode) {\n          return res;\n        }\n\n        if (ancestor._isMatch(selector)) {\n          res.push(ancestor);\n        }\n\n        ancestor = ancestor.parent;\n      }\n\n      return res;\n    }\n  }, {\n    key: \"isAncestorOf\",\n    value: function isAncestorOf(node) {\n      return false;\n    }\n  }, {\n    key: \"findAncestor\",\n    value: function findAncestor(selector, includeSelf, stopNode) {\n      return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n  }, {\n    key: \"_isMatch\",\n    value: function _isMatch(selector) {\n      if (!selector) {\n        return false;\n      }\n\n      if (typeof selector === 'function') {\n        return selector(this);\n      }\n\n      var selectorArr = selector.replace(/ /g, '').split(','),\n          len = selectorArr.length,\n          n,\n          sel;\n\n      for (n = 0; n < len; n++) {\n        sel = selectorArr[n];\n\n        if (!Util.isValidSelector(sel)) {\n          Util.warn('Selector \"' + sel + '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n          Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n          Util.warn('Konva is awesome, right?');\n        }\n\n        if (sel.charAt(0) === '#') {\n          if (this.id() === sel.slice(1)) {\n            return true;\n          }\n        } else if (sel.charAt(0) === '.') {\n          if (this.hasName(sel.slice(1))) {\n            return true;\n          }\n        } else if (this.className === sel || this.nodeType === sel) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getLayer\",\n    value: function getLayer() {\n      var parent = this.getParent();\n      return parent ? parent.getLayer() : null;\n    }\n  }, {\n    key: \"getStage\",\n    value: function getStage() {\n      return this._getCache(STAGE, this._getStage);\n    }\n  }, {\n    key: \"_getStage\",\n    value: function _getStage() {\n      var parent = this.getParent();\n\n      if (parent) {\n        return parent.getStage();\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(eventType) {\n      var evt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var bubble = arguments.length > 2 ? arguments[2] : undefined;\n      evt.target = evt.target || this;\n\n      if (bubble) {\n        this._fireAndBubble(eventType, evt);\n      } else {\n        this._fire(eventType, evt);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getAbsoluteTransform\",\n    value: function getAbsoluteTransform(top) {\n      if (top) {\n        return this._getAbsoluteTransform(top);\n      } else {\n        return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n      }\n    }\n  }, {\n    key: \"_getAbsoluteTransform\",\n    value: function _getAbsoluteTransform(top) {\n      var at;\n\n      if (top) {\n        at = new Transform();\n\n        this._eachAncestorReverse(function (node) {\n          var transformsEnabled = node.transformsEnabled();\n\n          if (transformsEnabled === 'all') {\n            at.multiply(node.getTransform());\n          } else if (transformsEnabled === 'position') {\n            at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n          }\n        }, top);\n\n        return at;\n      } else {\n        at = this._cache.get(ABSOLUTE_TRANSFORM) || new Transform();\n\n        if (this.parent) {\n          this.parent.getAbsoluteTransform().copyInto(at);\n        } else {\n          at.reset();\n        }\n\n        var transformsEnabled = this.transformsEnabled();\n\n        if (transformsEnabled === 'all') {\n          at.multiply(this.getTransform());\n        } else if (transformsEnabled === 'position') {\n          var x = this.attrs.x || 0;\n          var y = this.attrs.y || 0;\n          var offsetX = this.attrs.offsetX || 0;\n          var offsetY = this.attrs.offsetY || 0;\n          at.translate(x - offsetX, y - offsetY);\n        }\n\n        at.dirty = false;\n        return at;\n      }\n    }\n  }, {\n    key: \"getAbsoluteScale\",\n    value: function getAbsoluteScale(top) {\n      var parent = this;\n\n      while (parent) {\n        if (parent._isUnderCache) {\n          top = parent;\n        }\n\n        parent = parent.getParent();\n      }\n\n      var transform = this.getAbsoluteTransform(top);\n      var attrs = transform.decompose();\n      return {\n        x: attrs.scaleX,\n        y: attrs.scaleY\n      };\n    }\n  }, {\n    key: \"getAbsoluteRotation\",\n    value: function getAbsoluteRotation() {\n      return this.getAbsoluteTransform().decompose().rotation;\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform() {\n      return this._getCache(TRANSFORM, this._getTransform);\n    }\n  }, {\n    key: \"_getTransform\",\n    value: function _getTransform() {\n      var _a, _b;\n\n      var m = this._cache.get(TRANSFORM) || new Transform();\n      m.reset();\n      var x = this.x(),\n          y = this.y(),\n          rotation = Konva.getAngle(this.rotation()),\n          scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1,\n          scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1,\n          skewX = this.attrs.skewX || 0,\n          skewY = this.attrs.skewY || 0,\n          offsetX = this.attrs.offsetX || 0,\n          offsetY = this.attrs.offsetY || 0;\n\n      if (x !== 0 || y !== 0) {\n        m.translate(x, y);\n      }\n\n      if (rotation !== 0) {\n        m.rotate(rotation);\n      }\n\n      if (skewX !== 0 || skewY !== 0) {\n        m.skew(skewX, skewY);\n      }\n\n      if (scaleX !== 1 || scaleY !== 1) {\n        m.scale(scaleX, scaleY);\n      }\n\n      if (offsetX !== 0 || offsetY !== 0) {\n        m.translate(-1 * offsetX, -1 * offsetY);\n      }\n\n      m.dirty = false;\n      return m;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(obj) {\n      var attrs = Util.cloneObject(this.attrs),\n          key,\n          allListeners,\n          len,\n          n,\n          listener;\n\n      for (key in obj) {\n        attrs[key] = obj[key];\n      }\n\n      var node = new this.constructor(attrs);\n\n      for (key in this.eventListeners) {\n        allListeners = this.eventListeners[key];\n        len = allListeners.length;\n\n        for (n = 0; n < len; n++) {\n          listener = allListeners[n];\n\n          if (listener.name.indexOf(KONVA) < 0) {\n            if (!node.eventListeners[key]) {\n              node.eventListeners[key] = [];\n            }\n\n            node.eventListeners[key].push(listener);\n          }\n        }\n      }\n\n      return node;\n    }\n  }, {\n    key: \"_toKonvaCanvas\",\n    value: function _toKonvaCanvas(config) {\n      config = config || {};\n      var box = this.getClientRect();\n      var stage = this.getStage(),\n          x = config.x !== undefined ? config.x : Math.floor(box.x),\n          y = config.y !== undefined ? config.y : Math.floor(box.y),\n          pixelRatio = config.pixelRatio || 1,\n          canvas = new SceneCanvas({\n        width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n        height: config.height || Math.ceil(box.height) || (stage ? stage.height() : 0),\n        pixelRatio: pixelRatio\n      }),\n          context = canvas.getContext();\n\n      if (config.imageSmoothingEnabled === false) {\n        context._context.imageSmoothingEnabled = false;\n      }\n\n      context.save();\n\n      if (x || y) {\n        context.translate(-1 * x, -1 * y);\n      }\n\n      this.drawScene(canvas);\n      context.restore();\n      return canvas;\n    }\n  }, {\n    key: \"toCanvas\",\n    value: function toCanvas(config) {\n      return this._toKonvaCanvas(config)._canvas;\n    }\n  }, {\n    key: \"toDataURL\",\n    value: function toDataURL(config) {\n      config = config || {};\n      var mimeType = config.mimeType || null,\n          quality = config.quality || null;\n\n      var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n\n      if (config.callback) {\n        config.callback(url);\n      }\n\n      return url;\n    }\n  }, {\n    key: \"toImage\",\n    value: function toImage(config) {\n      if (!config || !config.callback) {\n        throw 'callback required for toImage method config argument';\n      }\n\n      var callback = config.callback;\n      delete config.callback;\n\n      Util._urlToImage(this.toDataURL(config), function (img) {\n        callback(img);\n      });\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(size) {\n      this.width(size.width);\n      this.height(size.height);\n      return this;\n    }\n  }, {\n    key: \"getSize\",\n    value: function getSize() {\n      return {\n        width: this.width(),\n        height: this.height()\n      };\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      return this.className || this.nodeType;\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return this.nodeType;\n    }\n  }, {\n    key: \"getDragDistance\",\n    value: function getDragDistance() {\n      if (this.attrs.dragDistance !== undefined) {\n        return this.attrs.dragDistance;\n      } else if (this.parent) {\n        return this.parent.getDragDistance();\n      } else {\n        return Konva.dragDistance;\n      }\n    }\n  }, {\n    key: \"_off\",\n    value: function _off(type, name, callback) {\n      var evtListeners = this.eventListeners[type],\n          i,\n          evtName,\n          handler;\n\n      for (i = 0; i < evtListeners.length; i++) {\n        evtName = evtListeners[i].name;\n        handler = evtListeners[i].handler;\n\n        if ((evtName !== 'konva' || name === 'konva') && (!name || evtName === name) && (!callback || callback === handler)) {\n          evtListeners.splice(i, 1);\n\n          if (evtListeners.length === 0) {\n            delete this.eventListeners[type];\n            break;\n          }\n\n          i--;\n        }\n      }\n    }\n  }, {\n    key: \"_fireChangeEvent\",\n    value: function _fireChangeEvent(attr, oldVal, newVal) {\n      this._fire(attr + CHANGE, {\n        oldVal: oldVal,\n        newVal: newVal\n      });\n    }\n  }, {\n    key: \"addName\",\n    value: function addName(name) {\n      if (!this.hasName(name)) {\n        var oldName = this.name();\n        var newName = oldName ? oldName + ' ' + name : name;\n        this.name(newName);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"hasName\",\n    value: function hasName(name) {\n      if (!name) {\n        return false;\n      }\n\n      var fullName = this.name();\n\n      if (!fullName) {\n        return false;\n      }\n\n      var names = (fullName || '').split(/\\s/g);\n      return names.indexOf(name) !== -1;\n    }\n  }, {\n    key: \"removeName\",\n    value: function removeName(name) {\n      var names = (this.name() || '').split(/\\s/g);\n      var index = names.indexOf(name);\n\n      if (index !== -1) {\n        names.splice(index, 1);\n        this.name(names.join(' '));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(attr, val) {\n      var func = this[SET + Util._capitalize(attr)];\n\n      if (Util._isFunction(func)) {\n        func.call(this, val);\n      } else {\n        this._setAttr(attr, val);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_requestDraw\",\n    value: function _requestDraw() {\n      if (Konva.autoDrawEnabled) {\n        var drawNode = this.getLayer() || this.getStage();\n        drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n      }\n    }\n  }, {\n    key: \"_setAttr\",\n    value: function _setAttr(key, val) {\n      var oldVal = this.attrs[key];\n\n      if (oldVal === val && !Util.isObject(val)) {\n        return;\n      }\n\n      if (val === undefined || val === null) {\n        delete this.attrs[key];\n      } else {\n        this.attrs[key] = val;\n      }\n\n      if (this._shouldFireChangeEvents) {\n        this._fireChangeEvent(key, oldVal, val);\n      }\n\n      this._requestDraw();\n    }\n  }, {\n    key: \"_setComponentAttr\",\n    value: function _setComponentAttr(key, component, val) {\n      var oldVal;\n\n      if (val !== undefined) {\n        oldVal = this.attrs[key];\n\n        if (!oldVal) {\n          this.attrs[key] = this.getAttr(key);\n        }\n\n        this.attrs[key][component] = val;\n\n        this._fireChangeEvent(key, oldVal, val);\n      }\n    }\n  }, {\n    key: \"_fireAndBubble\",\n    value: function _fireAndBubble(eventType, evt, compareShape) {\n      if (evt && this.nodeType === SHAPE) {\n        evt.target = this;\n      }\n\n      var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) && (compareShape && (this === compareShape || this.isAncestorOf && this.isAncestorOf(compareShape)) || this.nodeType === 'Stage' && !compareShape);\n\n      if (!shouldStop) {\n        this._fire(eventType, evt);\n\n        var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) && compareShape && compareShape.isAncestorOf && compareShape.isAncestorOf(this) && !compareShape.isAncestorOf(this.parent);\n\n        if ((evt && !evt.cancelBubble || !evt) && this.parent && this.parent.isListening() && !stopBubble) {\n          if (compareShape && compareShape.parent) {\n            this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n          } else {\n            this._fireAndBubble.call(this.parent, eventType, evt);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_getProtoListeners\",\n    value: function _getProtoListeners(eventType) {\n      var listeners = this._cache.get(ALL_LISTENERS);\n\n      if (!listeners) {\n        listeners = {};\n        var obj = Object.getPrototypeOf(this);\n\n        while (obj) {\n          if (!obj.eventListeners) {\n            obj = Object.getPrototypeOf(obj);\n            continue;\n          }\n\n          for (var event in obj.eventListeners) {\n            var newEvents = obj.eventListeners[event];\n            var oldEvents = listeners[event] || [];\n            listeners[event] = newEvents.concat(oldEvents);\n          }\n\n          obj = Object.getPrototypeOf(obj);\n        }\n\n        this._cache.set(ALL_LISTENERS, listeners);\n      }\n\n      return listeners[eventType];\n    }\n  }, {\n    key: \"_fire\",\n    value: function _fire(eventType, evt) {\n      evt = evt || {};\n      evt.currentTarget = this;\n      evt.type = eventType;\n\n      var topListeners = this._getProtoListeners(eventType);\n\n      if (topListeners) {\n        for (var i = 0; i < topListeners.length; i++) {\n          topListeners[i].handler.call(this, evt);\n        }\n      }\n\n      var selfListeners = this.eventListeners[eventType];\n\n      if (selfListeners) {\n        for (var i = 0; i < selfListeners.length; i++) {\n          selfListeners[i].handler.call(this, evt);\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.drawScene();\n      this.drawHit();\n      return this;\n    }\n  }, {\n    key: \"_createDragElement\",\n    value: function _createDragElement(evt) {\n      var pointerId = evt ? evt.pointerId : undefined;\n      var stage = this.getStage();\n      var ap = this.getAbsolutePosition();\n      var pos = stage._getPointerById(pointerId) || stage._changedPointerPositions[0] || ap;\n\n      DD._dragElements.set(this._id, {\n        node: this,\n        startPointerPos: pos,\n        offset: {\n          x: pos.x - ap.x,\n          y: pos.y - ap.y\n        },\n        dragStatus: 'ready',\n        pointerId: pointerId\n      });\n    }\n  }, {\n    key: \"startDrag\",\n    value: function startDrag(evt) {\n      var bubbleEvent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (!DD._dragElements.has(this._id)) {\n        this._createDragElement(evt);\n      }\n\n      var elem = DD._dragElements.get(this._id);\n\n      elem.dragStatus = 'dragging';\n      this.fire('dragstart', {\n        type: 'dragstart',\n        target: this,\n        evt: evt && evt.evt\n      }, bubbleEvent);\n    }\n  }, {\n    key: \"_setDragPosition\",\n    value: function _setDragPosition(evt, elem) {\n      var pos = this.getStage()._getPointerById(elem.pointerId);\n\n      if (!pos) {\n        return;\n      }\n\n      var newNodePos = {\n        x: pos.x - elem.offset.x,\n        y: pos.y - elem.offset.y\n      };\n      var dbf = this.dragBoundFunc();\n\n      if (dbf !== undefined) {\n        var bounded = dbf.call(this, newNodePos, evt);\n\n        if (!bounded) {\n          Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n        } else {\n          newNodePos = bounded;\n        }\n      }\n\n      if (!this._lastPos || this._lastPos.x !== newNodePos.x || this._lastPos.y !== newNodePos.y) {\n        this.setAbsolutePosition(newNodePos);\n\n        this._requestDraw();\n      }\n\n      this._lastPos = newNodePos;\n    }\n  }, {\n    key: \"stopDrag\",\n    value: function stopDrag(evt) {\n      var elem = DD._dragElements.get(this._id);\n\n      if (elem) {\n        elem.dragStatus = 'stopped';\n      }\n\n      DD._endDragBefore(evt);\n\n      DD._endDragAfter(evt);\n    }\n  }, {\n    key: \"setDraggable\",\n    value: function setDraggable(draggable) {\n      this._setAttr('draggable', draggable);\n\n      this._dragChange();\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      var elem = DD._dragElements.get(this._id);\n\n      return elem ? elem.dragStatus === 'dragging' : false;\n    }\n  }, {\n    key: \"_listenDrag\",\n    value: function _listenDrag() {\n      this._dragCleanup();\n\n      this.on('mousedown.konva touchstart.konva', function (evt) {\n        var _this4 = this;\n\n        var shouldCheckButton = evt.evt['button'] !== undefined;\n        var canDrag = !shouldCheckButton || Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n\n        if (!canDrag) {\n          return;\n        }\n\n        if (this.isDragging()) {\n          return;\n        }\n\n        var hasDraggingChild = false;\n\n        DD._dragElements.forEach(function (elem) {\n          if (_this4.isAncestorOf(elem.node)) {\n            hasDraggingChild = true;\n          }\n        });\n\n        if (!hasDraggingChild) {\n          this._createDragElement(evt);\n        }\n      });\n    }\n  }, {\n    key: \"_dragChange\",\n    value: function _dragChange() {\n      if (this.attrs.draggable) {\n        this._listenDrag();\n      } else {\n        this._dragCleanup();\n\n        var stage = this.getStage();\n\n        if (!stage) {\n          return;\n        }\n\n        var dragElement = DD._dragElements.get(this._id);\n\n        var isDragging = dragElement && dragElement.dragStatus === 'dragging';\n        var isReady = dragElement && dragElement.dragStatus === 'ready';\n\n        if (isDragging) {\n          this.stopDrag();\n        } else if (isReady) {\n          DD._dragElements[\"delete\"](this._id);\n        }\n      }\n    }\n  }, {\n    key: \"_dragCleanup\",\n    value: function _dragCleanup() {\n      this.off('mousedown.konva');\n      this.off('touchstart.konva');\n    }\n  }, {\n    key: \"isClientRectOnScreen\",\n    value: function isClientRectOnScreen() {\n      var margin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        x: 0,\n        y: 0\n      };\n      var stage = this.getStage();\n\n      if (!stage) {\n        return false;\n      }\n\n      var screenRect = {\n        x: -margin.x,\n        y: -margin.y,\n        width: stage.width() + 2 * margin.x,\n        height: stage.height() + 2 * margin.y\n      };\n      return Util.haveIntersection(screenRect, this.getClientRect());\n    }\n  }], [{\n    key: \"create\",\n    value: function create(data, container) {\n      if (Util._isString(data)) {\n        data = JSON.parse(data);\n      }\n\n      return this._createNode(data, container);\n    }\n  }, {\n    key: \"_createNode\",\n    value: function _createNode(obj, container) {\n      var className = Node.prototype.getClassName.call(obj),\n          children = obj.children,\n          no,\n          len,\n          n;\n\n      if (container) {\n        obj.attrs.container = container;\n      }\n\n      if (!Konva[className]) {\n        Util.warn('Can not find a node with class name \"' + className + '\". Fallback to \"Shape\".');\n        className = 'Shape';\n      }\n\n      var Class = Konva[className];\n      no = new Class(obj.attrs);\n\n      if (children) {\n        len = children.length;\n\n        for (n = 0; n < len; n++) {\n          no.add(Node._createNode(children[n]));\n        }\n      }\n\n      return no;\n    }\n  }]);\n\n  return Node;\n}();\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n  if (this._batchingTransformChange) {\n    this._needClearTransformCache = true;\n    return;\n  }\n\n  this._clearCache(TRANSFORM);\n\n  this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n  this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n  this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n  this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nvar addGetterSetter = Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, getNumberValidator());\naddGetterSetter(Node, 'y', 0, getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', getStringValidator());\naddGetterSetter(Node, 'opacity', 1, getNumberValidator());\naddGetterSetter(Node, 'name', '', getStringValidator());\naddGetterSetter(Node, 'id', '', getStringValidator());\naddGetterSetter(Node, 'rotation', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, getNumberValidator());\naddGetterSetter(Node, 'width', 0, getNumberValidator());\naddGetterSetter(Node, 'height', 0, getNumberValidator());\naddGetterSetter(Node, 'listening', true, getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n  this._filterUpToDate = false;\n  return val;\n});\naddGetterSetter(Node, 'visible', true, getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, getBooleanValidator());\nFactory.backCompat(Node, {\n  rotateDeg: 'rotate',\n  setRotationDeg: 'setRotation',\n  getRotationDeg: 'getRotation'\n});","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator } from './Validators.js';\nexport var Container = /*#__PURE__*/function (_Node) {\n  _inherits(Container, _Node);\n\n  var _super = _createSuper(Container);\n\n  function Container() {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _super.apply(this, arguments);\n    _this.children = [];\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: \"getChildren\",\n    value: function getChildren(filterFunc) {\n      if (!filterFunc) {\n        return this.children || [];\n      }\n\n      var children = this.children || [];\n      var results = [];\n      children.forEach(function (child) {\n        if (filterFunc(child)) {\n          results.push(child);\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return this.getChildren().length > 0;\n    }\n  }, {\n    key: \"removeChildren\",\n    value: function removeChildren() {\n      this.getChildren().forEach(function (child) {\n        child.parent = null;\n        child.index = 0;\n        child.remove();\n      });\n      this.children = [];\n\n      this._requestDraw();\n\n      return this;\n    }\n  }, {\n    key: \"destroyChildren\",\n    value: function destroyChildren() {\n      this.getChildren().forEach(function (child) {\n        child.parent = null;\n        child.index = 0;\n        child.destroy();\n      });\n      this.children = [];\n\n      this._requestDraw();\n\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, children = new Array(_len), _key = 0; _key < _len; _key++) {\n        children[_key] = arguments[_key];\n      }\n\n      if (arguments.length > 1) {\n        for (var i = 0; i < arguments.length; i++) {\n          this.add(arguments[i]);\n        }\n\n        return this;\n      }\n\n      var child = children[0];\n\n      if (child.getParent()) {\n        child.moveTo(this);\n        return this;\n      }\n\n      this._validateAdd(child);\n\n      child.index = this.getChildren().length;\n      child.parent = this;\n\n      child._clearCaches();\n\n      this.getChildren().push(child);\n\n      this._fire('add', {\n        child: child\n      });\n\n      this._requestDraw();\n\n      return this;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.hasChildren()) {\n        this.destroyChildren();\n      }\n\n      _get(_getPrototypeOf(Container.prototype), \"destroy\", this).call(this);\n\n      return this;\n    }\n  }, {\n    key: \"find\",\n    value: function find(selector) {\n      return this._generalFind(selector, false);\n    }\n  }, {\n    key: \"findOne\",\n    value: function findOne(selector) {\n      var result = this._generalFind(selector, true);\n\n      return result.length > 0 ? result[0] : undefined;\n    }\n  }, {\n    key: \"_generalFind\",\n    value: function _generalFind(selector, findOne) {\n      var retArr = [];\n\n      this._descendants(function (node) {\n        var valid = node._isMatch(selector);\n\n        if (valid) {\n          retArr.push(node);\n        }\n\n        if (valid && findOne) {\n          return true;\n        }\n\n        return false;\n      });\n\n      return retArr;\n    }\n  }, {\n    key: \"_descendants\",\n    value: function _descendants(fn) {\n      var shouldStop = false;\n      var children = this.getChildren();\n\n      var _iterator = _createForOfIteratorHelper(children),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          shouldStop = fn(child);\n\n          if (shouldStop) {\n            return true;\n          }\n\n          if (!child.hasChildren()) {\n            continue;\n          }\n\n          shouldStop = child._descendants(fn);\n\n          if (shouldStop) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject() {\n      var obj = Node.prototype.toObject.call(this);\n      obj.children = [];\n      this.getChildren().forEach(function (child) {\n        obj.children.push(child.toObject());\n      });\n      return obj;\n    }\n  }, {\n    key: \"isAncestorOf\",\n    value: function isAncestorOf(node) {\n      var parent = node.getParent();\n\n      while (parent) {\n        if (parent._id === this._id) {\n          return true;\n        }\n\n        parent = parent.getParent();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(obj) {\n      var node = Node.prototype.clone.call(this, obj);\n      this.getChildren().forEach(function (no) {\n        node.add(no.clone());\n      });\n      return node;\n    }\n  }, {\n    key: \"getAllIntersections\",\n    value: function getAllIntersections(pos) {\n      var arr = [];\n      this.find('Shape').forEach(function (shape) {\n        if (shape.isVisible() && shape.intersects(pos)) {\n          arr.push(shape);\n        }\n      });\n      return arr;\n    }\n  }, {\n    key: \"_clearSelfAndDescendantCache\",\n    value: function _clearSelfAndDescendantCache(attr) {\n      var _a;\n\n      _get(_getPrototypeOf(Container.prototype), \"_clearSelfAndDescendantCache\", this).call(this, attr);\n\n      if (this.isCached()) {\n        return;\n      }\n\n      (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n        node._clearSelfAndDescendantCache(attr);\n      });\n    }\n  }, {\n    key: \"_setChildrenIndices\",\n    value: function _setChildrenIndices() {\n      var _a;\n\n      (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n        child.index = n;\n      });\n\n      this._requestDraw();\n    }\n  }, {\n    key: \"drawScene\",\n    value: function drawScene(can, top) {\n      var layer = this.getLayer(),\n          canvas = can || layer && layer.getCanvas(),\n          context = canvas && canvas.getContext(),\n          cachedCanvas = this._getCanvasCache(),\n          cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n\n      var caching = canvas && canvas.isCache;\n\n      if (!this.isVisible() && !caching) {\n        return this;\n      }\n\n      if (cachedSceneCanvas) {\n        context.save();\n        var m = this.getAbsoluteTransform(top).getMatrix();\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n        this._drawCachedSceneCanvas(context);\n\n        context.restore();\n      } else {\n        this._drawChildren('drawScene', canvas, top);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"drawHit\",\n    value: function drawHit(can, top) {\n      if (!this.shouldDrawHit(top)) {\n        return this;\n      }\n\n      var layer = this.getLayer(),\n          canvas = can || layer && layer.hitCanvas,\n          context = canvas && canvas.getContext(),\n          cachedCanvas = this._getCanvasCache(),\n          cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n\n      if (cachedHitCanvas) {\n        context.save();\n        var m = this.getAbsoluteTransform(top).getMatrix();\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n        this._drawCachedHitCanvas(context);\n\n        context.restore();\n      } else {\n        this._drawChildren('drawHit', canvas, top);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_drawChildren\",\n    value: function _drawChildren(drawMethod, canvas, top) {\n      var _a;\n\n      var context = canvas && canvas.getContext(),\n          clipWidth = this.clipWidth(),\n          clipHeight = this.clipHeight(),\n          clipFunc = this.clipFunc(),\n          hasClip = clipWidth && clipHeight || clipFunc;\n      var selfCache = top === this;\n\n      if (hasClip) {\n        context.save();\n        var transform = this.getAbsoluteTransform(top);\n        var m = transform.getMatrix();\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        context.beginPath();\n\n        if (clipFunc) {\n          clipFunc.call(this, context, this);\n        } else {\n          var clipX = this.clipX();\n          var clipY = this.clipY();\n          context.rect(clipX, clipY, clipWidth, clipHeight);\n        }\n\n        context.clip();\n        m = transform.copy().invert().getMatrix();\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n      }\n\n      var hasComposition = !selfCache && this.globalCompositeOperation() !== 'source-over' && drawMethod === 'drawScene';\n\n      if (hasComposition) {\n        context.save();\n\n        context._applyGlobalCompositeOperation(this);\n      }\n\n      (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n        child[drawMethod](canvas, top);\n      });\n\n      if (hasComposition) {\n        context.restore();\n      }\n\n      if (hasClip) {\n        context.restore();\n      }\n    }\n  }, {\n    key: \"getClientRect\",\n    value: function getClientRect(config) {\n      var _a;\n\n      config = config || {};\n      var skipTransform = config.skipTransform;\n      var relativeTo = config.relativeTo;\n      var minX, minY, maxX, maxY;\n      var selfRect = {\n        x: Infinity,\n        y: Infinity,\n        width: 0,\n        height: 0\n      };\n      var that = this;\n      (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n        if (!child.visible()) {\n          return;\n        }\n\n        var rect = child.getClientRect({\n          relativeTo: that,\n          skipShadow: config.skipShadow,\n          skipStroke: config.skipStroke\n        });\n\n        if (rect.width === 0 && rect.height === 0) {\n          return;\n        }\n\n        if (minX === undefined) {\n          minX = rect.x;\n          minY = rect.y;\n          maxX = rect.x + rect.width;\n          maxY = rect.y + rect.height;\n        } else {\n          minX = Math.min(minX, rect.x);\n          minY = Math.min(minY, rect.y);\n          maxX = Math.max(maxX, rect.x + rect.width);\n          maxY = Math.max(maxY, rect.y + rect.height);\n        }\n      });\n      var shapes = this.find('Shape');\n      var hasVisible = false;\n\n      for (var i = 0; i < shapes.length; i++) {\n        var shape = shapes[i];\n\n        if (shape._isVisible(this)) {\n          hasVisible = true;\n          break;\n        }\n      }\n\n      if (hasVisible && minX !== undefined) {\n        selfRect = {\n          x: minX,\n          y: minY,\n          width: maxX - minX,\n          height: maxY - minY\n        };\n      } else {\n        selfRect = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (!skipTransform) {\n        return this._transformedRect(selfRect, relativeTo);\n      }\n\n      return selfRect;\n    }\n  }]);\n\n  return Container;\n}(Node);\nFactory.addComponentsGetterSetter(Container, 'clip', ['x', 'y', 'width', 'height']);\nFactory.addGetterSetter(Container, 'clipX', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipY', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipWidth', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipHeight', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipFunc');","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport { Konva } from './Global.js';\nvar Captures = new Map();\nvar SUPPORT_POINTER_EVENTS = Konva._global['PointerEvent'] !== undefined;\nexport function getCapturedShape(pointerId) {\n  return Captures.get(pointerId);\n}\nexport function createEvent(evt) {\n  return {\n    evt: evt,\n    pointerId: evt.pointerId\n  };\n}\nexport function hasPointerCapture(pointerId, shape) {\n  return Captures.get(pointerId) === shape;\n}\nexport function setPointerCapture(pointerId, shape) {\n  releaseCapture(pointerId);\n  var stage = shape.getStage();\n  if (!stage) return;\n  Captures.set(pointerId, shape);\n\n  if (SUPPORT_POINTER_EVENTS) {\n    shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n  }\n}\nexport function releaseCapture(pointerId, target) {\n  var shape = Captures.get(pointerId);\n  if (!shape) return;\n  var stage = shape.getStage();\n\n  if (stage && stage.content) {}\n\n  Captures[\"delete\"](pointerId);\n\n  if (SUPPORT_POINTER_EVENTS) {\n    shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n  }\n}","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.object.assign\";\nimport _slicedToArray from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.find\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _defineProperty from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _mouse, _touch, _pointer;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Container } from './Container.js';\nimport { Konva } from './Global.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { DD } from './DragAndDrop.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar STAGE = 'Stage',\n    STRING = 'string',\n    PX = 'px',\n    MOUSEOUT = 'mouseout',\n    MOUSELEAVE = 'mouseleave',\n    MOUSEOVER = 'mouseover',\n    MOUSEENTER = 'mouseenter',\n    MOUSEMOVE = 'mousemove',\n    MOUSEDOWN = 'mousedown',\n    MOUSEUP = 'mouseup',\n    POINTERMOVE = 'pointermove',\n    POINTERDOWN = 'pointerdown',\n    POINTERUP = 'pointerup',\n    POINTERCANCEL = 'pointercancel',\n    LOSTPOINTERCAPTURE = 'lostpointercapture',\n    POINTEROUT = 'pointerout',\n    POINTERLEAVE = 'pointerleave',\n    POINTEROVER = 'pointerover',\n    POINTERENTER = 'pointerenter',\n    CONTEXTMENU = 'contextmenu',\n    TOUCHSTART = 'touchstart',\n    TOUCHEND = 'touchend',\n    TOUCHMOVE = 'touchmove',\n    TOUCHCANCEL = 'touchcancel',\n    WHEEL = 'wheel',\n    MAX_LAYERS_NUMBER = 5,\n    EVENTS = [[MOUSEENTER, '_pointerenter'], [MOUSEDOWN, '_pointerdown'], [MOUSEMOVE, '_pointermove'], [MOUSEUP, '_pointerup'], [MOUSELEAVE, '_pointerleave'], [TOUCHSTART, '_pointerdown'], [TOUCHMOVE, '_pointermove'], [TOUCHEND, '_pointerup'], [TOUCHCANCEL, '_pointercancel'], [MOUSEOVER, '_pointerover'], [WHEEL, '_wheel'], [CONTEXTMENU, '_contextmenu'], [POINTERDOWN, '_pointerdown'], [POINTERMOVE, '_pointermove'], [POINTERUP, '_pointerup'], [POINTERCANCEL, '_pointercancel'], [LOSTPOINTERCAPTURE, '_lostpointercapture']];\nvar EVENTS_MAP = {\n  mouse: (_mouse = {}, _defineProperty(_mouse, POINTEROUT, MOUSEOUT), _defineProperty(_mouse, POINTERLEAVE, MOUSELEAVE), _defineProperty(_mouse, POINTEROVER, MOUSEOVER), _defineProperty(_mouse, POINTERENTER, MOUSEENTER), _defineProperty(_mouse, POINTERMOVE, MOUSEMOVE), _defineProperty(_mouse, POINTERDOWN, MOUSEDOWN), _defineProperty(_mouse, POINTERUP, MOUSEUP), _defineProperty(_mouse, POINTERCANCEL, 'mousecancel'), _defineProperty(_mouse, \"pointerclick\", 'click'), _defineProperty(_mouse, \"pointerdblclick\", 'dblclick'), _mouse),\n  touch: (_touch = {}, _defineProperty(_touch, POINTEROUT, 'touchout'), _defineProperty(_touch, POINTERLEAVE, 'touchleave'), _defineProperty(_touch, POINTEROVER, 'touchover'), _defineProperty(_touch, POINTERENTER, 'touchenter'), _defineProperty(_touch, POINTERMOVE, TOUCHMOVE), _defineProperty(_touch, POINTERDOWN, TOUCHSTART), _defineProperty(_touch, POINTERUP, TOUCHEND), _defineProperty(_touch, POINTERCANCEL, TOUCHCANCEL), _defineProperty(_touch, \"pointerclick\", 'tap'), _defineProperty(_touch, \"pointerdblclick\", 'dbltap'), _touch),\n  pointer: (_pointer = {}, _defineProperty(_pointer, POINTEROUT, POINTEROUT), _defineProperty(_pointer, POINTERLEAVE, POINTERLEAVE), _defineProperty(_pointer, POINTEROVER, POINTEROVER), _defineProperty(_pointer, POINTERENTER, POINTERENTER), _defineProperty(_pointer, POINTERMOVE, POINTERMOVE), _defineProperty(_pointer, POINTERDOWN, POINTERDOWN), _defineProperty(_pointer, POINTERUP, POINTERUP), _defineProperty(_pointer, POINTERCANCEL, POINTERCANCEL), _defineProperty(_pointer, \"pointerclick\", 'pointerclick'), _defineProperty(_pointer, \"pointerdblclick\", 'pointerdblclick'), _pointer)\n};\n\nvar getEventType = function getEventType(type) {\n  if (type.indexOf('pointer') >= 0) {\n    return 'pointer';\n  }\n\n  if (type.indexOf('touch') >= 0) {\n    return 'touch';\n  }\n\n  return 'mouse';\n};\n\nvar getEventsMap = function getEventsMap(eventType) {\n  var type = getEventType(eventType);\n\n  if (type === 'pointer') {\n    return Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n  }\n\n  if (type === 'touch') {\n    return EVENTS_MAP.touch;\n  }\n\n  if (type === 'mouse') {\n    return EVENTS_MAP.mouse;\n  }\n};\n\nfunction checkNoClip() {\n  var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n    Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n  }\n\n  return attrs;\n}\n\nvar NO_POINTERS_MESSAGE = \"Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);\";\nexport var stages = [];\nexport var Stage = /*#__PURE__*/function (_Container) {\n  _inherits(Stage, _Container);\n\n  var _super = _createSuper(Stage);\n\n  function Stage(config) {\n    var _this;\n\n    _classCallCheck(this, Stage);\n\n    _this = _super.call(this, checkNoClip(config));\n    _this._pointerPositions = [];\n    _this._changedPointerPositions = [];\n\n    _this._buildDOM();\n\n    _this._bindContentEvents();\n\n    stages.push(_assertThisInitialized(_this));\n\n    _this.on('widthChange.konva heightChange.konva', _this._resizeDOM);\n\n    _this.on('visibleChange.konva', _this._checkVisibility);\n\n    _this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', function () {\n      checkNoClip(_this.attrs);\n    });\n\n    _this._checkVisibility();\n\n    return _this;\n  }\n\n  _createClass(Stage, [{\n    key: \"_validateAdd\",\n    value: function _validateAdd(child) {\n      var isLayer = child.getType() === 'Layer';\n      var isFastLayer = child.getType() === 'FastLayer';\n      var valid = isLayer || isFastLayer;\n\n      if (!valid) {\n        Util[\"throw\"]('You may only add layers to the stage.');\n      }\n    }\n  }, {\n    key: \"_checkVisibility\",\n    value: function _checkVisibility() {\n      if (!this.content) {\n        return;\n      }\n\n      var style = this.visible() ? '' : 'none';\n      this.content.style.display = style;\n    }\n  }, {\n    key: \"setContainer\",\n    value: function setContainer(container) {\n      if (typeof container === STRING) {\n        if (container.charAt(0) === '.') {\n          var className = container.slice(1);\n          container = document.getElementsByClassName(className)[0];\n        } else {\n          var id;\n\n          if (container.charAt(0) !== '#') {\n            id = container;\n          } else {\n            id = container.slice(1);\n          }\n\n          container = document.getElementById(id);\n        }\n\n        if (!container) {\n          throw 'Can not find container in document with id ' + id;\n        }\n      }\n\n      this._setAttr('container', container);\n\n      if (this.content) {\n        if (this.content.parentElement) {\n          this.content.parentElement.removeChild(this.content);\n        }\n\n        container.appendChild(this.content);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"shouldDrawHit\",\n    value: function shouldDrawHit() {\n      return true;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var layers = this.children,\n          len = layers.length,\n          n;\n\n      for (n = 0; n < len; n++) {\n        layers[n].clear();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(obj) {\n      if (!obj) {\n        obj = {};\n      }\n\n      obj.container = typeof document !== 'undefined' && document.createElement('div');\n      return Container.prototype.clone.call(this, obj);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Stage.prototype), \"destroy\", this).call(this);\n\n      var content = this.content;\n\n      if (content && Util._isInDocument(content)) {\n        this.container().removeChild(content);\n      }\n\n      var index = stages.indexOf(this);\n\n      if (index > -1) {\n        stages.splice(index, 1);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getPointerPosition\",\n    value: function getPointerPosition() {\n      var pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n\n      if (!pos) {\n        Util.warn(NO_POINTERS_MESSAGE);\n        return null;\n      }\n\n      return {\n        x: pos.x,\n        y: pos.y\n      };\n    }\n  }, {\n    key: \"_getPointerById\",\n    value: function _getPointerById(id) {\n      return this._pointerPositions.find(function (p) {\n        return p.id === id;\n      });\n    }\n  }, {\n    key: \"getPointersPositions\",\n    value: function getPointersPositions() {\n      return this._pointerPositions;\n    }\n  }, {\n    key: \"getStage\",\n    value: function getStage() {\n      return this;\n    }\n  }, {\n    key: \"getContent\",\n    value: function getContent() {\n      return this.content;\n    }\n  }, {\n    key: \"_toKonvaCanvas\",\n    value: function _toKonvaCanvas(config) {\n      config = config || {};\n      config.x = config.x || 0;\n      config.y = config.y || 0;\n      config.width = config.width || this.width();\n      config.height = config.height || this.height();\n      var canvas = new SceneCanvas({\n        width: config.width,\n        height: config.height,\n        pixelRatio: config.pixelRatio || 1\n      });\n\n      var _context = canvas.getContext()._context;\n\n      var layers = this.children;\n\n      if (config.x || config.y) {\n        _context.translate(-1 * config.x, -1 * config.y);\n      }\n\n      layers.forEach(function (layer) {\n        if (!layer.isVisible()) {\n          return;\n        }\n\n        var layerCanvas = layer._toKonvaCanvas(config);\n\n        _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n      });\n      return canvas;\n    }\n  }, {\n    key: \"getIntersection\",\n    value: function getIntersection(pos) {\n      if (!pos) {\n        return null;\n      }\n\n      var layers = this.children,\n          len = layers.length,\n          end = len - 1,\n          n;\n\n      for (n = end; n >= 0; n--) {\n        var shape = layers[n].getIntersection(pos);\n\n        if (shape) {\n          return shape;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_resizeDOM\",\n    value: function _resizeDOM() {\n      var width = this.width();\n      var height = this.height();\n\n      if (this.content) {\n        this.content.style.width = width + PX;\n        this.content.style.height = height + PX;\n      }\n\n      this.bufferCanvas.setSize(width, height);\n      this.bufferHitCanvas.setSize(width, height);\n      this.children.forEach(function (layer) {\n        layer.setSize({\n          width: width,\n          height: height\n        });\n        layer.draw();\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(layer) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      if (arguments.length > 1) {\n        for (var i = 0; i < arguments.length; i++) {\n          this.add(arguments[i]);\n        }\n\n        return this;\n      }\n\n      _get(_getPrototypeOf(Stage.prototype), \"add\", this).call(this, layer);\n\n      var length = this.children.length;\n\n      if (length > MAX_LAYERS_NUMBER) {\n        Util.warn('The stage has ' + length + ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n      }\n\n      layer.setSize({\n        width: this.width(),\n        height: this.height()\n      });\n      layer.draw();\n\n      if (Konva.isBrowser) {\n        this.content.appendChild(layer.canvas._canvas);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getParent\",\n    value: function getParent() {\n      return null;\n    }\n  }, {\n    key: \"getLayer\",\n    value: function getLayer() {\n      return null;\n    }\n  }, {\n    key: \"hasPointerCapture\",\n    value: function hasPointerCapture(pointerId) {\n      return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n  }, {\n    key: \"setPointerCapture\",\n    value: function setPointerCapture(pointerId) {\n      PointerEvents.setPointerCapture(pointerId, this);\n    }\n  }, {\n    key: \"releaseCapture\",\n    value: function releaseCapture(pointerId) {\n      PointerEvents.releaseCapture(pointerId, this);\n    }\n  }, {\n    key: \"getLayers\",\n    value: function getLayers() {\n      return this.children;\n    }\n  }, {\n    key: \"_bindContentEvents\",\n    value: function _bindContentEvents() {\n      var _this2 = this;\n\n      if (!Konva.isBrowser) {\n        return;\n      }\n\n      EVENTS.forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            event = _ref2[0],\n            methodName = _ref2[1];\n\n        _this2.content.addEventListener(event, function (evt) {\n          _this2[methodName](evt);\n        });\n      });\n    }\n  }, {\n    key: \"_pointerenter\",\n    value: function _pointerenter(evt) {\n      this.setPointersPositions(evt);\n      var events = getEventsMap(evt.type);\n\n      this._fire(events.pointerenter, {\n        evt: evt,\n        target: this,\n        currentTarget: this\n      });\n    }\n  }, {\n    key: \"_pointerover\",\n    value: function _pointerover(evt) {\n      this.setPointersPositions(evt);\n      var events = getEventsMap(evt.type);\n\n      this._fire(events.pointerover, {\n        evt: evt,\n        target: this,\n        currentTarget: this\n      });\n    }\n  }, {\n    key: \"_getTargetShape\",\n    value: function _getTargetShape(evenType) {\n      var shape = this[evenType + 'targetShape'];\n\n      if (shape && !shape.getStage()) {\n        shape = null;\n      }\n\n      return shape;\n    }\n  }, {\n    key: \"_pointerleave\",\n    value: function _pointerleave(evt) {\n      var events = getEventsMap(evt.type);\n      var eventType = getEventType(evt.type);\n\n      if (!events) {\n        return;\n      }\n\n      this.setPointersPositions(evt);\n\n      var targetShape = this._getTargetShape(eventType);\n\n      var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n\n      if (targetShape && eventsEnabled) {\n        targetShape._fireAndBubble(events.pointerout, {\n          evt: evt\n        });\n\n        targetShape._fireAndBubble(events.pointerleave, {\n          evt: evt\n        });\n\n        this._fire(events.pointerleave, {\n          evt: evt,\n          target: this,\n          currentTarget: this\n        });\n\n        this[eventType + 'targetShape'] = null;\n      } else if (eventsEnabled) {\n        this._fire(events.pointerleave, {\n          evt: evt,\n          target: this,\n          currentTarget: this\n        });\n\n        this._fire(events.pointerout, {\n          evt: evt,\n          target: this,\n          currentTarget: this\n        });\n      }\n\n      this.pointerPos = undefined;\n      this._pointerPositions = [];\n    }\n  }, {\n    key: \"_pointerdown\",\n    value: function _pointerdown(evt) {\n      var _this3 = this;\n\n      var events = getEventsMap(evt.type);\n      var eventType = getEventType(evt.type);\n\n      if (!events) {\n        return;\n      }\n\n      this.setPointersPositions(evt);\n      var triggeredOnShape = false;\n\n      this._changedPointerPositions.forEach(function (pos) {\n        var shape = _this3.getIntersection(pos);\n\n        DD.justDragged = false;\n        Konva['_' + eventType + 'ListenClick'] = true;\n        var hasShape = shape && shape.isListening();\n\n        if (!hasShape) {\n          return;\n        }\n\n        if (Konva.capturePointerEventsEnabled) {\n          shape.setPointerCapture(pos.id);\n        }\n\n        _this3[eventType + 'ClickStartShape'] = shape;\n\n        shape._fireAndBubble(events.pointerdown, {\n          evt: evt,\n          pointerId: pos.id\n        });\n\n        triggeredOnShape = true;\n        var isTouch = evt.type.indexOf('touch') >= 0;\n\n        if (shape.preventDefault() && evt.cancelable && isTouch) {\n          evt.preventDefault();\n        }\n      });\n\n      if (!triggeredOnShape) {\n        this._fire(events.pointerdown, {\n          evt: evt,\n          target: this,\n          currentTarget: this,\n          pointerId: this._pointerPositions[0].id\n        });\n      }\n    }\n  }, {\n    key: \"_pointermove\",\n    value: function _pointermove(evt) {\n      var _this4 = this;\n\n      var events = getEventsMap(evt.type);\n      var eventType = getEventType(evt.type);\n\n      if (!events) {\n        return;\n      }\n\n      if (DD.isDragging && DD.node.preventDefault() && evt.cancelable) {\n        evt.preventDefault();\n      }\n\n      this.setPointersPositions(evt);\n      var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n\n      if (!eventsEnabled) {\n        return;\n      }\n\n      var processedShapesIds = {};\n      var triggeredOnShape = false;\n\n      var targetShape = this._getTargetShape(eventType);\n\n      this._changedPointerPositions.forEach(function (pos) {\n        var shape = PointerEvents.getCapturedShape(pos.id) || _this4.getIntersection(pos);\n\n        var pointerId = pos.id;\n        var event = {\n          evt: evt,\n          pointerId: pointerId\n        };\n        var differentTarget = targetShape !== shape;\n\n        if (differentTarget && targetShape) {\n          targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n\n          targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n        }\n\n        if (shape) {\n          if (processedShapesIds[shape._id]) {\n            return;\n          }\n\n          processedShapesIds[shape._id] = true;\n        }\n\n        if (shape && shape.isListening()) {\n          triggeredOnShape = true;\n\n          if (differentTarget) {\n            shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n\n            shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n\n            _this4[eventType + 'targetShape'] = shape;\n          }\n\n          shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n        } else {\n          if (targetShape) {\n            _this4._fire(events.pointerover, {\n              evt: evt,\n              target: _this4,\n              currentTarget: _this4,\n              pointerId: pointerId\n            });\n\n            _this4[eventType + 'targetShape'] = null;\n          }\n        }\n      });\n\n      if (!triggeredOnShape) {\n        this._fire(events.pointermove, {\n          evt: evt,\n          target: this,\n          currentTarget: this,\n          pointerId: this._changedPointerPositions[0].id\n        });\n      }\n    }\n  }, {\n    key: \"_pointerup\",\n    value: function _pointerup(evt) {\n      var _this5 = this;\n\n      var events = getEventsMap(evt.type);\n      var eventType = getEventType(evt.type);\n\n      if (!events) {\n        return;\n      }\n\n      this.setPointersPositions(evt);\n      var clickStartShape = this[eventType + 'ClickStartShape'];\n      var clickEndShape = this[eventType + 'ClickEndShape'];\n      var processedShapesIds = {};\n      var triggeredOnShape = false;\n\n      this._changedPointerPositions.forEach(function (pos) {\n        var shape = PointerEvents.getCapturedShape(pos.id) || _this5.getIntersection(pos);\n\n        if (shape) {\n          shape.releaseCapture(pos.id);\n\n          if (processedShapesIds[shape._id]) {\n            return;\n          }\n\n          processedShapesIds[shape._id] = true;\n        }\n\n        var pointerId = pos.id;\n        var event = {\n          evt: evt,\n          pointerId: pointerId\n        };\n        var fireDblClick = false;\n\n        if (Konva['_' + eventType + 'InDblClickWindow']) {\n          fireDblClick = true;\n          clearTimeout(_this5[eventType + 'DblTimeout']);\n        } else if (!DD.justDragged) {\n          Konva['_' + eventType + 'InDblClickWindow'] = true;\n          clearTimeout(_this5[eventType + 'DblTimeout']);\n        }\n\n        _this5[eventType + 'DblTimeout'] = setTimeout(function () {\n          Konva['_' + eventType + 'InDblClickWindow'] = false;\n        }, Konva.dblClickWindow);\n\n        if (shape && shape.isListening()) {\n          triggeredOnShape = true;\n          _this5[eventType + 'ClickEndShape'] = shape;\n\n          shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n\n          if (Konva['_' + eventType + 'ListenClick'] && clickStartShape && clickStartShape === shape) {\n            shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n\n            if (fireDblClick && clickEndShape && clickEndShape === shape) {\n              shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n            }\n          }\n        } else {\n          _this5[eventType + 'ClickEndShape'] = null;\n\n          if (Konva['_' + eventType + 'ListenClick']) {\n            _this5._fire(events.pointerclick, {\n              evt: evt,\n              target: _this5,\n              currentTarget: _this5,\n              pointerId: pointerId\n            });\n          }\n\n          if (fireDblClick) {\n            _this5._fire(events.pointerdblclick, {\n              evt: evt,\n              target: _this5,\n              currentTarget: _this5,\n              pointerId: pointerId\n            });\n          }\n        }\n      });\n\n      if (!triggeredOnShape) {\n        this._fire(events.pointerup, {\n          evt: evt,\n          target: this,\n          currentTarget: this,\n          pointerId: this._changedPointerPositions[0].id\n        });\n      }\n\n      Konva['_' + eventType + 'ListenClick'] = false;\n\n      if (evt.cancelable) {\n        evt.preventDefault();\n      }\n    }\n  }, {\n    key: \"_contextmenu\",\n    value: function _contextmenu(evt) {\n      this.setPointersPositions(evt);\n      var shape = this.getIntersection(this.getPointerPosition());\n\n      if (shape && shape.isListening()) {\n        shape._fireAndBubble(CONTEXTMENU, {\n          evt: evt\n        });\n      } else {\n        this._fire(CONTEXTMENU, {\n          evt: evt,\n          target: this,\n          currentTarget: this\n        });\n      }\n    }\n  }, {\n    key: \"_wheel\",\n    value: function _wheel(evt) {\n      this.setPointersPositions(evt);\n      var shape = this.getIntersection(this.getPointerPosition());\n\n      if (shape && shape.isListening()) {\n        shape._fireAndBubble(WHEEL, {\n          evt: evt\n        });\n      } else {\n        this._fire(WHEEL, {\n          evt: evt,\n          target: this,\n          currentTarget: this\n        });\n      }\n    }\n  }, {\n    key: \"_pointercancel\",\n    value: function _pointercancel(evt) {\n      this.setPointersPositions(evt);\n      var shape = PointerEvents.getCapturedShape(evt.pointerId) || this.getIntersection(this.getPointerPosition());\n\n      if (shape) {\n        shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n      }\n\n      PointerEvents.releaseCapture(evt.pointerId);\n    }\n  }, {\n    key: \"_lostpointercapture\",\n    value: function _lostpointercapture(evt) {\n      PointerEvents.releaseCapture(evt.pointerId);\n    }\n  }, {\n    key: \"setPointersPositions\",\n    value: function setPointersPositions(evt) {\n      var _this6 = this;\n\n      var contentPosition = this._getContentPosition(),\n          x = null,\n          y = null;\n\n      evt = evt ? evt : window.event;\n\n      if (evt.touches !== undefined) {\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        Array.prototype.forEach.call(evt.touches, function (touch) {\n          _this6._pointerPositions.push({\n            id: touch.identifier,\n            x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n            y: (touch.clientY - contentPosition.top) / contentPosition.scaleY\n          });\n        });\n        Array.prototype.forEach.call(evt.changedTouches || evt.touches, function (touch) {\n          _this6._changedPointerPositions.push({\n            id: touch.identifier,\n            x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n            y: (touch.clientY - contentPosition.top) / contentPosition.scaleY\n          });\n        });\n      } else {\n        x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n        y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n        this.pointerPos = {\n          x: x,\n          y: y\n        };\n        this._pointerPositions = [{\n          x: x,\n          y: y,\n          id: Util._getFirstPointerId(evt)\n        }];\n        this._changedPointerPositions = [{\n          x: x,\n          y: y,\n          id: Util._getFirstPointerId(evt)\n        }];\n      }\n    }\n  }, {\n    key: \"_setPointerPosition\",\n    value: function _setPointerPosition(evt) {\n      Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n      this.setPointersPositions(evt);\n    }\n  }, {\n    key: \"_getContentPosition\",\n    value: function _getContentPosition() {\n      if (!this.content || !this.content.getBoundingClientRect) {\n        return {\n          top: 0,\n          left: 0,\n          scaleX: 1,\n          scaleY: 1\n        };\n      }\n\n      var rect = this.content.getBoundingClientRect();\n      return {\n        top: rect.top,\n        left: rect.left,\n        scaleX: rect.width / this.content.clientWidth || 1,\n        scaleY: rect.height / this.content.clientHeight || 1\n      };\n    }\n  }, {\n    key: \"_buildDOM\",\n    value: function _buildDOM() {\n      this.bufferCanvas = new SceneCanvas({\n        width: this.width(),\n        height: this.height()\n      });\n      this.bufferHitCanvas = new HitCanvas({\n        pixelRatio: 1,\n        width: this.width(),\n        height: this.height()\n      });\n\n      if (!Konva.isBrowser) {\n        return;\n      }\n\n      var container = this.container();\n\n      if (!container) {\n        throw 'Stage has no container. A container is required.';\n      }\n\n      container.innerHTML = '';\n      this.content = document.createElement('div');\n      this.content.style.position = 'relative';\n      this.content.style.userSelect = 'none';\n      this.content.className = 'konvajs-content';\n      this.content.setAttribute('role', 'presentation');\n      container.appendChild(this.content);\n\n      this._resizeDOM();\n    }\n  }, {\n    key: \"cache\",\n    value: function cache() {\n      Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n      return this;\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      return this;\n    }\n  }, {\n    key: \"batchDraw\",\n    value: function batchDraw() {\n      this.getChildren().forEach(function (layer) {\n        layer.batchDraw();\n      });\n      return this;\n    }\n  }]);\n\n  return Stage;\n}(Container);\nStage.prototype.nodeType = STAGE;\n\n_registerNode(Stage);\n\nFactory.addGetterSetter(Stage, 'container');","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"core-js/modules/es6.array.fill\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Konva } from './Global.js';\nimport { Transform, Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator, getNumberOrAutoValidator, getStringValidator, getBooleanValidator, getStringOrGradientValidator } from './Validators.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nvar dummyContext;\n\nfunction getDummyContext() {\n  if (dummyContext) {\n    return dummyContext;\n  }\n\n  dummyContext = Util.createCanvasElement().getContext('2d');\n  return dummyContext;\n}\n\nexport var shapes = {};\n\nfunction _fillFunc(context) {\n  context.fill();\n}\n\nfunction _strokeFunc(context) {\n  context.stroke();\n}\n\nfunction _fillFuncHit(context) {\n  context.fill();\n}\n\nfunction _strokeFuncHit(context) {\n  context.stroke();\n}\n\nfunction _clearHasShadowCache() {\n  this._clearCache(HAS_SHADOW);\n}\n\nfunction _clearGetShadowRGBACache() {\n  this._clearCache(SHADOW_RGBA);\n}\n\nfunction _clearFillPatternCache() {\n  this._clearCache(patternImage);\n}\n\nfunction _clearLinearGradientCache() {\n  this._clearCache(linearGradient);\n}\n\nfunction _clearRadialGradientCache() {\n  this._clearCache(radialGradient);\n}\n\nexport var Shape = /*#__PURE__*/function (_Node) {\n  _inherits(Shape, _Node);\n\n  var _super = _createSuper(Shape);\n\n  function Shape(config) {\n    var _this;\n\n    _classCallCheck(this, Shape);\n\n    _this = _super.call(this, config);\n    var key;\n\n    while (true) {\n      key = Util.getRandomColor();\n\n      if (key && !(key in shapes)) {\n        break;\n      }\n    }\n\n    _this.colorKey = key;\n    shapes[key] = _assertThisInitialized(_this);\n    return _this;\n  }\n\n  _createClass(Shape, [{\n    key: \"getContext\",\n    value: function getContext() {\n      Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n      return this.getLayer().getContext();\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n      return this.getLayer().getCanvas();\n    }\n  }, {\n    key: \"getSceneFunc\",\n    value: function getSceneFunc() {\n      return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n  }, {\n    key: \"getHitFunc\",\n    value: function getHitFunc() {\n      return this.attrs.hitFunc || this['_hitFunc'];\n    }\n  }, {\n    key: \"hasShadow\",\n    value: function hasShadow() {\n      return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n  }, {\n    key: \"_hasShadow\",\n    value: function _hasShadow() {\n      return this.shadowEnabled() && this.shadowOpacity() !== 0 && !!(this.shadowColor() || this.shadowBlur() || this.shadowOffsetX() || this.shadowOffsetY());\n    }\n  }, {\n    key: \"_getFillPattern\",\n    value: function _getFillPattern() {\n      return this._getCache(patternImage, this.__getFillPattern);\n    }\n  }, {\n    key: \"__getFillPattern\",\n    value: function __getFillPattern() {\n      if (this.fillPatternImage()) {\n        var ctx = getDummyContext();\n        var pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n\n        if (pattern && pattern.setTransform) {\n          var tr = new Transform();\n          tr.translate(this.fillPatternX(), this.fillPatternY());\n          tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n          tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n          tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n          var m = tr.getMatrix();\n          var matrix = typeof DOMMatrix === 'undefined' ? {\n            a: m[0],\n            b: m[1],\n            c: m[2],\n            d: m[3],\n            e: m[4],\n            f: m[5]\n          } : new DOMMatrix(m);\n          pattern.setTransform(matrix);\n        }\n\n        return pattern;\n      }\n    }\n  }, {\n    key: \"_getLinearGradient\",\n    value: function _getLinearGradient() {\n      return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n  }, {\n    key: \"__getLinearGradient\",\n    value: function __getLinearGradient() {\n      var colorStops = this.fillLinearGradientColorStops();\n\n      if (colorStops) {\n        var ctx = getDummyContext();\n        var start = this.fillLinearGradientStartPoint();\n        var end = this.fillLinearGradientEndPoint();\n        var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n\n        for (var n = 0; n < colorStops.length; n += 2) {\n          grd.addColorStop(colorStops[n], colorStops[n + 1]);\n        }\n\n        return grd;\n      }\n    }\n  }, {\n    key: \"_getRadialGradient\",\n    value: function _getRadialGradient() {\n      return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n  }, {\n    key: \"__getRadialGradient\",\n    value: function __getRadialGradient() {\n      var colorStops = this.fillRadialGradientColorStops();\n\n      if (colorStops) {\n        var ctx = getDummyContext();\n        var start = this.fillRadialGradientStartPoint();\n        var end = this.fillRadialGradientEndPoint();\n        var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n\n        for (var n = 0; n < colorStops.length; n += 2) {\n          grd.addColorStop(colorStops[n], colorStops[n + 1]);\n        }\n\n        return grd;\n      }\n    }\n  }, {\n    key: \"getShadowRGBA\",\n    value: function getShadowRGBA() {\n      return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n  }, {\n    key: \"_getShadowRGBA\",\n    value: function _getShadowRGBA() {\n      if (this.hasShadow()) {\n        var rgba = Util.colorToRGBA(this.shadowColor());\n        return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' + rgba.a * (this.shadowOpacity() || 1) + ')';\n      }\n    }\n  }, {\n    key: \"hasFill\",\n    value: function hasFill() {\n      var _this2 = this;\n\n      return this._calculate('hasFill', ['fillEnabled', 'fill', 'fillPatternImage', 'fillLinearGradientColorStops', 'fillRadialGradientColorStops'], function () {\n        return _this2.fillEnabled() && !!(_this2.fill() || _this2.fillPatternImage() || _this2.fillLinearGradientColorStops() || _this2.fillRadialGradientColorStops());\n      });\n    }\n  }, {\n    key: \"hasStroke\",\n    value: function hasStroke() {\n      var _this3 = this;\n\n      return this._calculate('hasStroke', ['strokeEnabled', 'strokeWidth', 'stroke', 'strokeLinearGradientColorStops'], function () {\n        return _this3.strokeEnabled() && _this3.strokeWidth() && !!(_this3.stroke() || _this3.strokeLinearGradientColorStops());\n      });\n    }\n  }, {\n    key: \"hasHitStroke\",\n    value: function hasHitStroke() {\n      var width = this.hitStrokeWidth();\n\n      if (width === 'auto') {\n        return this.hasStroke();\n      }\n\n      return this.strokeEnabled() && !!width;\n    }\n  }, {\n    key: \"intersects\",\n    value: function intersects(point) {\n      var stage = this.getStage(),\n          bufferHitCanvas = stage.bufferHitCanvas,\n          p;\n      bufferHitCanvas.getContext().clear();\n      this.drawHit(bufferHitCanvas, null, true);\n      p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n      return p[3] > 0;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      Node.prototype.destroy.call(this);\n      delete shapes[this.colorKey];\n      delete this.colorKey;\n      return this;\n    }\n  }, {\n    key: \"_useBufferCanvas\",\n    value: function _useBufferCanvas(forceFill) {\n      var _a;\n\n      if (!this.getStage()) {\n        return false;\n      }\n\n      var perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n\n      if (!perfectDrawEnabled) {\n        return false;\n      }\n\n      var hasFill = forceFill || this.hasFill();\n      var hasStroke = this.hasStroke();\n      var isTransparent = this.getAbsoluteOpacity() !== 1;\n\n      if (hasFill && hasStroke && isTransparent) {\n        return true;\n      }\n\n      var hasShadow = this.hasShadow();\n      var strokeForShadow = this.shadowForStrokeEnabled();\n\n      if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"setStrokeHitEnabled\",\n    value: function setStrokeHitEnabled(val) {\n      Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n\n      if (val) {\n        this.hitStrokeWidth('auto');\n      } else {\n        this.hitStrokeWidth(0);\n      }\n    }\n  }, {\n    key: \"getStrokeHitEnabled\",\n    value: function getStrokeHitEnabled() {\n      if (this.hitStrokeWidth() === 0) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var size = this.size();\n      return {\n        x: this._centroid ? -size.width / 2 : 0,\n        y: this._centroid ? -size.height / 2 : 0,\n        width: size.width,\n        height: size.height\n      };\n    }\n  }, {\n    key: \"getClientRect\",\n    value: function getClientRect() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var skipTransform = config.skipTransform;\n      var relativeTo = config.relativeTo;\n      var fillRect = this.getSelfRect();\n      var applyStroke = !config.skipStroke && this.hasStroke();\n      var strokeWidth = applyStroke && this.strokeWidth() || 0;\n      var fillAndStrokeWidth = fillRect.width + strokeWidth;\n      var fillAndStrokeHeight = fillRect.height + strokeWidth;\n      var applyShadow = !config.skipShadow && this.hasShadow();\n      var shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n      var shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n      var preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n      var preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n      var blurRadius = applyShadow && this.shadowBlur() || 0;\n      var width = preWidth + blurRadius * 2;\n      var height = preHeight + blurRadius * 2;\n      var rect = {\n        width: width,\n        height: height,\n        x: -(strokeWidth / 2 + blurRadius) + Math.min(shadowOffsetX, 0) + fillRect.x,\n        y: -(strokeWidth / 2 + blurRadius) + Math.min(shadowOffsetY, 0) + fillRect.y\n      };\n\n      if (!skipTransform) {\n        return this._transformedRect(rect, relativeTo);\n      }\n\n      return rect;\n    }\n  }, {\n    key: \"drawScene\",\n    value: function drawScene(can, top) {\n      var layer = this.getLayer(),\n          canvas = can || layer.getCanvas(),\n          context = canvas.getContext(),\n          cachedCanvas = this._getCanvasCache(),\n          drawFunc = this.getSceneFunc(),\n          hasShadow = this.hasShadow(),\n          stage,\n          bufferCanvas,\n          bufferContext;\n\n      var skipBuffer = canvas.isCache;\n      var cachingSelf = top === this;\n\n      if (!this.isVisible() && !cachingSelf) {\n        return this;\n      }\n\n      if (cachedCanvas) {\n        context.save();\n        var m = this.getAbsoluteTransform(top).getMatrix();\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n        this._drawCachedSceneCanvas(context);\n\n        context.restore();\n        return this;\n      }\n\n      if (!drawFunc) {\n        return this;\n      }\n\n      context.save();\n\n      if (this._useBufferCanvas() && !skipBuffer) {\n        stage = this.getStage();\n        bufferCanvas = stage.bufferCanvas;\n        bufferContext = bufferCanvas.getContext();\n        bufferContext.clear();\n        bufferContext.save();\n\n        bufferContext._applyLineJoin(this);\n\n        var o = this.getAbsoluteTransform(top).getMatrix();\n        bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        drawFunc.call(this, bufferContext, this);\n        bufferContext.restore();\n        var ratio = bufferCanvas.pixelRatio;\n\n        if (hasShadow) {\n          context._applyShadow(this);\n        }\n\n        context._applyOpacity(this);\n\n        context._applyGlobalCompositeOperation(this);\n\n        context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n      } else {\n        context._applyLineJoin(this);\n\n        if (!cachingSelf) {\n          var o = this.getAbsoluteTransform(top).getMatrix();\n          context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n\n          context._applyOpacity(this);\n\n          context._applyGlobalCompositeOperation(this);\n        }\n\n        if (hasShadow) {\n          context._applyShadow(this);\n        }\n\n        drawFunc.call(this, context, this);\n      }\n\n      context.restore();\n      return this;\n    }\n  }, {\n    key: \"drawHit\",\n    value: function drawHit(can, top) {\n      var skipDragCheck = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (!this.shouldDrawHit(top, skipDragCheck)) {\n        return this;\n      }\n\n      var layer = this.getLayer(),\n          canvas = can || layer.hitCanvas,\n          context = canvas && canvas.getContext(),\n          drawFunc = this.hitFunc() || this.sceneFunc(),\n          cachedCanvas = this._getCanvasCache(),\n          cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n\n      if (!this.colorKey) {\n        Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n      }\n\n      if (cachedHitCanvas) {\n        context.save();\n        var m = this.getAbsoluteTransform(top).getMatrix();\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n        this._drawCachedHitCanvas(context);\n\n        context.restore();\n        return this;\n      }\n\n      if (!drawFunc) {\n        return this;\n      }\n\n      context.save();\n\n      context._applyLineJoin(this);\n\n      var selfCache = this === top;\n\n      if (!selfCache) {\n        var o = this.getAbsoluteTransform(top).getMatrix();\n        context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n      }\n\n      drawFunc.call(this, context, this);\n      context.restore();\n      return this;\n    }\n  }, {\n    key: \"drawHitFromCache\",\n    value: function drawHitFromCache() {\n      var alphaThreshold = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var cachedCanvas = this._getCanvasCache(),\n          sceneCanvas = this._getCachedSceneCanvas(),\n          hitCanvas = cachedCanvas.hit,\n          hitContext = hitCanvas.getContext(),\n          hitWidth = hitCanvas.getWidth(),\n          hitHeight = hitCanvas.getHeight(),\n          hitImageData,\n          hitData,\n          len,\n          rgbColorKey,\n          i,\n          alpha;\n\n      hitContext.clear();\n      hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n\n      try {\n        hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n        hitData = hitImageData.data;\n        len = hitData.length;\n        rgbColorKey = Util._hexToRgb(this.colorKey);\n\n        for (i = 0; i < len; i += 4) {\n          alpha = hitData[i + 3];\n\n          if (alpha > alphaThreshold) {\n            hitData[i] = rgbColorKey.r;\n            hitData[i + 1] = rgbColorKey.g;\n            hitData[i + 2] = rgbColorKey.b;\n            hitData[i + 3] = 255;\n          } else {\n            hitData[i + 3] = 0;\n          }\n        }\n\n        hitContext.putImageData(hitImageData, 0, 0);\n      } catch (e) {\n        Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"hasPointerCapture\",\n    value: function hasPointerCapture(pointerId) {\n      return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n  }, {\n    key: \"setPointerCapture\",\n    value: function setPointerCapture(pointerId) {\n      PointerEvents.setPointerCapture(pointerId, this);\n    }\n  }, {\n    key: \"releaseCapture\",\n    value: function releaseCapture(pointerId) {\n      PointerEvents.releaseCapture(pointerId, this);\n    }\n  }]);\n\n  return Shape;\n}(Node);\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n\n_registerNode(Shape);\n\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory.addGetterSetter(Shape, 'stroke', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'strokeWidth', 2, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape, 'strokeHitEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'perfectDrawEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'lineJoin');\nFactory.addGetterSetter(Shape, 'lineCap');\nFactory.addGetterSetter(Shape, 'sceneFunc');\nFactory.addGetterSetter(Shape, 'hitFunc');\nFactory.addGetterSetter(Shape, 'dash');\nFactory.addGetterSetter(Shape, 'dashOffset', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowColor', undefined, getStringValidator());\nFactory.addGetterSetter(Shape, 'shadowBlur', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOpacity', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'shadowOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOffsetY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternImage');\nFactory.addGetterSetter(Shape, 'fill', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'fillPatternX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternScaleX', 1, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternScaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', ['x', 'y']);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', ['x', 'y']);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory.backCompat(Shape, {\n  dashArray: 'dash',\n  getDashArray: 'getDash',\n  setDashArray: 'getDash',\n  drawFunc: 'sceneFunc',\n  getDrawFunc: 'getSceneFunc',\n  setDrawFunc: 'setSceneFunc',\n  drawHitFunc: 'hitFunc',\n  getDrawHitFunc: 'getHitFunc',\n  setDrawHitFunc: 'setHitFunc'\n});","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { Node } from './Node.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { getBooleanValidator } from './Validators.js';\nimport { shapes } from './Shape.js';\nimport { _registerNode } from './Global.js';\nvar HASH = '#',\n    BEFORE_DRAW = 'beforeDraw',\n    DRAW = 'draw',\n    INTERSECTION_OFFSETS = [{\n  x: 0,\n  y: 0\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}],\n    INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nexport var Layer = /*#__PURE__*/function (_Container) {\n  _inherits(Layer, _Container);\n\n  var _super = _createSuper(Layer);\n\n  function Layer(config) {\n    var _this;\n\n    _classCallCheck(this, Layer);\n\n    _this = _super.call(this, config);\n    _this.canvas = new SceneCanvas();\n    _this.hitCanvas = new HitCanvas({\n      pixelRatio: 1\n    });\n    _this._waitingForDraw = false;\n\n    _this.on('visibleChange.konva', _this._checkVisibility);\n\n    _this._checkVisibility();\n\n    _this.on('imageSmoothingEnabledChange.konva', _this._setSmoothEnabled);\n\n    _this._setSmoothEnabled();\n\n    return _this;\n  }\n\n  _createClass(Layer, [{\n    key: \"createPNGStream\",\n    value: function createPNGStream() {\n      var c = this.canvas._canvas;\n      return c.createPNGStream();\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      return this.canvas;\n    }\n  }, {\n    key: \"getNativeCanvasElement\",\n    value: function getNativeCanvasElement() {\n      return this.canvas._canvas;\n    }\n  }, {\n    key: \"getHitCanvas\",\n    value: function getHitCanvas() {\n      return this.hitCanvas;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.getCanvas().getContext();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(bounds) {\n      this.getContext().clear(bounds);\n      this.getHitCanvas().getContext().clear(bounds);\n      return this;\n    }\n  }, {\n    key: \"setZIndex\",\n    value: function setZIndex(index) {\n      _get(_getPrototypeOf(Layer.prototype), \"setZIndex\", this).call(this, index);\n\n      var stage = this.getStage();\n\n      if (stage && stage.content) {\n        stage.content.removeChild(this.getNativeCanvasElement());\n\n        if (index < stage.children.length - 1) {\n          stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n        } else {\n          stage.content.appendChild(this.getNativeCanvasElement());\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"moveToTop\",\n    value: function moveToTop() {\n      Node.prototype.moveToTop.call(this);\n      var stage = this.getStage();\n\n      if (stage && stage.content) {\n        stage.content.removeChild(this.getNativeCanvasElement());\n        stage.content.appendChild(this.getNativeCanvasElement());\n      }\n\n      return true;\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var moved = Node.prototype.moveUp.call(this);\n\n      if (!moved) {\n        return false;\n      }\n\n      var stage = this.getStage();\n\n      if (!stage || !stage.content) {\n        return false;\n      }\n\n      stage.content.removeChild(this.getNativeCanvasElement());\n\n      if (this.index < stage.children.length - 1) {\n        stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n      } else {\n        stage.content.appendChild(this.getNativeCanvasElement());\n      }\n\n      return true;\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      if (Node.prototype.moveDown.call(this)) {\n        var stage = this.getStage();\n\n        if (stage) {\n          var children = stage.children;\n\n          if (stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n          }\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"moveToBottom\",\n    value: function moveToBottom() {\n      if (Node.prototype.moveToBottom.call(this)) {\n        var stage = this.getStage();\n\n        if (stage) {\n          var children = stage.children;\n\n          if (stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n          }\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getLayer\",\n    value: function getLayer() {\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var _canvas = this.getNativeCanvasElement();\n\n      Node.prototype.remove.call(this);\n\n      if (_canvas && _canvas.parentNode && Util._isInDocument(_canvas)) {\n        _canvas.parentNode.removeChild(_canvas);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getStage\",\n    value: function getStage() {\n      return this.parent;\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(_ref) {\n      var width = _ref.width,\n          height = _ref.height;\n      this.canvas.setSize(width, height);\n      this.hitCanvas.setSize(width, height);\n\n      this._setSmoothEnabled();\n\n      return this;\n    }\n  }, {\n    key: \"_validateAdd\",\n    value: function _validateAdd(child) {\n      var type = child.getType();\n\n      if (type !== 'Group' && type !== 'Shape') {\n        Util[\"throw\"]('You may only add groups and shapes to a layer.');\n      }\n    }\n  }, {\n    key: \"_toKonvaCanvas\",\n    value: function _toKonvaCanvas(config) {\n      config = config || {};\n      config.width = config.width || this.getWidth();\n      config.height = config.height || this.getHeight();\n      config.x = config.x !== undefined ? config.x : this.x();\n      config.y = config.y !== undefined ? config.y : this.y();\n      return Node.prototype._toKonvaCanvas.call(this, config);\n    }\n  }, {\n    key: \"_checkVisibility\",\n    value: function _checkVisibility() {\n      var visible = this.visible();\n\n      if (visible) {\n        this.canvas._canvas.style.display = 'block';\n      } else {\n        this.canvas._canvas.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"_setSmoothEnabled\",\n    value: function _setSmoothEnabled() {\n      this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      if (this.parent) {\n        return this.parent.width();\n      }\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth() {\n      Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      if (this.parent) {\n        return this.parent.height();\n      }\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight() {\n      Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n  }, {\n    key: \"batchDraw\",\n    value: function batchDraw() {\n      var _this2 = this;\n\n      if (!this._waitingForDraw) {\n        this._waitingForDraw = true;\n        Util.requestAnimFrame(function () {\n          _this2.draw();\n\n          _this2._waitingForDraw = false;\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getIntersection\",\n    value: function getIntersection(pos) {\n      if (!this.isListening() || !this.isVisible()) {\n        return null;\n      }\n\n      var spiralSearchDistance = 1;\n      var continueSearch = false;\n\n      while (true) {\n        for (var i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n          var intersectionOffset = INTERSECTION_OFFSETS[i];\n\n          var obj = this._getIntersection({\n            x: pos.x + intersectionOffset.x * spiralSearchDistance,\n            y: pos.y + intersectionOffset.y * spiralSearchDistance\n          });\n\n          var shape = obj.shape;\n\n          if (shape) {\n            return shape;\n          }\n\n          continueSearch = !!obj.antialiased;\n\n          if (!obj.antialiased) {\n            break;\n          }\n        }\n\n        if (continueSearch) {\n          spiralSearchDistance += 1;\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"_getIntersection\",\n    value: function _getIntersection(pos) {\n      var ratio = this.hitCanvas.pixelRatio;\n      var p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n      var p3 = p[3];\n\n      if (p3 === 255) {\n        var colorKey = Util._rgbToHex(p[0], p[1], p[2]);\n\n        var shape = shapes[HASH + colorKey];\n\n        if (shape) {\n          return {\n            shape: shape\n          };\n        }\n\n        return {\n          antialiased: true\n        };\n      } else if (p3 > 0) {\n        return {\n          antialiased: true\n        };\n      }\n\n      return {};\n    }\n  }, {\n    key: \"drawScene\",\n    value: function drawScene(can, top) {\n      var layer = this.getLayer(),\n          canvas = can || layer && layer.getCanvas();\n\n      this._fire(BEFORE_DRAW, {\n        node: this\n      });\n\n      if (this.clearBeforeDraw()) {\n        canvas.getContext().clear();\n      }\n\n      Container.prototype.drawScene.call(this, canvas, top);\n\n      this._fire(DRAW, {\n        node: this\n      });\n\n      return this;\n    }\n  }, {\n    key: \"drawHit\",\n    value: function drawHit(can, top) {\n      var layer = this.getLayer(),\n          canvas = can || layer && layer.hitCanvas;\n\n      if (layer && layer.clearBeforeDraw()) {\n        layer.getHitCanvas().getContext().clear();\n      }\n\n      Container.prototype.drawHit.call(this, canvas, top);\n      return this;\n    }\n  }, {\n    key: \"enableHitGraph\",\n    value: function enableHitGraph() {\n      this.hitGraphEnabled(true);\n      return this;\n    }\n  }, {\n    key: \"disableHitGraph\",\n    value: function disableHitGraph() {\n      this.hitGraphEnabled(false);\n      return this;\n    }\n  }, {\n    key: \"setHitGraphEnabled\",\n    value: function setHitGraphEnabled(val) {\n      Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n      this.listening(val);\n    }\n  }, {\n    key: \"getHitGraphEnabled\",\n    value: function getHitGraphEnabled(val) {\n      Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n      return this.listening();\n    }\n  }, {\n    key: \"toggleHitCanvas\",\n    value: function toggleHitCanvas() {\n      if (!this.parent || !this.parent['content']) {\n        return;\n      }\n\n      var parent = this.parent;\n      var added = !!this.hitCanvas._canvas.parentNode;\n\n      if (added) {\n        parent.content.removeChild(this.hitCanvas._canvas);\n      } else {\n        parent.content.appendChild(this.hitCanvas._canvas);\n      }\n    }\n  }]);\n\n  return Layer;\n}(Container);\nLayer.prototype.nodeType = 'Layer';\n\n_registerNode(Layer);\n\nFactory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory.addGetterSetter(Layer, 'hitGraphEnabled', true, getBooleanValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from './Util.js';\nimport { Layer } from './Layer.js';\nimport { _registerNode } from './Global.js';\nexport var FastLayer = /*#__PURE__*/function (_Layer) {\n  _inherits(FastLayer, _Layer);\n\n  var _super = _createSuper(FastLayer);\n\n  function FastLayer(attrs) {\n    var _this;\n\n    _classCallCheck(this, FastLayer);\n\n    _this = _super.call(this, attrs);\n\n    _this.listening(false);\n\n    Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    return _this;\n  }\n\n  return FastLayer;\n}(Layer);\nFastLayer.prototype.nodeType = 'FastLayer';\n\n_registerNode(FastLayer);","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { _registerNode } from './Global.js';\nexport var Group = /*#__PURE__*/function (_Container) {\n  _inherits(Group, _Container);\n\n  var _super = _createSuper(Group);\n\n  function Group() {\n    _classCallCheck(this, Group);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Group, [{\n    key: \"_validateAdd\",\n    value: function _validateAdd(child) {\n      var type = child.getType();\n\n      if (type !== 'Group' && type !== 'Shape') {\n        Util[\"throw\"]('You may only add groups and shapes to groups.');\n      }\n    }\n  }]);\n\n  return Group;\n}(Container);\nGroup.prototype.nodeType = 'Group';\n\n_registerNode(Group);","import _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { glob } from './Global.js';\nimport { Util } from './Util.js';\n\nvar now = function () {\n  if (glob.performance && glob.performance.now) {\n    return function () {\n      return glob.performance.now();\n    };\n  }\n\n  return function () {\n    return new Date().getTime();\n  };\n}();\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(func, layers) {\n    _classCallCheck(this, Animation);\n\n    this.id = Animation.animIdCounter++;\n    this.frame = {\n      time: 0,\n      timeDiff: 0,\n      lastTime: now(),\n      frameRate: 0\n    };\n    this.func = func;\n    this.setLayers(layers);\n  }\n\n  _createClass(Animation, [{\n    key: \"setLayers\",\n    value: function setLayers(layers) {\n      var lays = [];\n\n      if (!layers) {\n        lays = [];\n      } else if (layers.length > 0) {\n        lays = layers;\n      } else {\n        lays = [layers];\n      }\n\n      this.layers = lays;\n      return this;\n    }\n  }, {\n    key: \"getLayers\",\n    value: function getLayers() {\n      return this.layers;\n    }\n  }, {\n    key: \"addLayer\",\n    value: function addLayer(layer) {\n      var layers = this.layers,\n          len = layers.length,\n          n;\n\n      for (n = 0; n < len; n++) {\n        if (layers[n]._id === layer._id) {\n          return false;\n        }\n      }\n\n      this.layers.push(layer);\n      return true;\n    }\n  }, {\n    key: \"isRunning\",\n    value: function isRunning() {\n      var a = Animation,\n          animations = a.animations,\n          len = animations.length,\n          n;\n\n      for (n = 0; n < len; n++) {\n        if (animations[n].id === this.id) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.stop();\n      this.frame.timeDiff = 0;\n      this.frame.lastTime = now();\n\n      Animation._addAnimation(this);\n\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      Animation._removeAnimation(this);\n\n      return this;\n    }\n  }, {\n    key: \"_updateFrameObject\",\n    value: function _updateFrameObject(time) {\n      this.frame.timeDiff = time - this.frame.lastTime;\n      this.frame.lastTime = time;\n      this.frame.time += this.frame.timeDiff;\n      this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n  }], [{\n    key: \"_addAnimation\",\n    value: function _addAnimation(anim) {\n      this.animations.push(anim);\n\n      this._handleAnimation();\n    }\n  }, {\n    key: \"_removeAnimation\",\n    value: function _removeAnimation(anim) {\n      var id = anim.id,\n          animations = this.animations,\n          len = animations.length,\n          n;\n\n      for (n = 0; n < len; n++) {\n        if (animations[n].id === id) {\n          this.animations.splice(n, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"_runFrames\",\n    value: function _runFrames() {\n      var layerHash = {},\n          animations = this.animations,\n          anim,\n          layers,\n          func,\n          n,\n          i,\n          layersLen,\n          layer,\n          key,\n          needRedraw;\n\n      for (n = 0; n < animations.length; n++) {\n        anim = animations[n];\n        layers = anim.layers;\n        func = anim.func;\n\n        anim._updateFrameObject(now());\n\n        layersLen = layers.length;\n\n        if (func) {\n          needRedraw = func.call(anim, anim.frame) !== false;\n        } else {\n          needRedraw = true;\n        }\n\n        if (!needRedraw) {\n          continue;\n        }\n\n        for (i = 0; i < layersLen; i++) {\n          layer = layers[i];\n\n          if (layer._id !== undefined) {\n            layerHash[layer._id] = layer;\n          }\n        }\n      }\n\n      for (key in layerHash) {\n        if (!layerHash.hasOwnProperty(key)) {\n          continue;\n        }\n\n        layerHash[key].batchDraw();\n      }\n    }\n  }, {\n    key: \"_animationLoop\",\n    value: function _animationLoop() {\n      var Anim = Animation;\n\n      if (Anim.animations.length) {\n        Anim._runFrames();\n\n        Util.requestAnimFrame(Anim._animationLoop);\n      } else {\n        Anim.animRunning = false;\n      }\n    }\n  }, {\n    key: \"_handleAnimation\",\n    value: function _handleAnimation() {\n      if (!this.animRunning) {\n        this.animRunning = true;\n        Util.requestAnimFrame(this._animationLoop);\n      }\n    }\n  }]);\n\n  return Animation;\n}();\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;","import \"core-js/modules/es6.array.index-of\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n  node: 1,\n  duration: 1,\n  easing: 1,\n  onFinish: 1,\n  yoyo: 1\n},\n    PAUSED = 1,\n    PLAYING = 2,\n    REVERSING = 3,\n    idCounter = 0,\n    colorAttrs = ['fill', 'stroke', 'shadowColor'];\n\nvar TweenEngine = /*#__PURE__*/function () {\n  function TweenEngine(prop, propFunc, func, begin, finish, duration, yoyo) {\n    _classCallCheck(this, TweenEngine);\n\n    this.prop = prop;\n    this.propFunc = propFunc;\n    this.begin = begin;\n    this._pos = begin;\n    this.duration = duration;\n    this._change = 0;\n    this.prevPos = 0;\n    this.yoyo = yoyo;\n    this._time = 0;\n    this._position = 0;\n    this._startTime = 0;\n    this._finish = 0;\n    this.func = func;\n    this._change = finish - this.begin;\n    this.pause();\n  }\n\n  _createClass(TweenEngine, [{\n    key: \"fire\",\n    value: function fire(str) {\n      var handler = this[str];\n\n      if (handler) {\n        handler();\n      }\n    }\n  }, {\n    key: \"setTime\",\n    value: function setTime(t) {\n      if (t > this.duration) {\n        if (this.yoyo) {\n          this._time = this.duration;\n          this.reverse();\n        } else {\n          this.finish();\n        }\n      } else if (t < 0) {\n        if (this.yoyo) {\n          this._time = 0;\n          this.play();\n        } else {\n          this.reset();\n        }\n      } else {\n        this._time = t;\n        this.update();\n      }\n    }\n  }, {\n    key: \"getTime\",\n    value: function getTime() {\n      return this._time;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(p) {\n      this.prevPos = this._pos;\n      this.propFunc(p);\n      this._pos = p;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(t) {\n      if (t === undefined) {\n        t = this._time;\n      }\n\n      return this.func(t, this.begin, this._change, this.duration);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.state = PLAYING;\n      this._startTime = this.getTimer() - this._time;\n      this.onEnterFrame();\n      this.fire('onPlay');\n    }\n  }, {\n    key: \"reverse\",\n    value: function reverse() {\n      this.state = REVERSING;\n      this._time = this.duration - this._time;\n      this._startTime = this.getTimer() - this._time;\n      this.onEnterFrame();\n      this.fire('onReverse');\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(t) {\n      this.pause();\n      this._time = t;\n      this.update();\n      this.fire('onSeek');\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.pause();\n      this._time = 0;\n      this.update();\n      this.fire('onReset');\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      this.pause();\n      this._time = this.duration;\n      this.update();\n      this.fire('onFinish');\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.setPosition(this.getPosition(this._time));\n      this.fire('onUpdate');\n    }\n  }, {\n    key: \"onEnterFrame\",\n    value: function onEnterFrame() {\n      var t = this.getTimer() - this._startTime;\n\n      if (this.state === PLAYING) {\n        this.setTime(t);\n      } else if (this.state === REVERSING) {\n        this.setTime(this.duration - t);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.state = PAUSED;\n      this.fire('onPause');\n    }\n  }, {\n    key: \"getTimer\",\n    value: function getTimer() {\n      return new Date().getTime();\n    }\n  }]);\n\n  return TweenEngine;\n}();\n\nexport var Tween = /*#__PURE__*/function () {\n  function Tween(config) {\n    _classCallCheck(this, Tween);\n\n    var that = this,\n        node = config.node,\n        nodeId = node._id,\n        duration,\n        easing = config.easing || Easings.Linear,\n        yoyo = !!config.yoyo,\n        key;\n\n    if (typeof config.duration === 'undefined') {\n      duration = 0.3;\n    } else if (config.duration === 0) {\n      duration = 0.001;\n    } else {\n      duration = config.duration;\n    }\n\n    this.node = node;\n    this._id = idCounter++;\n    var layers = node.getLayer() || (node instanceof Konva['Stage'] ? node.getLayers() : null);\n\n    if (!layers) {\n      Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n    }\n\n    this.anim = new Animation(function () {\n      that.tween.onEnterFrame();\n    }, layers);\n    this.tween = new TweenEngine(key, function (i) {\n      that._tweenFunc(i);\n    }, easing, 0, 1, duration * 1000, yoyo);\n\n    this._addListeners();\n\n    if (!Tween.attrs[nodeId]) {\n      Tween.attrs[nodeId] = {};\n    }\n\n    if (!Tween.attrs[nodeId][this._id]) {\n      Tween.attrs[nodeId][this._id] = {};\n    }\n\n    if (!Tween.tweens[nodeId]) {\n      Tween.tweens[nodeId] = {};\n    }\n\n    for (key in config) {\n      if (blacklist[key] === undefined) {\n        this._addAttr(key, config[key]);\n      }\n    }\n\n    this.reset();\n    this.onFinish = config.onFinish;\n    this.onReset = config.onReset;\n    this.onUpdate = config.onUpdate;\n  }\n\n  _createClass(Tween, [{\n    key: \"_addAttr\",\n    value: function _addAttr(key, end) {\n      var node = this.node,\n          nodeId = node._id,\n          start,\n          diff,\n          tweenId,\n          n,\n          len,\n          trueEnd,\n          trueStart,\n          endRGBA;\n      tweenId = Tween.tweens[nodeId][key];\n\n      if (tweenId) {\n        delete Tween.attrs[nodeId][tweenId][key];\n      }\n\n      start = node.getAttr(key);\n\n      if (Util._isArray(end)) {\n        diff = [];\n        len = Math.max(end.length, start.length);\n\n        if (key === 'points' && end.length !== start.length) {\n          if (end.length > start.length) {\n            trueStart = start;\n            start = Util._prepareArrayForTween(start, end, node.closed());\n          } else {\n            trueEnd = end;\n            end = Util._prepareArrayForTween(end, start, node.closed());\n          }\n        }\n\n        if (key.indexOf('fill') === 0) {\n          for (n = 0; n < len; n++) {\n            if (n % 2 === 0) {\n              diff.push(end[n] - start[n]);\n            } else {\n              var startRGBA = Util.colorToRGBA(start[n]);\n              endRGBA = Util.colorToRGBA(end[n]);\n              start[n] = startRGBA;\n              diff.push({\n                r: endRGBA.r - startRGBA.r,\n                g: endRGBA.g - startRGBA.g,\n                b: endRGBA.b - startRGBA.b,\n                a: endRGBA.a - startRGBA.a\n              });\n            }\n          }\n        } else {\n          for (n = 0; n < len; n++) {\n            diff.push(end[n] - start[n]);\n          }\n        }\n      } else if (colorAttrs.indexOf(key) !== -1) {\n        start = Util.colorToRGBA(start);\n        endRGBA = Util.colorToRGBA(end);\n        diff = {\n          r: endRGBA.r - start.r,\n          g: endRGBA.g - start.g,\n          b: endRGBA.b - start.b,\n          a: endRGBA.a - start.a\n        };\n      } else {\n        diff = end - start;\n      }\n\n      Tween.attrs[nodeId][this._id][key] = {\n        start: start,\n        diff: diff,\n        end: end,\n        trueEnd: trueEnd,\n        trueStart: trueStart\n      };\n      Tween.tweens[nodeId][key] = this._id;\n    }\n  }, {\n    key: \"_tweenFunc\",\n    value: function _tweenFunc(i) {\n      var node = this.node,\n          attrs = Tween.attrs[node._id][this._id],\n          key,\n          attr,\n          start,\n          diff,\n          newVal,\n          n,\n          len,\n          end;\n\n      for (key in attrs) {\n        attr = attrs[key];\n        start = attr.start;\n        diff = attr.diff;\n        end = attr.end;\n\n        if (Util._isArray(start)) {\n          newVal = [];\n          len = Math.max(start.length, end.length);\n\n          if (key.indexOf('fill') === 0) {\n            for (n = 0; n < len; n++) {\n              if (n % 2 === 0) {\n                newVal.push((start[n] || 0) + diff[n] * i);\n              } else {\n                newVal.push('rgba(' + Math.round(start[n].r + diff[n].r * i) + ',' + Math.round(start[n].g + diff[n].g * i) + ',' + Math.round(start[n].b + diff[n].b * i) + ',' + (start[n].a + diff[n].a * i) + ')');\n              }\n            }\n          } else {\n            for (n = 0; n < len; n++) {\n              newVal.push((start[n] || 0) + diff[n] * i);\n            }\n          }\n        } else if (colorAttrs.indexOf(key) !== -1) {\n          newVal = 'rgba(' + Math.round(start.r + diff.r * i) + ',' + Math.round(start.g + diff.g * i) + ',' + Math.round(start.b + diff.b * i) + ',' + (start.a + diff.a * i) + ')';\n        } else {\n          newVal = start + diff * i;\n        }\n\n        node.setAttr(key, newVal);\n      }\n    }\n  }, {\n    key: \"_addListeners\",\n    value: function _addListeners() {\n      var _this = this;\n\n      this.tween.onPlay = function () {\n        _this.anim.start();\n      };\n\n      this.tween.onReverse = function () {\n        _this.anim.start();\n      };\n\n      this.tween.onPause = function () {\n        _this.anim.stop();\n      };\n\n      this.tween.onFinish = function () {\n        var node = _this.node;\n        var attrs = Tween.attrs[node._id][_this._id];\n\n        if (attrs.points && attrs.points.trueEnd) {\n          node.setAttr('points', attrs.points.trueEnd);\n        }\n\n        if (_this.onFinish) {\n          _this.onFinish.call(_this);\n        }\n      };\n\n      this.tween.onReset = function () {\n        var node = _this.node;\n        var attrs = Tween.attrs[node._id][_this._id];\n\n        if (attrs.points && attrs.points.trueStart) {\n          node.points(attrs.points.trueStart);\n        }\n\n        if (_this.onReset) {\n          _this.onReset();\n        }\n      };\n\n      this.tween.onUpdate = function () {\n        if (_this.onUpdate) {\n          _this.onUpdate.call(_this);\n        }\n      };\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.tween.play();\n      return this;\n    }\n  }, {\n    key: \"reverse\",\n    value: function reverse() {\n      this.tween.reverse();\n      return this;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.tween.reset();\n      return this;\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(t) {\n      this.tween.seek(t * 1000);\n      return this;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.tween.pause();\n      return this;\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      this.tween.finish();\n      return this;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var nodeId = this.node._id,\n          thisId = this._id,\n          attrs = Tween.tweens[nodeId],\n          key;\n      this.pause();\n\n      for (key in attrs) {\n        delete Tween.tweens[nodeId][key];\n      }\n\n      delete Tween.attrs[nodeId][thisId];\n    }\n  }]);\n\n  return Tween;\n}();\nTween.attrs = {};\nTween.tweens = {};\n\nNode.prototype.to = function (params) {\n  var onFinish = params.onFinish;\n  params.node = this;\n\n  params.onFinish = function () {\n    this.destroy();\n\n    if (onFinish) {\n      onFinish();\n    }\n  };\n\n  var tween = new Tween(params);\n  tween.play();\n};\n\nexport var Easings = {\n  BackEaseIn: function BackEaseIn(t, b, c, d) {\n    var s = 1.70158;\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  BackEaseOut: function BackEaseOut(t, b, c, d) {\n    var s = 1.70158;\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  BackEaseInOut: function BackEaseInOut(t, b, c, d) {\n    var s = 1.70158;\n\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    }\n\n    return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n  },\n  ElasticEaseIn: function ElasticEaseIn(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * 0.3;\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  ElasticEaseOut: function ElasticEaseOut(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * 0.3;\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  ElasticEaseInOut: function ElasticEaseInOut(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    }\n\n    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n  },\n  BounceEaseOut: function BounceEaseOut(t, b, c, d) {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  BounceEaseIn: function BounceEaseIn(t, b, c, d) {\n    return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n  },\n  BounceEaseInOut: function BounceEaseInOut(t, b, c, d) {\n    if (t < d / 2) {\n      return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n    } else {\n      return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n    }\n  },\n  EaseIn: function EaseIn(t, b, c, d) {\n    return c * (t /= d) * t + b;\n  },\n  EaseOut: function EaseOut(t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  EaseInOut: function EaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    }\n\n    return -c / 2 * (--t * (t - 2) - 1) + b;\n  },\n  StrongEaseIn: function StrongEaseIn(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  StrongEaseOut: function StrongEaseOut(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  StrongEaseInOut: function StrongEaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    }\n\n    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n  },\n  Linear: function Linear(t, b, c, d) {\n    return c * t / d + b;\n  }\n};","import { Konva as Global } from './Global.js';\nimport { Util, Transform } from './Util.js';\nimport { Node } from './Node.js';\nimport { Container } from './Container.js';\nimport { Stage, stages } from './Stage.js';\nimport { Layer } from './Layer.js';\nimport { FastLayer } from './FastLayer.js';\nimport { Group } from './Group.js';\nimport { DD } from './DragAndDrop.js';\nimport { Shape, shapes } from './Shape.js';\nimport { Animation } from './Animation.js';\nimport { Tween, Easings } from './Tween.js';\nimport { Context } from './Context.js';\nimport { Canvas } from './Canvas.js';\nexport var Konva = Util._assign(Global, {\n  Util: Util,\n  Transform: Transform,\n  Node: Node,\n  Container: Container,\n  Stage: Stage,\n  stages: stages,\n  Layer: Layer,\n  FastLayer: FastLayer,\n  Group: Group,\n  DD: DD,\n  Shape: Shape,\n  shapes: shapes,\n  Animation: Animation,\n  Tween: Tween,\n  Easings: Easings,\n  Context: Context,\n  Canvas: Canvas\n});\nexport default Konva;","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator, getBooleanValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var Arc = /*#__PURE__*/function (_Shape) {\n  _inherits(Arc, _Shape);\n\n  var _super = _createSuper(Arc);\n\n  function Arc() {\n    _classCallCheck(this, Arc);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Arc, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var angle = Konva.getAngle(this.angle()),\n          clockwise = this.clockwise();\n      context.beginPath();\n      context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n      context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.outerRadius() * 2;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.outerRadius() * 2;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      this.outerRadius(width / 2);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.outerRadius(height / 2);\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var innerRadius = this.innerRadius();\n      var outerRadius = this.outerRadius();\n      var clockwise = this.clockwise();\n      var angle = Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());\n      var boundLeftRatio = Math.cos(Math.min(angle, Math.PI));\n      var boundRightRatio = 1;\n      var boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), 3 * Math.PI / 2));\n      var boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));\n      var boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);\n      var boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);\n      var boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);\n      var boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);\n      return {\n        x: boundLeft,\n        y: clockwise ? -1 * boundBottom : boundTop,\n        width: boundRight - boundLeft,\n        height: boundBottom - boundTop\n      };\n    }\n  }]);\n\n  return Arc;\n}(Shape);\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n\n_registerNode(Arc);\n\nFactory.addGetterSetter(Arc, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'outerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'clockwise', false, getBooleanValidator());","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _toConsumableArray from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getNumberArrayValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\n\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n  var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)),\n      d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)),\n      fa = t * d01 / (d01 + d12),\n      fb = t * d12 / (d01 + d12),\n      p1x = x1 - fa * (x2 - x0),\n      p1y = y1 - fa * (y2 - y0),\n      p2x = x1 + fb * (x2 - x0),\n      p2y = y1 + fb * (y2 - y0);\n  return [p1x, p1y, p2x, p2y];\n}\n\nfunction expandPoints(p, tension) {\n  var len = p.length,\n      allPoints = [],\n      n,\n      cp;\n\n  for (n = 2; n < len - 2; n += 2) {\n    cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n\n    if (isNaN(cp[0])) {\n      continue;\n    }\n\n    allPoints.push(cp[0]);\n    allPoints.push(cp[1]);\n    allPoints.push(p[n]);\n    allPoints.push(p[n + 1]);\n    allPoints.push(cp[2]);\n    allPoints.push(cp[3]);\n  }\n\n  return allPoints;\n}\n\nexport var Line = /*#__PURE__*/function (_Shape) {\n  _inherits(Line, _Shape);\n\n  var _super = _createSuper(Line);\n\n  function Line(config) {\n    var _this;\n\n    _classCallCheck(this, Line);\n\n    _this = _super.call(this, config);\n\n    _this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n      this._clearCache('tensionPoints');\n    });\n\n    return _this;\n  }\n\n  _createClass(Line, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var points = this.points(),\n          length = points.length,\n          tension = this.tension(),\n          closed = this.closed(),\n          bezier = this.bezier(),\n          tp,\n          len,\n          n;\n\n      if (!length) {\n        return;\n      }\n\n      context.beginPath();\n      context.moveTo(points[0], points[1]);\n\n      if (tension !== 0 && length > 4) {\n        tp = this.getTensionPoints();\n        len = tp.length;\n        n = closed ? 0 : 4;\n\n        if (!closed) {\n          context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n        }\n\n        while (n < len - 2) {\n          context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n        }\n\n        if (!closed) {\n          context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n        }\n      } else if (bezier) {\n        n = 2;\n\n        while (n < length) {\n          context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n        }\n      } else {\n        for (n = 2; n < length; n += 2) {\n          context.lineTo(points[n], points[n + 1]);\n        }\n      }\n\n      if (closed) {\n        context.closePath();\n        context.fillStrokeShape(this);\n      } else {\n        context.strokeShape(this);\n      }\n    }\n  }, {\n    key: \"getTensionPoints\",\n    value: function getTensionPoints() {\n      return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n  }, {\n    key: \"_getTensionPoints\",\n    value: function _getTensionPoints() {\n      if (this.closed()) {\n        return this._getTensionPointsClosed();\n      } else {\n        return expandPoints(this.points(), this.tension());\n      }\n    }\n  }, {\n    key: \"_getTensionPointsClosed\",\n    value: function _getTensionPointsClosed() {\n      var p = this.points(),\n          len = p.length,\n          tension = this.tension(),\n          firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension),\n          lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension),\n          middle = expandPoints(p, tension),\n          tp = [firstControlPoints[2], firstControlPoints[3]].concat(middle).concat([lastControlPoints[0], lastControlPoints[1], p[len - 2], p[len - 1], lastControlPoints[2], lastControlPoints[3], firstControlPoints[0], firstControlPoints[1], p[0], p[1]]);\n      return tp;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.getSelfRect().width;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.getSelfRect().height;\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var points = this.points();\n\n      if (points.length < 4) {\n        return {\n          x: points[0] || 0,\n          y: points[1] || 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (this.tension() !== 0) {\n        points = [points[0], points[1]].concat(_toConsumableArray(this._getTensionPoints()), [points[points.length - 2], points[points.length - 1]]);\n      } else {\n        points = this.points();\n      }\n\n      var minX = points[0];\n      var maxX = points[0];\n      var minY = points[1];\n      var maxY = points[1];\n      var x, y;\n\n      for (var i = 0; i < points.length / 2; i++) {\n        x = points[i * 2];\n        y = points[i * 2 + 1];\n        minX = Math.min(minX, x);\n        maxX = Math.max(maxX, x);\n        minY = Math.min(minY, y);\n        maxY = Math.max(maxY, y);\n      }\n\n      return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY\n      };\n    }\n  }]);\n\n  return Line;\n}(Shape);\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n\n_registerNode(Line);\n\nFactory.addGetterSetter(Line, 'closed', false);\nFactory.addGetterSetter(Line, 'bezier', false);\nFactory.addGetterSetter(Line, 'tension', 0, getNumberValidator());\nFactory.addGetterSetter(Line, 'points', [], getNumberArrayValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nexport var Path = /*#__PURE__*/function (_Shape) {\n  _inherits(Path, _Shape);\n\n  var _super = _createSuper(Path);\n\n  function Path(config) {\n    var _this;\n\n    _classCallCheck(this, Path);\n\n    _this = _super.call(this, config);\n    _this.dataArray = [];\n    _this.pathLength = 0;\n    _this.dataArray = Path.parsePathData(_this.data());\n    _this.pathLength = 0;\n\n    for (var i = 0; i < _this.dataArray.length; ++i) {\n      _this.pathLength += _this.dataArray[i].pathLength;\n    }\n\n    _this.on('dataChange.konva', function () {\n      this.dataArray = Path.parsePathData(this.data());\n      this.pathLength = 0;\n\n      for (var i = 0; i < this.dataArray.length; ++i) {\n        this.pathLength += this.dataArray[i].pathLength;\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Path, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var ca = this.dataArray;\n      context.beginPath();\n      var isClosed = false;\n\n      for (var n = 0; n < ca.length; n++) {\n        var c = ca[n].command;\n        var p = ca[n].points;\n\n        switch (c) {\n          case 'L':\n            context.lineTo(p[0], p[1]);\n            break;\n\n          case 'M':\n            context.moveTo(p[0], p[1]);\n            break;\n\n          case 'C':\n            context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n            break;\n\n          case 'Q':\n            context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n            break;\n\n          case 'A':\n            var cx = p[0],\n                cy = p[1],\n                rx = p[2],\n                ry = p[3],\n                theta = p[4],\n                dTheta = p[5],\n                psi = p[6],\n                fs = p[7];\n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            context.translate(cx, cy);\n            context.rotate(psi);\n            context.scale(scaleX, scaleY);\n            context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n            context.scale(1 / scaleX, 1 / scaleY);\n            context.rotate(-psi);\n            context.translate(-cx, -cy);\n            break;\n\n          case 'z':\n            isClosed = true;\n            context.closePath();\n            break;\n        }\n      }\n\n      if (!isClosed && !this.hasFill()) {\n        context.strokeShape(this);\n      } else {\n        context.fillStrokeShape(this);\n      }\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var points = [];\n      this.dataArray.forEach(function (data) {\n        if (data.command === 'A') {\n          var start = data.points[4];\n          var dTheta = data.points[5];\n          var end = data.points[4] + dTheta;\n          var inc = Math.PI / 180.0;\n\n          if (Math.abs(start - end) < inc) {\n            inc = Math.abs(start - end);\n          }\n\n          if (dTheta < 0) {\n            for (var t = start - inc; t > end; t -= inc) {\n              var point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n              points.push(point.x, point.y);\n            }\n          } else {\n            for (var _t = start + inc; _t < end; _t += inc) {\n              var _point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], _t, 0);\n\n              points.push(_point.x, _point.y);\n            }\n          }\n        } else if (data.command === 'C') {\n          for (var _t2 = 0.0; _t2 <= 1; _t2 += 0.01) {\n            var _point2 = Path.getPointOnCubicBezier(_t2, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n\n            points.push(_point2.x, _point2.y);\n          }\n        } else {\n          points = points.concat(data.points);\n        }\n      });\n      var minX = points[0];\n      var maxX = points[0];\n      var minY = points[1];\n      var maxY = points[1];\n      var x, y;\n\n      for (var i = 0; i < points.length / 2; i++) {\n        x = points[i * 2];\n        y = points[i * 2 + 1];\n\n        if (!isNaN(x)) {\n          minX = Math.min(minX, x);\n          maxX = Math.max(maxX, x);\n        }\n\n        if (!isNaN(y)) {\n          minY = Math.min(minY, y);\n          maxY = Math.max(maxY, y);\n        }\n      }\n\n      return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY\n      };\n    }\n  }, {\n    key: \"getLength\",\n    value: function getLength() {\n      return this.pathLength;\n    }\n  }, {\n    key: \"getPointAtLength\",\n    value: function getPointAtLength(length) {\n      var point,\n          i = 0,\n          ii = this.dataArray.length;\n\n      if (!ii) {\n        return null;\n      }\n\n      while (i < ii && length > this.dataArray[i].pathLength) {\n        length -= this.dataArray[i].pathLength;\n        ++i;\n      }\n\n      if (i === ii) {\n        point = this.dataArray[i - 1].points.slice(-2);\n        return {\n          x: point[0],\n          y: point[1]\n        };\n      }\n\n      if (length < 0.01) {\n        point = this.dataArray[i].points.slice(0, 2);\n        return {\n          x: point[0],\n          y: point[1]\n        };\n      }\n\n      var cp = this.dataArray[i];\n      var p = cp.points;\n\n      switch (cp.command) {\n        case 'L':\n          return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n\n        case 'C':\n          return Path.getPointOnCubicBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n\n        case 'Q':\n          return Path.getPointOnQuadraticBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n\n        case 'A':\n          var cx = p[0],\n              cy = p[1],\n              rx = p[2],\n              ry = p[3],\n              theta = p[4],\n              dTheta = p[5],\n              psi = p[6];\n          theta += dTheta * length / cp.pathLength;\n          return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n      }\n\n      return null;\n    }\n  }], [{\n    key: \"getLineLength\",\n    value: function getLineLength(x1, y1, x2, y2) {\n      return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n  }, {\n    key: \"getPointOnLine\",\n    value: function getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n      if (fromX === undefined) {\n        fromX = P1x;\n      }\n\n      if (fromY === undefined) {\n        fromY = P1y;\n      }\n\n      var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n      var run = Math.sqrt(dist * dist / (1 + m * m));\n\n      if (P2x < P1x) {\n        run *= -1;\n      }\n\n      var rise = m * run;\n      var pt;\n\n      if (P2x === P1x) {\n        pt = {\n          x: fromX,\n          y: fromY + rise\n        };\n      } else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n        pt = {\n          x: fromX + run,\n          y: fromY + rise\n        };\n      } else {\n        var ix, iy;\n        var len = this.getLineLength(P1x, P1y, P2x, P2y);\n        var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n        u = u / (len * len);\n        ix = P1x + u * (P2x - P1x);\n        iy = P1y + u * (P2y - P1y);\n        var pRise = this.getLineLength(fromX, fromY, ix, iy);\n        var pRun = Math.sqrt(dist * dist - pRise * pRise);\n        run = Math.sqrt(pRun * pRun / (1 + m * m));\n\n        if (P2x < P1x) {\n          run *= -1;\n        }\n\n        rise = m * run;\n        pt = {\n          x: ix + run,\n          y: iy + rise\n        };\n      }\n\n      return pt;\n    }\n  }, {\n    key: \"getPointOnCubicBezier\",\n    value: function getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n      function CB1(t) {\n        return t * t * t;\n      }\n\n      function CB2(t) {\n        return 3 * t * t * (1 - t);\n      }\n\n      function CB3(t) {\n        return 3 * t * (1 - t) * (1 - t);\n      }\n\n      function CB4(t) {\n        return (1 - t) * (1 - t) * (1 - t);\n      }\n\n      var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n      var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"getPointOnQuadraticBezier\",\n    value: function getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n      function QB1(t) {\n        return t * t;\n      }\n\n      function QB2(t) {\n        return 2 * t * (1 - t);\n      }\n\n      function QB3(t) {\n        return (1 - t) * (1 - t);\n      }\n\n      var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n      var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"getPointOnEllipticalArc\",\n    value: function getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {\n      var cosPsi = Math.cos(psi),\n          sinPsi = Math.sin(psi);\n      var pt = {\n        x: rx * Math.cos(theta),\n        y: ry * Math.sin(theta)\n      };\n      return {\n        x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n        y: cy + (pt.x * sinPsi + pt.y * cosPsi)\n      };\n    }\n  }, {\n    key: \"parsePathData\",\n    value: function parsePathData(data) {\n      if (!data) {\n        return [];\n      }\n\n      var cs = data;\n      var cc = ['m', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z', 'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'];\n      cs = cs.replace(new RegExp(' ', 'g'), ',');\n\n      for (var n = 0; n < cc.length; n++) {\n        cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n      }\n\n      var arr = cs.split('|');\n      var ca = [];\n      var coords = [];\n      var cpx = 0;\n      var cpy = 0;\n      var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n      var match;\n\n      for (n = 1; n < arr.length; n++) {\n        var str = arr[n];\n        var c = str.charAt(0);\n        str = str.slice(1);\n        coords.length = 0;\n\n        while (match = re.exec(str)) {\n          coords.push(match[0]);\n        }\n\n        var p = [];\n\n        for (var j = 0, jlen = coords.length; j < jlen; j++) {\n          if (coords[j] === '00') {\n            p.push(0, 0);\n            continue;\n          }\n\n          var parsed = parseFloat(coords[j]);\n\n          if (!isNaN(parsed)) {\n            p.push(parsed);\n          } else {\n            p.push(0);\n          }\n        }\n\n        while (p.length > 0) {\n          if (isNaN(p[0])) {\n            break;\n          }\n\n          var cmd = null;\n          var points = [];\n          var startX = cpx,\n              startY = cpy;\n          var prevCmd, ctlPtx, ctlPty;\n          var rx, ry, psi, fa, fs, x1, y1;\n\n          switch (c) {\n            case 'l':\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n\n            case 'L':\n              cpx = p.shift();\n              cpy = p.shift();\n              points.push(cpx, cpy);\n              break;\n\n            case 'm':\n              var dx = p.shift();\n              var dy = p.shift();\n              cpx += dx;\n              cpy += dy;\n              cmd = 'M';\n\n              if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                for (var idx = ca.length - 2; idx >= 0; idx--) {\n                  if (ca[idx].command === 'M') {\n                    cpx = ca[idx].points[0] + dx;\n                    cpy = ca[idx].points[1] + dy;\n                    break;\n                  }\n                }\n              }\n\n              points.push(cpx, cpy);\n              c = 'l';\n              break;\n\n            case 'M':\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'M';\n              points.push(cpx, cpy);\n              c = 'L';\n              break;\n\n            case 'h':\n              cpx += p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n\n            case 'H':\n              cpx = p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n\n            case 'v':\n              cpy += p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n\n            case 'V':\n              cpy = p.shift();\n              cmd = 'L';\n              points.push(cpx, cpy);\n              break;\n\n            case 'C':\n              points.push(p.shift(), p.shift(), p.shift(), p.shift());\n              cpx = p.shift();\n              cpy = p.shift();\n              points.push(cpx, cpy);\n              break;\n\n            case 'c':\n              points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'C';\n              points.push(cpx, cpy);\n              break;\n\n            case 'S':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n\n              if (prevCmd.command === 'C') {\n                ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                ctlPty = cpy + (cpy - prevCmd.points[3]);\n              }\n\n              points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'C';\n              points.push(cpx, cpy);\n              break;\n\n            case 's':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n\n              if (prevCmd.command === 'C') {\n                ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                ctlPty = cpy + (cpy - prevCmd.points[3]);\n              }\n\n              points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'C';\n              points.push(cpx, cpy);\n              break;\n\n            case 'Q':\n              points.push(p.shift(), p.shift());\n              cpx = p.shift();\n              cpy = p.shift();\n              points.push(cpx, cpy);\n              break;\n\n            case 'q':\n              points.push(cpx + p.shift(), cpy + p.shift());\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'Q';\n              points.push(cpx, cpy);\n              break;\n\n            case 'T':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n\n              if (prevCmd.command === 'Q') {\n                ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                ctlPty = cpy + (cpy - prevCmd.points[1]);\n              }\n\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'Q';\n              points.push(ctlPtx, ctlPty, cpx, cpy);\n              break;\n\n            case 't':\n              ctlPtx = cpx;\n              ctlPty = cpy;\n              prevCmd = ca[ca.length - 1];\n\n              if (prevCmd.command === 'Q') {\n                ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                ctlPty = cpy + (cpy - prevCmd.points[1]);\n              }\n\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'Q';\n              points.push(ctlPtx, ctlPty, cpx, cpy);\n              break;\n\n            case 'A':\n              rx = p.shift();\n              ry = p.shift();\n              psi = p.shift();\n              fa = p.shift();\n              fs = p.shift();\n              x1 = cpx;\n              y1 = cpy;\n              cpx = p.shift();\n              cpy = p.shift();\n              cmd = 'A';\n              points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n              break;\n\n            case 'a':\n              rx = p.shift();\n              ry = p.shift();\n              psi = p.shift();\n              fa = p.shift();\n              fs = p.shift();\n              x1 = cpx;\n              y1 = cpy;\n              cpx += p.shift();\n              cpy += p.shift();\n              cmd = 'A';\n              points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n              break;\n          }\n\n          ca.push({\n            command: cmd || c,\n            points: points,\n            start: {\n              x: startX,\n              y: startY\n            },\n            pathLength: this.calcLength(startX, startY, cmd || c, points)\n          });\n        }\n\n        if (c === 'z' || c === 'Z') {\n          ca.push({\n            command: 'z',\n            points: [],\n            start: undefined,\n            pathLength: 0\n          });\n        }\n      }\n\n      return ca;\n    }\n  }, {\n    key: \"calcLength\",\n    value: function calcLength(x, y, cmd, points) {\n      var len, p1, p2, t;\n      var path = Path;\n\n      switch (cmd) {\n        case 'L':\n          return path.getLineLength(x, y, points[0], points[1]);\n\n        case 'C':\n          len = 0.0;\n          p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n\n          for (t = 0.01; t <= 1; t += 0.01) {\n            p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n            len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n            p1 = p2;\n          }\n\n          return len;\n\n        case 'Q':\n          len = 0.0;\n          p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);\n\n          for (t = 0.01; t <= 1; t += 0.01) {\n            p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);\n            len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n            p1 = p2;\n          }\n\n          return len;\n\n        case 'A':\n          len = 0.0;\n          var start = points[4];\n          var dTheta = points[5];\n          var end = points[4] + dTheta;\n          var inc = Math.PI / 180.0;\n\n          if (Math.abs(start - end) < inc) {\n            inc = Math.abs(start - end);\n          }\n\n          p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n\n          if (dTheta < 0) {\n            for (t = start - inc; t > end; t -= inc) {\n              p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n              len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n              p1 = p2;\n            }\n          } else {\n            for (t = start + inc; t < end; t += inc) {\n              p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n              len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n              p1 = p2;\n            }\n          }\n\n          p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n          len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n          return len;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"convertEndpointToCenterParameterization\",\n    value: function convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n      var psi = psiDeg * (Math.PI / 180.0);\n      var xp = Math.cos(psi) * (x1 - x2) / 2.0 + Math.sin(psi) * (y1 - y2) / 2.0;\n      var yp = -1 * Math.sin(psi) * (x1 - x2) / 2.0 + Math.cos(psi) * (y1 - y2) / 2.0;\n      var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n      if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n      }\n\n      var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n\n      if (fa === fs) {\n        f *= -1;\n      }\n\n      if (isNaN(f)) {\n        f = 0;\n      }\n\n      var cxp = f * rx * yp / ry;\n      var cyp = f * -ry * xp / rx;\n      var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n      var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n\n      var vMag = function vMag(v) {\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n      };\n\n      var vRatio = function vRatio(u, v) {\n        return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n      };\n\n      var vAngle = function vAngle(u, v) {\n        return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n      };\n\n      var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n      var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n      var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n      var dTheta = vAngle(u, v);\n\n      if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n      }\n\n      if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n      }\n\n      if (fs === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n      }\n\n      if (fs === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n      }\n\n      return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    }\n  }]);\n\n  return Path;\n}(Shape);\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n\n_registerNode(Path);\n\nFactory.addGetterSetter(Path, 'data');","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Line } from './Line.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nimport { Path } from './Path.js';\nexport var Arrow = /*#__PURE__*/function (_Line) {\n  _inherits(Arrow, _Line);\n\n  var _super = _createSuper(Arrow);\n\n  function Arrow() {\n    _classCallCheck(this, Arrow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Arrow, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(ctx) {\n      _get(_getPrototypeOf(Arrow.prototype), \"_sceneFunc\", this).call(this, ctx);\n\n      var PI2 = Math.PI * 2;\n      var points = this.points();\n      var tp = points;\n      var fromTension = this.tension() !== 0 && points.length > 4;\n\n      if (fromTension) {\n        tp = this.getTensionPoints();\n      }\n\n      var length = this.pointerLength();\n      var n = points.length;\n      var dx, dy;\n\n      if (fromTension) {\n        var lp = [tp[tp.length - 4], tp[tp.length - 3], tp[tp.length - 2], tp[tp.length - 1], points[n - 2], points[n - 1]];\n        var lastLength = Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], 'C', lp);\n        var previous = Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);\n        dx = points[n - 2] - previous.x;\n        dy = points[n - 1] - previous.y;\n      } else {\n        dx = points[n - 2] - points[n - 4];\n        dy = points[n - 1] - points[n - 3];\n      }\n\n      var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n      var width = this.pointerWidth();\n\n      if (this.pointerAtEnding()) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.translate(points[n - 2], points[n - 1]);\n        ctx.rotate(radians);\n        ctx.moveTo(0, 0);\n        ctx.lineTo(-length, width / 2);\n        ctx.lineTo(-length, -width / 2);\n        ctx.closePath();\n        ctx.restore();\n\n        this.__fillStroke(ctx);\n      }\n\n      if (this.pointerAtBeginning()) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.translate(points[0], points[1]);\n\n        if (fromTension) {\n          dx = (tp[0] + tp[2]) / 2 - points[0];\n          dy = (tp[1] + tp[3]) / 2 - points[1];\n        } else {\n          dx = points[2] - points[0];\n          dy = points[3] - points[1];\n        }\n\n        ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n        ctx.moveTo(0, 0);\n        ctx.lineTo(-length, width / 2);\n        ctx.lineTo(-length, -width / 2);\n        ctx.closePath();\n        ctx.restore();\n\n        this.__fillStroke(ctx);\n      }\n    }\n  }, {\n    key: \"__fillStroke\",\n    value: function __fillStroke(ctx) {\n      var isDashEnabled = this.dashEnabled();\n\n      if (isDashEnabled) {\n        this.attrs.dashEnabled = false;\n        ctx.setLineDash([]);\n      }\n\n      ctx.fillStrokeShape(this);\n\n      if (isDashEnabled) {\n        this.attrs.dashEnabled = true;\n      }\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var lineRect = _get(_getPrototypeOf(Arrow.prototype), \"getSelfRect\", this).call(this);\n\n      var offset = this.pointerWidth() / 2;\n      return {\n        x: lineRect.x - offset,\n        y: lineRect.y - offset,\n        width: lineRect.width + offset * 2,\n        height: lineRect.height + offset * 2\n      };\n    }\n  }]);\n\n  return Arrow;\n}(Line);\nArrow.prototype.className = 'Arrow';\n\n_registerNode(Arrow);\n\nFactory.addGetterSetter(Arrow, 'pointerLength', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerWidth', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nFactory.addGetterSetter(Arrow, 'pointerAtEnding', true);","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var Circle = /*#__PURE__*/function (_Shape) {\n  _inherits(Circle, _Shape);\n\n  var _super = _createSuper(Circle);\n\n  function Circle() {\n    _classCallCheck(this, Circle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Circle, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      context.beginPath();\n      context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.radius() * 2;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.radius() * 2;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      if (this.radius() !== width / 2) {\n        this.radius(width / 2);\n      }\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      if (this.radius() !== height / 2) {\n        this.radius(height / 2);\n      }\n    }\n  }]);\n\n  return Circle;\n}(Shape);\nCircle.prototype._centroid = true;\nCircle.prototype.className = 'Circle';\nCircle.prototype._attrsAffectingSize = ['radius'];\n\n_registerNode(Circle);\n\nFactory.addGetterSetter(Circle, 'radius', 0, getNumberValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var Ellipse = /*#__PURE__*/function (_Shape) {\n  _inherits(Ellipse, _Shape);\n\n  var _super = _createSuper(Ellipse);\n\n  function Ellipse() {\n    _classCallCheck(this, Ellipse);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Ellipse, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var rx = this.radiusX(),\n          ry = this.radiusY();\n      context.beginPath();\n      context.save();\n\n      if (rx !== ry) {\n        context.scale(1, ry / rx);\n      }\n\n      context.arc(0, 0, rx, 0, Math.PI * 2, false);\n      context.restore();\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.radiusX() * 2;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.radiusY() * 2;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      this.radiusX(width / 2);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.radiusY(height / 2);\n    }\n  }]);\n\n  return Ellipse;\n}(Shape);\nEllipse.prototype.className = 'Ellipse';\nEllipse.prototype._centroid = true;\nEllipse.prototype._attrsAffectingSize = ['radiusX', 'radiusY'];\n\n_registerNode(Ellipse);\n\nFactory.addComponentsGetterSetter(Ellipse, 'radius', ['x', 'y']);\nFactory.addGetterSetter(Ellipse, 'radiusX', 0, getNumberValidator());\nFactory.addGetterSetter(Ellipse, 'radiusY', 0, getNumberValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var Image = /*#__PURE__*/function (_Shape) {\n  _inherits(Image, _Shape);\n\n  var _super = _createSuper(Image);\n\n  function Image(attrs) {\n    var _this;\n\n    _classCallCheck(this, Image);\n\n    _this = _super.call(this, attrs);\n\n    _this.on('imageChange.konva', function () {\n      _this._setImageLoad();\n    });\n\n    _this._setImageLoad();\n\n    return _this;\n  }\n\n  _createClass(Image, [{\n    key: \"_setImageLoad\",\n    value: function _setImageLoad() {\n      var _this2 = this;\n\n      var image = this.image();\n\n      if (image && image.complete) {\n        return;\n      }\n\n      if (image && image.readyState === 4) {\n        return;\n      }\n\n      if (image && image['addEventListener']) {\n        image['addEventListener']('load', function () {\n          _this2._requestDraw();\n        });\n      }\n    }\n  }, {\n    key: \"_useBufferCanvas\",\n    value: function _useBufferCanvas() {\n      return _get(_getPrototypeOf(Image.prototype), \"_useBufferCanvas\", this).call(this, true);\n    }\n  }, {\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var width = this.getWidth();\n      var height = this.getHeight();\n      var image = this.attrs.image;\n      var params;\n\n      if (image) {\n        var cropWidth = this.attrs.cropWidth;\n        var cropHeight = this.attrs.cropHeight;\n\n        if (cropWidth && cropHeight) {\n          params = [image, this.cropX(), this.cropY(), cropWidth, cropHeight, 0, 0, width, height];\n        } else {\n          params = [image, 0, 0, width, height];\n        }\n      }\n\n      if (this.hasFill() || this.hasStroke()) {\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n      }\n\n      if (image) {\n        context.drawImage.apply(context, params);\n      }\n    }\n  }, {\n    key: \"_hitFunc\",\n    value: function _hitFunc(context) {\n      var width = this.width(),\n          height = this.height();\n      context.beginPath();\n      context.rect(0, 0, width, height);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      var _a, _b;\n\n      return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.width;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      var _a, _b;\n\n      return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.height;\n    }\n  }], [{\n    key: \"fromURL\",\n    value: function fromURL(url, callback) {\n      var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var img = Util.createImageElement();\n\n      img.onload = function () {\n        var image = new Image({\n          image: img\n        });\n        callback(image);\n      };\n\n      img.onerror = onError;\n      img.crossOrigin = 'Anonymous';\n      img.src = url;\n    }\n  }]);\n\n  return Image;\n}(Shape);\nImage.prototype.className = 'Image';\n\n_registerNode(Image);\n\nFactory.addGetterSetter(Image, 'image');\nFactory.addComponentsGetterSetter(Image, 'crop', ['x', 'y', 'width', 'height']);\nFactory.addGetterSetter(Image, 'cropX', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropY', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropHeight', 0, getNumberValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.array.find\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Group } from '../Group.js';\nimport { getNumberOrArrayOfNumbersValidator, getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar ATTR_CHANGE_LIST = ['fontFamily', 'fontSize', 'fontStyle', 'padding', 'lineHeight', 'text', 'width', 'height'],\n    CHANGE_KONVA = 'Change.konva',\n    NONE = 'none',\n    UP = 'up',\n    RIGHT = 'right',\n    DOWN = 'down',\n    LEFT = 'left',\n    attrChangeListLen = ATTR_CHANGE_LIST.length;\nexport var Label = /*#__PURE__*/function (_Group) {\n  _inherits(Label, _Group);\n\n  var _super = _createSuper(Label);\n\n  function Label(config) {\n    var _this;\n\n    _classCallCheck(this, Label);\n\n    _this = _super.call(this, config);\n\n    _this.on('add.konva', function (evt) {\n      this._addListeners(evt.child);\n\n      this._sync();\n    });\n\n    return _this;\n  }\n\n  _createClass(Label, [{\n    key: \"getText\",\n    value: function getText() {\n      return this.find('Text')[0];\n    }\n  }, {\n    key: \"getTag\",\n    value: function getTag() {\n      return this.find('Tag')[0];\n    }\n  }, {\n    key: \"_addListeners\",\n    value: function _addListeners(text) {\n      var that = this,\n          n;\n\n      var func = function func() {\n        that._sync();\n      };\n\n      for (n = 0; n < attrChangeListLen; n++) {\n        text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n      }\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.getText().width();\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.getText().height();\n    }\n  }, {\n    key: \"_sync\",\n    value: function _sync() {\n      var text = this.getText(),\n          tag = this.getTag(),\n          width,\n          height,\n          pointerDirection,\n          pointerWidth,\n          x,\n          y,\n          pointerHeight;\n\n      if (text && tag) {\n        width = text.width();\n        height = text.height();\n        pointerDirection = tag.pointerDirection();\n        pointerWidth = tag.pointerWidth();\n        pointerHeight = tag.pointerHeight();\n        x = 0;\n        y = 0;\n\n        switch (pointerDirection) {\n          case UP:\n            x = width / 2;\n            y = -1 * pointerHeight;\n            break;\n\n          case RIGHT:\n            x = width + pointerWidth;\n            y = height / 2;\n            break;\n\n          case DOWN:\n            x = width / 2;\n            y = height + pointerHeight;\n            break;\n\n          case LEFT:\n            x = -1 * pointerWidth;\n            y = height / 2;\n            break;\n        }\n\n        tag.setAttrs({\n          x: -1 * x,\n          y: -1 * y,\n          width: width,\n          height: height\n        });\n        text.setAttrs({\n          x: -1 * x,\n          y: -1 * y\n        });\n      }\n    }\n  }]);\n\n  return Label;\n}(Group);\nLabel.prototype.className = 'Label';\n\n_registerNode(Label);\n\nexport var Tag = /*#__PURE__*/function (_Shape) {\n  _inherits(Tag, _Shape);\n\n  var _super2 = _createSuper(Tag);\n\n  function Tag() {\n    _classCallCheck(this, Tag);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Tag, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var width = this.width(),\n          height = this.height(),\n          pointerDirection = this.pointerDirection(),\n          pointerWidth = this.pointerWidth(),\n          pointerHeight = this.pointerHeight(),\n          cornerRadius = this.cornerRadius();\n      var topLeft = 0;\n      var topRight = 0;\n      var bottomLeft = 0;\n      var bottomRight = 0;\n\n      if (typeof cornerRadius === 'number') {\n        topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n      } else {\n        topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n        topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n        bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n        bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n      }\n\n      context.beginPath();\n      context.moveTo(topLeft, 0);\n\n      if (pointerDirection === UP) {\n        context.lineTo((width - pointerWidth) / 2, 0);\n        context.lineTo(width / 2, -1 * pointerHeight);\n        context.lineTo((width + pointerWidth) / 2, 0);\n      }\n\n      context.lineTo(width - topRight, 0);\n      context.arc(width - topRight, topRight, topRight, Math.PI * 3 / 2, 0, false);\n\n      if (pointerDirection === RIGHT) {\n        context.lineTo(width, (height - pointerHeight) / 2);\n        context.lineTo(width + pointerWidth, height / 2);\n        context.lineTo(width, (height + pointerHeight) / 2);\n      }\n\n      context.lineTo(width, height - bottomRight);\n      context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n\n      if (pointerDirection === DOWN) {\n        context.lineTo((width + pointerWidth) / 2, height);\n        context.lineTo(width / 2, height + pointerHeight);\n        context.lineTo((width - pointerWidth) / 2, height);\n      }\n\n      context.lineTo(bottomLeft, height);\n      context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n\n      if (pointerDirection === LEFT) {\n        context.lineTo(0, (height + pointerHeight) / 2);\n        context.lineTo(-1 * pointerWidth, height / 2);\n        context.lineTo(0, (height - pointerHeight) / 2);\n      }\n\n      context.lineTo(0, topLeft);\n      context.arc(topLeft, topLeft, topLeft, Math.PI, Math.PI * 3 / 2, false);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var x = 0,\n          y = 0,\n          pointerWidth = this.pointerWidth(),\n          pointerHeight = this.pointerHeight(),\n          direction = this.pointerDirection(),\n          width = this.width(),\n          height = this.height();\n\n      if (direction === UP) {\n        y -= pointerHeight;\n        height += pointerHeight;\n      } else if (direction === DOWN) {\n        height += pointerHeight;\n      } else if (direction === LEFT) {\n        x -= pointerWidth * 1.5;\n        width += pointerWidth;\n      } else if (direction === RIGHT) {\n        width += pointerWidth * 1.5;\n      }\n\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }]);\n\n  return Tag;\n}(Shape);\nTag.prototype.className = 'Tag';\n\n_registerNode(Tag);\n\nFactory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory.addGetterSetter(Tag, 'pointerWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'pointerHeight', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nimport { getNumberOrArrayOfNumbersValidator } from '../Validators.js';\nexport var Rect = /*#__PURE__*/function (_Shape) {\n  _inherits(Rect, _Shape);\n\n  var _super = _createSuper(Rect);\n\n  function Rect() {\n    _classCallCheck(this, Rect);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Rect, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var cornerRadius = this.cornerRadius(),\n          width = this.width(),\n          height = this.height();\n      context.beginPath();\n\n      if (!cornerRadius) {\n        context.rect(0, 0, width, height);\n      } else {\n        var topLeft = 0;\n        var topRight = 0;\n        var bottomLeft = 0;\n        var bottomRight = 0;\n\n        if (typeof cornerRadius === 'number') {\n          topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n        } else {\n          topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n          topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n          bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n          bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n\n        context.moveTo(topLeft, 0);\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, Math.PI * 3 / 2, 0, false);\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, Math.PI * 3 / 2, false);\n      }\n\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }]);\n\n  return Rect;\n}(Shape);\nRect.prototype.className = 'Rect';\n\n_registerNode(Rect);\n\nFactory.addGetterSetter(Rect, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var RegularPolygon = /*#__PURE__*/function (_Shape) {\n  _inherits(RegularPolygon, _Shape);\n\n  var _super = _createSuper(RegularPolygon);\n\n  function RegularPolygon() {\n    _classCallCheck(this, RegularPolygon);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(RegularPolygon, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var points = this._getPoints();\n\n      context.beginPath();\n      context.moveTo(points[0].x, points[0].y);\n\n      for (var n = 1; n < points.length; n++) {\n        context.lineTo(points[n].x, points[n].y);\n      }\n\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"_getPoints\",\n    value: function _getPoints() {\n      var sides = this.attrs.sides;\n      var radius = this.attrs.radius || 0;\n      var points = [];\n\n      for (var n = 0; n < sides; n++) {\n        points.push({\n          x: radius * Math.sin(n * 2 * Math.PI / sides),\n          y: -1 * radius * Math.cos(n * 2 * Math.PI / sides)\n        });\n      }\n\n      return points;\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      var points = this._getPoints();\n\n      var minX = points[0].x;\n      var maxX = points[0].y;\n      var minY = points[0].x;\n      var maxY = points[0].y;\n      points.forEach(function (point) {\n        minX = Math.min(minX, point.x);\n        maxX = Math.max(maxX, point.x);\n        minY = Math.min(minY, point.y);\n        maxY = Math.max(maxY, point.y);\n      });\n      return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY\n      };\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.radius() * 2;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.radius() * 2;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      this.radius(width / 2);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.radius(height / 2);\n    }\n  }]);\n\n  return RegularPolygon;\n}(Shape);\nRegularPolygon.prototype.className = 'RegularPolygon';\nRegularPolygon.prototype._centroid = true;\nRegularPolygon.prototype._attrsAffectingSize = ['radius'];\n\n_registerNode(RegularPolygon);\n\nFactory.addGetterSetter(RegularPolygon, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(RegularPolygon, 'sides', 0, getNumberValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar PIx2 = Math.PI * 2;\nexport var Ring = /*#__PURE__*/function (_Shape) {\n  _inherits(Ring, _Shape);\n\n  var _super = _createSuper(Ring);\n\n  function Ring() {\n    _classCallCheck(this, Ring);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Ring, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      context.beginPath();\n      context.arc(0, 0, this.innerRadius(), 0, PIx2, false);\n      context.moveTo(this.outerRadius(), 0);\n      context.arc(0, 0, this.outerRadius(), PIx2, 0, true);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.outerRadius() * 2;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.outerRadius() * 2;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      this.outerRadius(width / 2);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.outerRadius(height / 2);\n    }\n  }]);\n\n  return Ring;\n}(Shape);\nRing.prototype.className = 'Ring';\nRing.prototype._centroid = true;\nRing.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n\n_registerNode(Ring);\n\nFactory.addGetterSetter(Ring, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Ring, 'outerRadius', 0, getNumberValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Animation } from '../Animation.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var Sprite = /*#__PURE__*/function (_Shape) {\n  _inherits(Sprite, _Shape);\n\n  var _super = _createSuper(Sprite);\n\n  function Sprite(config) {\n    var _this;\n\n    _classCallCheck(this, Sprite);\n\n    _this = _super.call(this, config);\n    _this._updated = true;\n    _this.anim = new Animation(function () {\n      var updated = _this._updated;\n      _this._updated = false;\n      return updated;\n    });\n\n    _this.on('animationChange.konva', function () {\n      this.frameIndex(0);\n    });\n\n    _this.on('frameIndexChange.konva', function () {\n      this._updated = true;\n    });\n\n    _this.on('frameRateChange.konva', function () {\n      if (!this.anim.isRunning()) {\n        return;\n      }\n\n      clearInterval(this.interval);\n\n      this._setInterval();\n    });\n\n    return _this;\n  }\n\n  _createClass(Sprite, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var anim = this.animation(),\n          index = this.frameIndex(),\n          ix4 = index * 4,\n          set = this.animations()[anim],\n          offsets = this.frameOffsets(),\n          x = set[ix4 + 0],\n          y = set[ix4 + 1],\n          width = set[ix4 + 2],\n          height = set[ix4 + 3],\n          image = this.image();\n\n      if (this.hasFill() || this.hasStroke()) {\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n      }\n\n      if (image) {\n        if (offsets) {\n          var offset = offsets[anim],\n              ix2 = index * 2;\n          context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n        } else {\n          context.drawImage(image, x, y, width, height, 0, 0, width, height);\n        }\n      }\n    }\n  }, {\n    key: \"_hitFunc\",\n    value: function _hitFunc(context) {\n      var anim = this.animation(),\n          index = this.frameIndex(),\n          ix4 = index * 4,\n          set = this.animations()[anim],\n          offsets = this.frameOffsets(),\n          width = set[ix4 + 2],\n          height = set[ix4 + 3];\n      context.beginPath();\n\n      if (offsets) {\n        var offset = offsets[anim];\n        var ix2 = index * 2;\n        context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n      } else {\n        context.rect(0, 0, width, height);\n      }\n\n      context.closePath();\n      context.fillShape(this);\n    }\n  }, {\n    key: \"_useBufferCanvas\",\n    value: function _useBufferCanvas() {\n      return _get(_getPrototypeOf(Sprite.prototype), \"_useBufferCanvas\", this).call(this, true);\n    }\n  }, {\n    key: \"_setInterval\",\n    value: function _setInterval() {\n      var that = this;\n      this.interval = setInterval(function () {\n        that._updateIndex();\n      }, 1000 / this.frameRate());\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      if (this.isRunning()) {\n        return;\n      }\n\n      var layer = this.getLayer();\n      this.anim.setLayers(layer);\n\n      this._setInterval();\n\n      this.anim.start();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.anim.stop();\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"isRunning\",\n    value: function isRunning() {\n      return this.anim.isRunning();\n    }\n  }, {\n    key: \"_updateIndex\",\n    value: function _updateIndex() {\n      var index = this.frameIndex(),\n          animation = this.animation(),\n          animations = this.animations(),\n          anim = animations[animation],\n          len = anim.length / 4;\n\n      if (index < len - 1) {\n        this.frameIndex(index + 1);\n      } else {\n        this.frameIndex(0);\n      }\n    }\n  }]);\n\n  return Sprite;\n}(Shape);\nSprite.prototype.className = 'Sprite';\n\n_registerNode(Sprite);\n\nFactory.addGetterSetter(Sprite, 'animation');\nFactory.addGetterSetter(Sprite, 'animations');\nFactory.addGetterSetter(Sprite, 'frameOffsets');\nFactory.addGetterSetter(Sprite, 'image');\nFactory.addGetterSetter(Sprite, 'frameIndex', 0, getNumberValidator());\nFactory.addGetterSetter(Sprite, 'frameRate', 17, getNumberValidator());\nFactory.backCompat(Sprite, {\n  index: 'frameIndex',\n  getIndex: 'getFrameIndex',\n  setIndex: 'setFrameIndex'\n});","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var Star = /*#__PURE__*/function (_Shape) {\n  _inherits(Star, _Shape);\n\n  var _super = _createSuper(Star);\n\n  function Star() {\n    _classCallCheck(this, Star);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Star, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var innerRadius = this.innerRadius(),\n          outerRadius = this.outerRadius(),\n          numPoints = this.numPoints();\n      context.beginPath();\n      context.moveTo(0, 0 - outerRadius);\n\n      for (var n = 1; n < numPoints * 2; n++) {\n        var radius = n % 2 === 0 ? outerRadius : innerRadius;\n        var x = radius * Math.sin(n * Math.PI / numPoints);\n        var y = -1 * radius * Math.cos(n * Math.PI / numPoints);\n        context.lineTo(x, y);\n      }\n\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.outerRadius() * 2;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.outerRadius() * 2;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      this.outerRadius(width / 2);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.outerRadius(height / 2);\n    }\n  }]);\n\n  return Star;\n}(Shape);\nStar.prototype.className = 'Star';\nStar.prototype._centroid = true;\nStar.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n\n_registerNode(Star);\n\nFactory.addGetterSetter(Star, 'numPoints', 5, getNumberValidator());\nFactory.addGetterSetter(Star, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Star, 'outerRadius', 0, getNumberValidator());","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es7.string.trim-left\";\nimport \"core-js/modules/es7.string.trim-right\";\nimport \"core-js/modules/es6.array.last-index-of\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getStringValidator, getNumberOrAutoValidator, getBooleanValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport function stringToArray(string) {\n  return Array.from(string);\n}\nvar AUTO = 'auto',\n    CENTER = 'center',\n    JUSTIFY = 'justify',\n    CHANGE_KONVA = 'Change.konva',\n    CONTEXT_2D = '2d',\n    DASH = '-',\n    LEFT = 'left',\n    TEXT = 'text',\n    TEXT_UPPER = 'Text',\n    TOP = 'top',\n    BOTTOM = 'bottom',\n    MIDDLE = 'middle',\n    NORMAL = 'normal',\n    PX_SPACE = 'px ',\n    SPACE = ' ',\n    RIGHT = 'right',\n    WORD = 'word',\n    CHAR = 'char',\n    NONE = 'none',\n    ELLIPSIS = '…',\n    ATTR_CHANGE_LIST = ['fontFamily', 'fontSize', 'fontStyle', 'fontVariant', 'padding', 'align', 'verticalAlign', 'lineHeight', 'text', 'width', 'height', 'wrap', 'ellipsis', 'letterSpacing'],\n    attrChangeListLen = ATTR_CHANGE_LIST.length;\n\nfunction normalizeFontFamily(fontFamily) {\n  return fontFamily.split(',').map(function (family) {\n    family = family.trim();\n    var hasSpace = family.indexOf(' ') >= 0;\n    var hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n\n    if (hasSpace && !hasQuotes) {\n      family = \"\\\"\".concat(family, \"\\\"\");\n    }\n\n    return family;\n  }).join(', ');\n}\n\nvar dummyContext;\n\nfunction getDummyContext() {\n  if (dummyContext) {\n    return dummyContext;\n  }\n\n  dummyContext = Util.createCanvasElement().getContext(CONTEXT_2D);\n  return dummyContext;\n}\n\nfunction _fillFunc(context) {\n  context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\n\nfunction _strokeFunc(context) {\n  context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\n\nfunction checkDefaultFill(config) {\n  config = config || {};\n\n  if (!config.fillLinearGradientColorStops && !config.fillRadialGradientColorStops && !config.fillPatternImage) {\n    config.fill = config.fill || 'black';\n  }\n\n  return config;\n}\n\nexport var Text = /*#__PURE__*/function (_Shape) {\n  _inherits(Text, _Shape);\n\n  var _super = _createSuper(Text);\n\n  function Text(config) {\n    var _this;\n\n    _classCallCheck(this, Text);\n\n    _this = _super.call(this, checkDefaultFill(config));\n    _this._partialTextX = 0;\n    _this._partialTextY = 0;\n\n    for (var n = 0; n < attrChangeListLen; n++) {\n      _this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, _this._setTextData);\n    }\n\n    _this._setTextData();\n\n    return _this;\n  }\n\n  _createClass(Text, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      var textArr = this.textArr,\n          textArrLen = textArr.length;\n\n      if (!this.text()) {\n        return;\n      }\n\n      var padding = this.padding(),\n          fontSize = this.fontSize(),\n          lineHeightPx = this.lineHeight() * fontSize,\n          verticalAlign = this.verticalAlign(),\n          alignY = 0,\n          align = this.align(),\n          totalWidth = this.getWidth(),\n          letterSpacing = this.letterSpacing(),\n          fill = this.fill(),\n          textDecoration = this.textDecoration(),\n          shouldUnderline = textDecoration.indexOf('underline') !== -1,\n          shouldLineThrough = textDecoration.indexOf('line-through') !== -1,\n          n;\n      var translateY = 0;\n      var translateY = lineHeightPx / 2;\n      var lineTranslateX = 0;\n      var lineTranslateY = 0;\n      context.setAttr('font', this._getContextFont());\n      context.setAttr('textBaseline', MIDDLE);\n      context.setAttr('textAlign', LEFT);\n\n      if (verticalAlign === MIDDLE) {\n        alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n      } else if (verticalAlign === BOTTOM) {\n        alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n      }\n\n      context.translate(padding, alignY + padding);\n\n      for (n = 0; n < textArrLen; n++) {\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        var obj = textArr[n],\n            text = obj.text,\n            width = obj.width,\n            lastLine = obj.lastInParagraph,\n            spacesNumber,\n            oneWord,\n            lineWidth;\n        context.save();\n\n        if (align === RIGHT) {\n          lineTranslateX += totalWidth - width - padding * 2;\n        } else if (align === CENTER) {\n          lineTranslateX += (totalWidth - width - padding * 2) / 2;\n        }\n\n        if (shouldUnderline) {\n          context.save();\n          context.beginPath();\n          context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n          spacesNumber = text.split(' ').length - 1;\n          oneWord = spacesNumber === 0;\n          lineWidth = align === JUSTIFY && lastLine && !oneWord ? totalWidth - padding * 2 : width;\n          context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n          context.lineWidth = fontSize / 15;\n          context.strokeStyle = fill;\n          context.stroke();\n          context.restore();\n        }\n\n        if (shouldLineThrough) {\n          context.save();\n          context.beginPath();\n          context.moveTo(lineTranslateX, translateY + lineTranslateY);\n          spacesNumber = text.split(' ').length - 1;\n          oneWord = spacesNumber === 0;\n          lineWidth = align === JUSTIFY && lastLine && !oneWord ? totalWidth - padding * 2 : width;\n          context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n          context.lineWidth = fontSize / 15;\n          context.strokeStyle = fill;\n          context.stroke();\n          context.restore();\n        }\n\n        if (letterSpacing !== 0 || align === JUSTIFY) {\n          spacesNumber = text.split(' ').length - 1;\n          var array = stringToArray(text);\n\n          for (var li = 0; li < array.length; li++) {\n            var letter = array[li];\n\n            if (letter === ' ' && !lastLine && align === JUSTIFY) {\n              lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n            }\n\n            this._partialTextX = lineTranslateX;\n            this._partialTextY = translateY + lineTranslateY;\n            this._partialText = letter;\n            context.fillStrokeShape(this);\n            lineTranslateX += this.measureSize(letter).width + letterSpacing;\n          }\n        } else {\n          this._partialTextX = lineTranslateX;\n          this._partialTextY = translateY + lineTranslateY;\n          this._partialText = text;\n          context.fillStrokeShape(this);\n        }\n\n        context.restore();\n\n        if (textArrLen > 1) {\n          translateY += lineHeightPx;\n        }\n      }\n    }\n  }, {\n    key: \"_hitFunc\",\n    value: function _hitFunc(context) {\n      var width = this.getWidth(),\n          height = this.getHeight();\n      context.beginPath();\n      context.rect(0, 0, width, height);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      var str = Util._isString(text) ? text : text === null || text === undefined ? '' : text + '';\n\n      this._setAttr(TEXT, str);\n\n      return this;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n      return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n      return isAuto ? this.fontSize() * this.textArr.length * this.lineHeight() + this.padding() * 2 : this.attrs.height;\n    }\n  }, {\n    key: \"getTextWidth\",\n    value: function getTextWidth() {\n      return this.textWidth;\n    }\n  }, {\n    key: \"getTextHeight\",\n    value: function getTextHeight() {\n      Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n      return this.textHeight;\n    }\n  }, {\n    key: \"measureSize\",\n    value: function measureSize(text) {\n      var _context = getDummyContext(),\n          fontSize = this.fontSize(),\n          metrics;\n\n      _context.save();\n\n      _context.font = this._getContextFont();\n      metrics = _context.measureText(text);\n\n      _context.restore();\n\n      return {\n        width: metrics.width,\n        height: fontSize\n      };\n    }\n  }, {\n    key: \"_getContextFont\",\n    value: function _getContextFont() {\n      return this.fontStyle() + SPACE + this.fontVariant() + SPACE + (this.fontSize() + PX_SPACE) + normalizeFontFamily(this.fontFamily());\n    }\n  }, {\n    key: \"_addTextLine\",\n    value: function _addTextLine(line) {\n      if (this.align() === JUSTIFY) {\n        line = line.trim();\n      }\n\n      var width = this._getTextWidth(line);\n\n      return this.textArr.push({\n        text: line,\n        width: width,\n        lastInParagraph: false\n      });\n    }\n  }, {\n    key: \"_getTextWidth\",\n    value: function _getTextWidth(text) {\n      var letterSpacing = this.letterSpacing();\n      var length = text.length;\n      return getDummyContext().measureText(text).width + (length ? letterSpacing * (length - 1) : 0);\n    }\n  }, {\n    key: \"_setTextData\",\n    value: function _setTextData() {\n      var lines = this.text().split('\\n'),\n          fontSize = +this.fontSize(),\n          textWidth = 0,\n          lineHeightPx = this.lineHeight() * fontSize,\n          width = this.attrs.width,\n          height = this.attrs.height,\n          fixedWidth = width !== AUTO && width !== undefined,\n          fixedHeight = height !== AUTO && height !== undefined,\n          padding = this.padding(),\n          maxWidth = width - padding * 2,\n          maxHeightPx = height - padding * 2,\n          currentHeightPx = 0,\n          wrap = this.wrap(),\n          shouldWrap = wrap !== NONE,\n          wrapAtWord = wrap !== CHAR && shouldWrap,\n          shouldAddEllipsis = this.ellipsis();\n      this.textArr = [];\n      getDummyContext().font = this._getContextFont();\n      var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n\n      for (var i = 0, max = lines.length; i < max; ++i) {\n        var line = lines[i];\n\n        var lineWidth = this._getTextWidth(line);\n\n        if (fixedWidth && lineWidth > maxWidth) {\n          while (line.length > 0) {\n            var low = 0,\n                high = line.length,\n                match = '',\n                matchWidth = 0;\n\n            while (low < high) {\n              var mid = low + high >>> 1,\n                  substr = line.slice(0, mid + 1),\n                  substrWidth = this._getTextWidth(substr) + additionalWidth;\n\n              if (substrWidth <= maxWidth) {\n                low = mid + 1;\n                match = substr;\n                matchWidth = substrWidth;\n              } else {\n                high = mid;\n              }\n            }\n\n            if (match) {\n              if (wrapAtWord) {\n                var wrapIndex;\n                var nextChar = line[match.length];\n                var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n\n                if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                  wrapIndex = match.length;\n                } else {\n                  wrapIndex = Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) + 1;\n                }\n\n                if (wrapIndex > 0) {\n                  low = wrapIndex;\n                  match = match.slice(0, low);\n                  matchWidth = this._getTextWidth(match);\n                }\n              }\n\n              match = match.trimRight();\n\n              this._addTextLine(match);\n\n              textWidth = Math.max(textWidth, matchWidth);\n              currentHeightPx += lineHeightPx;\n\n              if (!shouldWrap || fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                var lastLine = this.textArr[this.textArr.length - 1];\n\n                if (lastLine) {\n                  if (shouldAddEllipsis) {\n                    var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n\n                    if (!haveSpace) {\n                      lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n                    }\n\n                    this.textArr.splice(this.textArr.length - 1, 1);\n\n                    this._addTextLine(lastLine.text + ELLIPSIS);\n                  }\n                }\n\n                break;\n              }\n\n              line = line.slice(low);\n              line = line.trimLeft();\n\n              if (line.length > 0) {\n                lineWidth = this._getTextWidth(line);\n\n                if (lineWidth <= maxWidth) {\n                  this._addTextLine(line);\n\n                  currentHeightPx += lineHeightPx;\n                  textWidth = Math.max(textWidth, lineWidth);\n                  break;\n                }\n              }\n            } else {\n              break;\n            }\n          }\n        } else {\n          this._addTextLine(line);\n\n          currentHeightPx += lineHeightPx;\n          textWidth = Math.max(textWidth, lineWidth);\n        }\n\n        if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n          break;\n        }\n\n        if (this.textArr[this.textArr.length - 1]) {\n          this.textArr[this.textArr.length - 1].lastInParagraph = true;\n        }\n      }\n\n      this.textHeight = fontSize;\n      this.textWidth = textWidth;\n    }\n  }, {\n    key: \"getStrokeScaleEnabled\",\n    value: function getStrokeScaleEnabled() {\n      return true;\n    }\n  }]);\n\n  return Text;\n}(Shape);\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = ['text', 'fontSize', 'padding', 'wrap', 'lineHeight', 'letterSpacing'];\n\n_registerNode(Text);\n\nFactory.overWriteSetter(Text, 'width', getNumberOrAutoValidator());\nFactory.overWriteSetter(Text, 'height', getNumberOrAutoValidator());\nFactory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory.addGetterSetter(Text, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory.addGetterSetter(Text, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'align', LEFT);\nFactory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory.addGetterSetter(Text, 'lineHeight', 1, getNumberValidator());\nFactory.addGetterSetter(Text, 'wrap', WORD);\nFactory.addGetterSetter(Text, 'ellipsis', false, getBooleanValidator());\nFactory.addGetterSetter(Text, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'text', '', getStringValidator());\nFactory.addGetterSetter(Text, 'textDecoration', '');","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.fill\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Path } from './Path.js';\nimport { Text, stringToArray } from './Text.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EMPTY_STRING = '',\n    NORMAL = 'normal';\n\nfunction _fillFunc(context) {\n  context.fillText(this.partialText, 0, 0);\n}\n\nfunction _strokeFunc(context) {\n  context.strokeText(this.partialText, 0, 0);\n}\n\nexport var TextPath = /*#__PURE__*/function (_Shape) {\n  _inherits(TextPath, _Shape);\n\n  var _super = _createSuper(TextPath);\n\n  function TextPath(config) {\n    var _this;\n\n    _classCallCheck(this, TextPath);\n\n    _this = _super.call(this, config);\n    _this.dummyCanvas = Util.createCanvasElement();\n    _this.dataArray = [];\n    _this.dataArray = Path.parsePathData(_this.attrs.data);\n\n    _this.on('dataChange.konva', function () {\n      this.dataArray = Path.parsePathData(this.attrs.data);\n\n      this._setTextData();\n    });\n\n    _this.on('textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva', _this._setTextData);\n\n    _this._setTextData();\n\n    return _this;\n  }\n\n  _createClass(TextPath, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      context.setAttr('font', this._getContextFont());\n      context.setAttr('textBaseline', this.textBaseline());\n      context.setAttr('textAlign', 'left');\n      context.save();\n      var textDecoration = this.textDecoration();\n      var fill = this.fill();\n      var fontSize = this.fontSize();\n      var glyphInfo = this.glyphInfo;\n\n      if (textDecoration === 'underline') {\n        context.beginPath();\n      }\n\n      for (var i = 0; i < glyphInfo.length; i++) {\n        context.save();\n        var p0 = glyphInfo[i].p0;\n        context.translate(p0.x, p0.y);\n        context.rotate(glyphInfo[i].rotation);\n        this.partialText = glyphInfo[i].text;\n        context.fillStrokeShape(this);\n\n        if (textDecoration === 'underline') {\n          if (i === 0) {\n            context.moveTo(0, fontSize / 2 + 1);\n          }\n\n          context.lineTo(fontSize, fontSize / 2 + 1);\n        }\n\n        context.restore();\n      }\n\n      if (textDecoration === 'underline') {\n        context.strokeStyle = fill;\n        context.lineWidth = fontSize / 20;\n        context.stroke();\n      }\n\n      context.restore();\n    }\n  }, {\n    key: \"_hitFunc\",\n    value: function _hitFunc(context) {\n      context.beginPath();\n      var glyphInfo = this.glyphInfo;\n\n      if (glyphInfo.length >= 1) {\n        var p0 = glyphInfo[0].p0;\n        context.moveTo(p0.x, p0.y);\n      }\n\n      for (var i = 0; i < glyphInfo.length; i++) {\n        var p1 = glyphInfo[i].p1;\n        context.lineTo(p1.x, p1.y);\n      }\n\n      context.setAttr('lineWidth', this.fontSize());\n      context.setAttr('strokeStyle', this.colorKey);\n      context.stroke();\n    }\n  }, {\n    key: \"getTextWidth\",\n    value: function getTextWidth() {\n      return this.textWidth;\n    }\n  }, {\n    key: \"getTextHeight\",\n    value: function getTextHeight() {\n      Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n      return this.textHeight;\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      return Text.prototype.setText.call(this, text);\n    }\n  }, {\n    key: \"_getContextFont\",\n    value: function _getContextFont() {\n      return Text.prototype._getContextFont.call(this);\n    }\n  }, {\n    key: \"_getTextSize\",\n    value: function _getTextSize(text) {\n      var dummyCanvas = this.dummyCanvas;\n\n      var _context = dummyCanvas.getContext('2d');\n\n      _context.save();\n\n      _context.font = this._getContextFont();\n\n      var metrics = _context.measureText(text);\n\n      _context.restore();\n\n      return {\n        width: metrics.width,\n        height: parseInt(this.attrs.fontSize, 10)\n      };\n    }\n  }, {\n    key: \"_setTextData\",\n    value: function _setTextData() {\n      var that = this;\n\n      var size = this._getTextSize(this.attrs.text);\n\n      var letterSpacing = this.letterSpacing();\n      var align = this.align();\n      var kerningFunc = this.kerningFunc();\n      this.textWidth = size.width;\n      this.textHeight = size.height;\n      var textFullWidth = Math.max(this.textWidth + ((this.attrs.text || '').length - 1) * letterSpacing, 0);\n      this.glyphInfo = [];\n      var fullPathWidth = 0;\n\n      for (var l = 0; l < that.dataArray.length; l++) {\n        if (that.dataArray[l].pathLength > 0) {\n          fullPathWidth += that.dataArray[l].pathLength;\n        }\n      }\n\n      var offset = 0;\n\n      if (align === 'center') {\n        offset = Math.max(0, fullPathWidth / 2 - textFullWidth / 2);\n      }\n\n      if (align === 'right') {\n        offset = Math.max(0, fullPathWidth - textFullWidth);\n      }\n\n      var charArr = stringToArray(this.text());\n      var spacesNumber = this.text().split(' ').length - 1;\n      var p0, p1, pathCmd;\n      var pIndex = -1;\n      var currentT = 0;\n\n      var getNextPathSegment = function getNextPathSegment() {\n        currentT = 0;\n        var pathData = that.dataArray;\n\n        for (var j = pIndex + 1; j < pathData.length; j++) {\n          if (pathData[j].pathLength > 0) {\n            pIndex = j;\n            return pathData[j];\n          } else if (pathData[j].command === 'M') {\n            p0 = {\n              x: pathData[j].points[0],\n              y: pathData[j].points[1]\n            };\n          }\n        }\n\n        return {};\n      };\n\n      var findSegmentToFitCharacter = function findSegmentToFitCharacter(c) {\n        var glyphWidth = that._getTextSize(c).width + letterSpacing;\n\n        if (c === ' ' && align === 'justify') {\n          glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber;\n        }\n\n        var currLen = 0;\n        var attempts = 0;\n        p1 = undefined;\n\n        while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 && attempts < 20) {\n          attempts++;\n          var cumulativePathLength = currLen;\n\n          while (pathCmd === undefined) {\n            pathCmd = getNextPathSegment();\n\n            if (pathCmd && cumulativePathLength + pathCmd.pathLength < glyphWidth) {\n              cumulativePathLength += pathCmd.pathLength;\n              pathCmd = undefined;\n            }\n          }\n\n          if (pathCmd === {} || p0 === undefined) {\n            return undefined;\n          }\n\n          var needNewSegment = false;\n\n          switch (pathCmd.command) {\n            case 'L':\n              if (Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {\n                p1 = Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);\n              } else {\n                pathCmd = undefined;\n              }\n\n              break;\n\n            case 'A':\n              var start = pathCmd.points[4];\n              var dTheta = pathCmd.points[5];\n              var end = pathCmd.points[4] + dTheta;\n\n              if (currentT === 0) {\n                currentT = start + 0.00000001;\n              } else if (glyphWidth > currLen) {\n                currentT += Math.PI / 180.0 * dTheta / Math.abs(dTheta);\n              } else {\n                currentT -= Math.PI / 360.0 * dTheta / Math.abs(dTheta);\n              }\n\n              if (dTheta < 0 && currentT < end || dTheta >= 0 && currentT > end) {\n                currentT = end;\n                needNewSegment = true;\n              }\n\n              p1 = Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);\n              break;\n\n            case 'C':\n              if (currentT === 0) {\n                if (glyphWidth > pathCmd.pathLength) {\n                  currentT = 0.00000001;\n                } else {\n                  currentT = glyphWidth / pathCmd.pathLength;\n                }\n              } else if (glyphWidth > currLen) {\n                currentT += (glyphWidth - currLen) / pathCmd.pathLength / 2;\n              } else {\n                currentT = Math.max(currentT - (currLen - glyphWidth) / pathCmd.pathLength / 2, 0);\n              }\n\n              if (currentT > 1.0) {\n                currentT = 1.0;\n                needNewSegment = true;\n              }\n\n              p1 = Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);\n              break;\n\n            case 'Q':\n              if (currentT === 0) {\n                currentT = glyphWidth / pathCmd.pathLength;\n              } else if (glyphWidth > currLen) {\n                currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n              } else {\n                currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n              }\n\n              if (currentT > 1.0) {\n                currentT = 1.0;\n                needNewSegment = true;\n              }\n\n              p1 = Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);\n              break;\n          }\n\n          if (p1 !== undefined) {\n            currLen = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n          }\n\n          if (needNewSegment) {\n            needNewSegment = false;\n            pathCmd = undefined;\n          }\n        }\n      };\n\n      var testChar = 'C';\n      var glyphWidth = that._getTextSize(testChar).width + letterSpacing;\n      var lettersInOffset = offset / glyphWidth - 1;\n\n      for (var k = 0; k < lettersInOffset; k++) {\n        findSegmentToFitCharacter(testChar);\n\n        if (p0 === undefined || p1 === undefined) {\n          break;\n        }\n\n        p0 = p1;\n      }\n\n      for (var i = 0; i < charArr.length; i++) {\n        findSegmentToFitCharacter(charArr[i]);\n\n        if (p0 === undefined || p1 === undefined) {\n          break;\n        }\n\n        var width = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n        var kern = 0;\n\n        if (kerningFunc) {\n          try {\n            kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();\n          } catch (e) {\n            kern = 0;\n          }\n        }\n\n        p0.x += kern;\n        p1.x += kern;\n        this.textWidth += kern;\n        var midpoint = Path.getPointOnLine(kern + width / 2.0, p0.x, p0.y, p1.x, p1.y);\n        var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n        this.glyphInfo.push({\n          transposeX: midpoint.x,\n          transposeY: midpoint.y,\n          text: charArr[i],\n          rotation: rotation,\n          p0: p0,\n          p1: p1\n        });\n        p0 = p1;\n      }\n    }\n  }, {\n    key: \"getSelfRect\",\n    value: function getSelfRect() {\n      if (!this.glyphInfo.length) {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      var points = [];\n      this.glyphInfo.forEach(function (info) {\n        points.push(info.p0.x);\n        points.push(info.p0.y);\n        points.push(info.p1.x);\n        points.push(info.p1.y);\n      });\n      var minX = points[0] || 0;\n      var maxX = points[0] || 0;\n      var minY = points[1] || 0;\n      var maxY = points[1] || 0;\n      var x, y;\n\n      for (var i = 0; i < points.length / 2; i++) {\n        x = points[i * 2];\n        y = points[i * 2 + 1];\n        minX = Math.min(minX, x);\n        maxX = Math.max(maxX, x);\n        minY = Math.min(minY, y);\n        maxY = Math.max(maxY, y);\n      }\n\n      var fontSize = this.fontSize();\n      return {\n        x: minX - fontSize / 2,\n        y: minY - fontSize / 2,\n        width: maxX - minX + fontSize,\n        height: maxY - minY + fontSize\n      };\n    }\n  }]);\n\n  return TextPath;\n}(Shape);\nTextPath.prototype._fillFunc = _fillFunc;\nTextPath.prototype._strokeFunc = _strokeFunc;\nTextPath.prototype._fillFuncHit = _fillFunc;\nTextPath.prototype._strokeFuncHit = _strokeFunc;\nTextPath.prototype.className = 'TextPath';\nTextPath.prototype._attrsAffectingSize = ['text', 'fontSize', 'data'];\n\n_registerNode(TextPath);\n\nFactory.addGetterSetter(TextPath, 'data');\nFactory.addGetterSetter(TextPath, 'fontFamily', 'Arial');\nFactory.addGetterSetter(TextPath, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'fontStyle', NORMAL);\nFactory.addGetterSetter(TextPath, 'align', 'left');\nFactory.addGetterSetter(TextPath, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'textBaseline', 'middle');\nFactory.addGetterSetter(TextPath, 'fontVariant', NORMAL);\nFactory.addGetterSetter(TextPath, 'text', EMPTY_STRING);\nFactory.addGetterSetter(TextPath, 'textDecoration', null);\nFactory.addGetterSetter(TextPath, 'kerningFunc', null);","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.bind\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.map\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Util, Transform } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Shape } from '../Shape.js';\nimport { Rect } from './Rect.js';\nimport { Group } from '../Group.js';\nimport { Konva } from '../Global.js';\nimport { getBooleanValidator, getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EVENTS_NAME = 'tr-konva';\nvar ATTR_CHANGE_LIST = ['resizeEnabledChange', 'rotateAnchorOffsetChange', 'rotateEnabledChange', 'enabledAnchorsChange', 'anchorSizeChange', 'borderEnabledChange', 'borderStrokeChange', 'borderStrokeWidthChange', 'borderDashChange', 'anchorStrokeChange', 'anchorStrokeWidthChange', 'anchorFillChange', 'anchorCornerRadiusChange', 'ignoreStrokeChange'].map(function (e) {\n  return e + \".\".concat(EVENTS_NAME);\n}).join(' ');\nvar NODES_RECT = 'nodesRect';\nvar TRANSFORM_CHANGE_STR = ['widthChange', 'heightChange', 'scaleXChange', 'scaleYChange', 'skewXChange', 'skewYChange', 'rotationChange', 'offsetXChange', 'offsetYChange', 'transformsEnabledChange', 'strokeWidthChange'];\nvar ANGLES = {\n  'top-left': -45,\n  'top-center': 0,\n  'top-right': 45,\n  'middle-right': -90,\n  'middle-left': 90,\n  'bottom-left': -135,\n  'bottom-center': 180,\n  'bottom-right': 135\n};\nvar TOUCH_DEVICE = ('ontouchstart' in Konva._global);\n\nfunction getCursor(anchorName, rad) {\n  if (anchorName === 'rotater') {\n    return 'crosshair';\n  }\n\n  rad += Util.degToRad(ANGLES[anchorName] || 0);\n  var angle = (Util.radToDeg(rad) % 360 + 360) % 360;\n\n  if (Util._inRange(angle, 315 + 22.5, 360) || Util._inRange(angle, 0, 22.5)) {\n    return 'ns-resize';\n  } else if (Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {\n    return 'nesw-resize';\n  } else if (Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {\n    return 'ew-resize';\n  } else if (Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {\n    return 'nwse-resize';\n  } else if (Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {\n    return 'ns-resize';\n  } else if (Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {\n    return 'nesw-resize';\n  } else if (Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {\n    return 'ew-resize';\n  } else if (Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {\n    return 'nwse-resize';\n  } else {\n    Util.error('Transformer has unknown angle for cursor detection: ' + angle);\n    return 'pointer';\n  }\n}\n\nvar ANCHORS_NAMES = ['top-left', 'top-center', 'top-right', 'middle-right', 'middle-left', 'bottom-left', 'bottom-center', 'bottom-right'];\nvar MAX_SAFE_INTEGER = 100000000;\n\nfunction getCenter(shape) {\n  return {\n    x: shape.x + shape.width / 2 * Math.cos(shape.rotation) + shape.height / 2 * Math.sin(-shape.rotation),\n    y: shape.y + shape.height / 2 * Math.cos(shape.rotation) + shape.width / 2 * Math.sin(shape.rotation)\n  };\n}\n\nfunction rotateAroundPoint(shape, angleRad, point) {\n  var x = point.x + (shape.x - point.x) * Math.cos(angleRad) - (shape.y - point.y) * Math.sin(angleRad);\n  var y = point.y + (shape.x - point.x) * Math.sin(angleRad) + (shape.y - point.y) * Math.cos(angleRad);\n  return Object.assign(Object.assign({}, shape), {\n    rotation: shape.rotation + angleRad,\n    x: x,\n    y: y\n  });\n}\n\nfunction rotateAroundCenter(shape, deltaRad) {\n  var center = getCenter(shape);\n  return rotateAroundPoint(shape, deltaRad, center);\n}\n\nfunction getSnap(snaps, newRotationRad, tol) {\n  var snapped = newRotationRad;\n\n  for (var i = 0; i < snaps.length; i++) {\n    var angle = Konva.getAngle(snaps[i]);\n    var absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);\n    var dif = Math.min(absDiff, Math.PI * 2 - absDiff);\n\n    if (dif < tol) {\n      snapped = angle;\n    }\n  }\n\n  return snapped;\n}\n\nexport var Transformer = /*#__PURE__*/function (_Group) {\n  _inherits(Transformer, _Group);\n\n  var _super = _createSuper(Transformer);\n\n  function Transformer(config) {\n    var _this;\n\n    _classCallCheck(this, Transformer);\n\n    _this = _super.call(this, config);\n    _this._transforming = false;\n\n    _this._createElements();\n\n    _this._handleMouseMove = _this._handleMouseMove.bind(_assertThisInitialized(_this));\n    _this._handleMouseUp = _this._handleMouseUp.bind(_assertThisInitialized(_this));\n    _this.update = _this.update.bind(_assertThisInitialized(_this));\n\n    _this.on(ATTR_CHANGE_LIST, _this.update);\n\n    if (_this.getNode()) {\n      _this.update();\n    }\n\n    return _this;\n  }\n\n  _createClass(Transformer, [{\n    key: \"attachTo\",\n    value: function attachTo(node) {\n      this.setNode(node);\n      return this;\n    }\n  }, {\n    key: \"setNode\",\n    value: function setNode(node) {\n      Util.warn('tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.');\n      return this.setNodes([node]);\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode() {\n      return this._nodes && this._nodes[0];\n    }\n  }, {\n    key: \"_getEventNamespace\",\n    value: function _getEventNamespace() {\n      return EVENTS_NAME + this._id;\n    }\n  }, {\n    key: \"setNodes\",\n    value: function setNodes() {\n      var _this2 = this;\n\n      var nodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      if (this._nodes && this._nodes.length) {\n        this.detach();\n      }\n\n      this._nodes = nodes;\n\n      if (nodes.length === 1 && this.useSingleNodeRotation()) {\n        this.rotation(nodes[0].getAbsoluteRotation());\n      } else {\n        this.rotation(0);\n      }\n\n      this._nodes.forEach(function (node) {\n        var onChange = function onChange() {\n          if (_this2.nodes().length === 1 && _this2.useSingleNodeRotation()) {\n            _this2.rotation(_this2.nodes()[0].getAbsoluteRotation());\n          }\n\n          _this2._resetTransformCache();\n\n          if (!_this2._transforming && !_this2.isDragging()) {\n            _this2.update();\n          }\n        };\n\n        var additionalEvents = node._attrsAffectingSize.map(function (prop) {\n          return prop + 'Change.' + _this2._getEventNamespace();\n        }).join(' ');\n\n        node.on(additionalEvents, onChange);\n        node.on(TRANSFORM_CHANGE_STR.map(function (e) {\n          return e + \".\".concat(_this2._getEventNamespace());\n        }).join(' '), onChange);\n        node.on(\"absoluteTransformChange.\".concat(_this2._getEventNamespace()), onChange);\n\n        _this2._proxyDrag(node);\n      });\n\n      this._resetTransformCache();\n\n      var elementsCreated = !!this.findOne('.top-left');\n\n      if (elementsCreated) {\n        this.update();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_proxyDrag\",\n    value: function _proxyDrag(node) {\n      var _this3 = this;\n\n      var lastPos;\n      node.on(\"dragstart.\".concat(this._getEventNamespace()), function (e) {\n        lastPos = node.getAbsolutePosition();\n\n        if (!_this3.isDragging() && node !== _this3.findOne('.back')) {\n          _this3.startDrag(e, false);\n        }\n      });\n      node.on(\"dragmove.\".concat(this._getEventNamespace()), function (e) {\n        if (!lastPos) {\n          return;\n        }\n\n        var abs = node.getAbsolutePosition();\n        var dx = abs.x - lastPos.x;\n        var dy = abs.y - lastPos.y;\n\n        _this3.nodes().forEach(function (otherNode) {\n          if (otherNode === node) {\n            return;\n          }\n\n          if (otherNode.isDragging()) {\n            return;\n          }\n\n          var otherAbs = otherNode.getAbsolutePosition();\n          otherNode.setAbsolutePosition({\n            x: otherAbs.x + dx,\n            y: otherAbs.y + dy\n          });\n          otherNode.startDrag(e);\n        });\n\n        lastPos = null;\n      });\n    }\n  }, {\n    key: \"getNodes\",\n    value: function getNodes() {\n      return this._nodes || [];\n    }\n  }, {\n    key: \"getActiveAnchor\",\n    value: function getActiveAnchor() {\n      return this._movingAnchorName;\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var _this4 = this;\n\n      if (this._nodes) {\n        this._nodes.forEach(function (node) {\n          node.off('.' + _this4._getEventNamespace());\n        });\n      }\n\n      this._nodes = [];\n\n      this._resetTransformCache();\n    }\n  }, {\n    key: \"_resetTransformCache\",\n    value: function _resetTransformCache() {\n      this._clearCache(NODES_RECT);\n\n      this._clearCache('transform');\n\n      this._clearSelfAndDescendantCache('absoluteTransform');\n    }\n  }, {\n    key: \"_getNodeRect\",\n    value: function _getNodeRect() {\n      return this._getCache(NODES_RECT, this.__getNodeRect);\n    }\n  }, {\n    key: \"__getNodeShape\",\n    value: function __getNodeShape(node) {\n      var rot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.rotation();\n      var relative = arguments.length > 2 ? arguments[2] : undefined;\n      var rect = node.getClientRect({\n        skipTransform: true,\n        skipShadow: true,\n        skipStroke: this.ignoreStroke()\n      });\n      var absScale = node.getAbsoluteScale(relative);\n      var absPos = node.getAbsolutePosition(relative);\n      var dx = rect.x * absScale.x - node.offsetX() * absScale.x;\n      var dy = rect.y * absScale.y - node.offsetY() * absScale.y;\n      var rotation = (Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) % (Math.PI * 2);\n      var box = {\n        x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),\n        y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),\n        width: rect.width * absScale.x,\n        height: rect.height * absScale.y,\n        rotation: rotation\n      };\n      return rotateAroundPoint(box, -Konva.getAngle(rot), {\n        x: 0,\n        y: 0\n      });\n    }\n  }, {\n    key: \"__getNodeRect\",\n    value: function __getNodeRect() {\n      var _this5 = this;\n\n      var node = this.getNode();\n\n      if (!node) {\n        return {\n          x: -MAX_SAFE_INTEGER,\n          y: -MAX_SAFE_INTEGER,\n          width: 0,\n          height: 0,\n          rotation: 0\n        };\n      }\n\n      var totalPoints = [];\n      this.nodes().map(function (node) {\n        var box = node.getClientRect({\n          skipTransform: true,\n          skipShadow: true,\n          skipStroke: _this5.ignoreStroke()\n        });\n        var points = [{\n          x: box.x,\n          y: box.y\n        }, {\n          x: box.x + box.width,\n          y: box.y\n        }, {\n          x: box.x + box.width,\n          y: box.y + box.height\n        }, {\n          x: box.x,\n          y: box.y + box.height\n        }];\n        var trans = node.getAbsoluteTransform();\n        points.forEach(function (point) {\n          var transformed = trans.point(point);\n          totalPoints.push(transformed);\n        });\n      });\n      var tr = new Transform();\n      tr.rotate(-Konva.getAngle(this.rotation()));\n      var minX, minY, maxX, maxY;\n      totalPoints.forEach(function (point) {\n        var transformed = tr.point(point);\n\n        if (minX === undefined) {\n          minX = maxX = transformed.x;\n          minY = maxY = transformed.y;\n        }\n\n        minX = Math.min(minX, transformed.x);\n        minY = Math.min(minY, transformed.y);\n        maxX = Math.max(maxX, transformed.x);\n        maxY = Math.max(maxY, transformed.y);\n      });\n      tr.invert();\n      var p = tr.point({\n        x: minX,\n        y: minY\n      });\n      return {\n        x: p.x,\n        y: p.y,\n        width: maxX - minX,\n        height: maxY - minY,\n        rotation: Konva.getAngle(this.rotation())\n      };\n    }\n  }, {\n    key: \"getX\",\n    value: function getX() {\n      return this._getNodeRect().x;\n    }\n  }, {\n    key: \"getY\",\n    value: function getY() {\n      return this._getNodeRect().y;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this._getNodeRect().width;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this._getNodeRect().height;\n    }\n  }, {\n    key: \"_createElements\",\n    value: function _createElements() {\n      this._createBack();\n\n      ANCHORS_NAMES.forEach(function (name) {\n        this._createAnchor(name);\n      }.bind(this));\n\n      this._createAnchor('rotater');\n    }\n  }, {\n    key: \"_createAnchor\",\n    value: function _createAnchor(name) {\n      var _this6 = this;\n\n      var anchor = new Rect({\n        stroke: 'rgb(0, 161, 255)',\n        fill: 'white',\n        strokeWidth: 1,\n        name: name + ' _anchor',\n        dragDistance: 0,\n        draggable: true,\n        hitStrokeWidth: TOUCH_DEVICE ? 10 : 'auto'\n      });\n      var self = this;\n      anchor.on('mousedown touchstart', function (e) {\n        self._handleMouseDown(e);\n      });\n      anchor.on('dragstart', function (e) {\n        anchor.stopDrag();\n        e.cancelBubble = true;\n      });\n      anchor.on('dragend', function (e) {\n        e.cancelBubble = true;\n      });\n      anchor.on('mouseenter', function () {\n        var rad = Konva.getAngle(_this6.rotation());\n        var cursor = getCursor(name, rad);\n        anchor.getStage().content && (anchor.getStage().content.style.cursor = cursor);\n        _this6._cursorChange = true;\n      });\n      anchor.on('mouseout', function () {\n        anchor.getStage().content && (anchor.getStage().content.style.cursor = '');\n        _this6._cursorChange = false;\n      });\n      this.add(anchor);\n    }\n  }, {\n    key: \"_createBack\",\n    value: function _createBack() {\n      var _this7 = this;\n\n      var back = new Shape({\n        name: 'back',\n        width: 0,\n        height: 0,\n        draggable: true,\n        sceneFunc: function sceneFunc(ctx) {\n          var tr = this.getParent();\n          var padding = tr.padding();\n          ctx.beginPath();\n          ctx.rect(-padding, -padding, this.width() + padding * 2, this.height() + padding * 2);\n          ctx.moveTo(this.width() / 2, -padding);\n\n          if (tr.rotateEnabled()) {\n            ctx.lineTo(this.width() / 2, -tr.rotateAnchorOffset() * Util._sign(this.height()) - padding);\n          }\n\n          ctx.fillStrokeShape(this);\n        },\n        hitFunc: function hitFunc(ctx, shape) {\n          if (!_this7.shouldOverdrawWholeArea()) {\n            return;\n          }\n\n          var padding = _this7.padding();\n\n          ctx.beginPath();\n          ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);\n          ctx.fillStrokeShape(shape);\n        }\n      });\n      this.add(back);\n\n      this._proxyDrag(back);\n\n      back.on('dragstart', function (e) {\n        e.cancelBubble = true;\n      });\n      back.on('dragmove', function (e) {\n        e.cancelBubble = true;\n      });\n      back.on('dragend', function (e) {\n        e.cancelBubble = true;\n      });\n      this.on('dragmove', function (e) {\n        _this7.update();\n      });\n    }\n  }, {\n    key: \"_handleMouseDown\",\n    value: function _handleMouseDown(e) {\n      this._movingAnchorName = e.target.name().split(' ')[0];\n\n      var attrs = this._getNodeRect();\n\n      var width = attrs.width;\n      var height = attrs.height;\n      var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n      this.sin = Math.abs(height / hypotenuse);\n      this.cos = Math.abs(width / hypotenuse);\n\n      if (typeof window !== 'undefined') {\n        window.addEventListener('mousemove', this._handleMouseMove);\n        window.addEventListener('touchmove', this._handleMouseMove);\n        window.addEventListener('mouseup', this._handleMouseUp, true);\n        window.addEventListener('touchend', this._handleMouseUp, true);\n      }\n\n      this._transforming = true;\n      var ap = e.target.getAbsolutePosition();\n      var pos = e.target.getStage().getPointerPosition();\n      this._anchorDragOffset = {\n        x: pos.x - ap.x,\n        y: pos.y - ap.y\n      };\n\n      this._fire('transformstart', {\n        evt: e.evt,\n        target: this.getNode()\n      });\n\n      this._nodes.forEach(function (target) {\n        target._fire('transformstart', {\n          evt: e.evt,\n          target: target\n        });\n      });\n    }\n  }, {\n    key: \"_handleMouseMove\",\n    value: function _handleMouseMove(e) {\n      var x, y, newHypotenuse;\n      var anchorNode = this.findOne('.' + this._movingAnchorName);\n      var stage = anchorNode.getStage();\n      stage.setPointersPositions(e);\n      var pp = stage.getPointerPosition();\n      var newNodePos = {\n        x: pp.x - this._anchorDragOffset.x,\n        y: pp.y - this._anchorDragOffset.y\n      };\n      var oldAbs = anchorNode.getAbsolutePosition();\n\n      if (this.anchorDragBoundFunc()) {\n        newNodePos = this.anchorDragBoundFunc()(oldAbs, newNodePos, e);\n      }\n\n      anchorNode.setAbsolutePosition(newNodePos);\n      var newAbs = anchorNode.getAbsolutePosition();\n\n      if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {\n        return;\n      }\n\n      if (this._movingAnchorName === 'rotater') {\n        var attrs = this._getNodeRect();\n\n        x = anchorNode.x() - attrs.width / 2;\n        y = -anchorNode.y() + attrs.height / 2;\n        var delta = Math.atan2(-y, x) + Math.PI / 2;\n\n        if (attrs.height < 0) {\n          delta -= Math.PI;\n        }\n\n        var oldRotation = Konva.getAngle(this.rotation());\n        var newRotation = oldRotation + delta;\n        var tol = Konva.getAngle(this.rotationSnapTolerance());\n        var snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);\n        var diff = snappedRot - attrs.rotation;\n        var shape = rotateAroundCenter(attrs, diff);\n\n        this._fitNodesInto(shape, e);\n\n        return;\n      }\n\n      var keepProportion = this.keepRatio() || e.shiftKey;\n      var centeredScaling = this.centeredScaling() || e.altKey;\n\n      if (this._movingAnchorName === 'top-left') {\n        if (keepProportion) {\n          var comparePoint = centeredScaling ? {\n            x: this.width() / 2,\n            y: this.height() / 2\n          } : {\n            x: this.findOne('.bottom-right').x(),\n            y: this.findOne('.bottom-right').y()\n          };\n          newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) + Math.pow(comparePoint.y - anchorNode.y(), 2));\n          var reverseX = this.findOne('.top-left').x() > comparePoint.x ? -1 : 1;\n          var reverseY = this.findOne('.top-left').y() > comparePoint.y ? -1 : 1;\n          x = newHypotenuse * this.cos * reverseX;\n          y = newHypotenuse * this.sin * reverseY;\n          this.findOne('.top-left').x(comparePoint.x - x);\n          this.findOne('.top-left').y(comparePoint.y - y);\n        }\n      } else if (this._movingAnchorName === 'top-center') {\n        this.findOne('.top-left').y(anchorNode.y());\n      } else if (this._movingAnchorName === 'top-right') {\n        if (keepProportion) {\n          var comparePoint = centeredScaling ? {\n            x: this.width() / 2,\n            y: this.height() / 2\n          } : {\n            x: this.findOne('.bottom-left').x(),\n            y: this.findOne('.bottom-left').y()\n          };\n          newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) + Math.pow(comparePoint.y - anchorNode.y(), 2));\n          var reverseX = this.findOne('.top-right').x() < comparePoint.x ? -1 : 1;\n          var reverseY = this.findOne('.top-right').y() > comparePoint.y ? -1 : 1;\n          x = newHypotenuse * this.cos * reverseX;\n          y = newHypotenuse * this.sin * reverseY;\n          this.findOne('.top-right').x(comparePoint.x + x);\n          this.findOne('.top-right').y(comparePoint.y - y);\n        }\n\n        var pos = anchorNode.position();\n        this.findOne('.top-left').y(pos.y);\n        this.findOne('.bottom-right').x(pos.x);\n      } else if (this._movingAnchorName === 'middle-left') {\n        this.findOne('.top-left').x(anchorNode.x());\n      } else if (this._movingAnchorName === 'middle-right') {\n        this.findOne('.bottom-right').x(anchorNode.x());\n      } else if (this._movingAnchorName === 'bottom-left') {\n        if (keepProportion) {\n          var comparePoint = centeredScaling ? {\n            x: this.width() / 2,\n            y: this.height() / 2\n          } : {\n            x: this.findOne('.top-right').x(),\n            y: this.findOne('.top-right').y()\n          };\n          newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) + Math.pow(anchorNode.y() - comparePoint.y, 2));\n          var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;\n          var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;\n          x = newHypotenuse * this.cos * reverseX;\n          y = newHypotenuse * this.sin * reverseY;\n          anchorNode.x(comparePoint.x - x);\n          anchorNode.y(comparePoint.y + y);\n        }\n\n        pos = anchorNode.position();\n        this.findOne('.top-left').x(pos.x);\n        this.findOne('.bottom-right').y(pos.y);\n      } else if (this._movingAnchorName === 'bottom-center') {\n        this.findOne('.bottom-right').y(anchorNode.y());\n      } else if (this._movingAnchorName === 'bottom-right') {\n        if (keepProportion) {\n          var comparePoint = centeredScaling ? {\n            x: this.width() / 2,\n            y: this.height() / 2\n          } : {\n            x: this.findOne('.top-left').x(),\n            y: this.findOne('.top-left').y()\n          };\n          newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) + Math.pow(anchorNode.y() - comparePoint.y, 2));\n          var reverseX = this.findOne('.bottom-right').x() < comparePoint.x ? -1 : 1;\n          var reverseY = this.findOne('.bottom-right').y() < comparePoint.y ? -1 : 1;\n          x = newHypotenuse * this.cos * reverseX;\n          y = newHypotenuse * this.sin * reverseY;\n          this.findOne('.bottom-right').x(comparePoint.x + x);\n          this.findOne('.bottom-right').y(comparePoint.y + y);\n        }\n      } else {\n        console.error(new Error('Wrong position argument of selection resizer: ' + this._movingAnchorName));\n      }\n\n      var centeredScaling = this.centeredScaling() || e.altKey;\n\n      if (centeredScaling) {\n        var topLeft = this.findOne('.top-left');\n        var bottomRight = this.findOne('.bottom-right');\n        var topOffsetX = topLeft.x();\n        var topOffsetY = topLeft.y();\n        var bottomOffsetX = this.getWidth() - bottomRight.x();\n        var bottomOffsetY = this.getHeight() - bottomRight.y();\n        bottomRight.move({\n          x: -topOffsetX,\n          y: -topOffsetY\n        });\n        topLeft.move({\n          x: bottomOffsetX,\n          y: bottomOffsetY\n        });\n      }\n\n      var absPos = this.findOne('.top-left').getAbsolutePosition();\n      x = absPos.x;\n      y = absPos.y;\n      var width = this.findOne('.bottom-right').x() - this.findOne('.top-left').x();\n      var height = this.findOne('.bottom-right').y() - this.findOne('.top-left').y();\n\n      this._fitNodesInto({\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        rotation: Konva.getAngle(this.rotation())\n      }, e);\n    }\n  }, {\n    key: \"_handleMouseUp\",\n    value: function _handleMouseUp(e) {\n      this._removeEvents(e);\n    }\n  }, {\n    key: \"getAbsoluteTransform\",\n    value: function getAbsoluteTransform() {\n      return this.getTransform();\n    }\n  }, {\n    key: \"_removeEvents\",\n    value: function _removeEvents(e) {\n      if (this._transforming) {\n        this._transforming = false;\n\n        if (typeof window !== 'undefined') {\n          window.removeEventListener('mousemove', this._handleMouseMove);\n          window.removeEventListener('touchmove', this._handleMouseMove);\n          window.removeEventListener('mouseup', this._handleMouseUp, true);\n          window.removeEventListener('touchend', this._handleMouseUp, true);\n        }\n\n        var node = this.getNode();\n\n        this._fire('transformend', {\n          evt: e,\n          target: node\n        });\n\n        if (node) {\n          this._nodes.forEach(function (target) {\n            target._fire('transformend', {\n              evt: e,\n              target: target\n            });\n          });\n        }\n\n        this._movingAnchorName = null;\n      }\n    }\n  }, {\n    key: \"_fitNodesInto\",\n    value: function _fitNodesInto(newAttrs, evt) {\n      var _this8 = this;\n\n      var oldAttrs = this._getNodeRect();\n\n      var minSize = 1;\n\n      if (Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {\n        this.update();\n        return;\n      }\n\n      if (Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {\n        this.update();\n        return;\n      }\n\n      var allowNegativeScale = this.flipEnabled();\n      var t = new Transform();\n      t.rotate(Konva.getAngle(this.rotation()));\n\n      if (this._movingAnchorName && newAttrs.width < 0 && this._movingAnchorName.indexOf('left') >= 0) {\n        var offset = t.point({\n          x: -this.padding() * 2,\n          y: 0\n        });\n        newAttrs.x += offset.x;\n        newAttrs.y += offset.y;\n        newAttrs.width += this.padding() * 2;\n        this._movingAnchorName = this._movingAnchorName.replace('left', 'right');\n        this._anchorDragOffset.x -= offset.x;\n        this._anchorDragOffset.y -= offset.y;\n\n        if (!allowNegativeScale) {\n          this.update();\n          return;\n        }\n      } else if (this._movingAnchorName && newAttrs.width < 0 && this._movingAnchorName.indexOf('right') >= 0) {\n        var _offset = t.point({\n          x: this.padding() * 2,\n          y: 0\n        });\n\n        this._movingAnchorName = this._movingAnchorName.replace('right', 'left');\n        this._anchorDragOffset.x -= _offset.x;\n        this._anchorDragOffset.y -= _offset.y;\n        newAttrs.width += this.padding() * 2;\n\n        if (!allowNegativeScale) {\n          this.update();\n          return;\n        }\n      }\n\n      if (this._movingAnchorName && newAttrs.height < 0 && this._movingAnchorName.indexOf('top') >= 0) {\n        var _offset2 = t.point({\n          x: 0,\n          y: -this.padding() * 2\n        });\n\n        newAttrs.x += _offset2.x;\n        newAttrs.y += _offset2.y;\n        this._movingAnchorName = this._movingAnchorName.replace('top', 'bottom');\n        this._anchorDragOffset.x -= _offset2.x;\n        this._anchorDragOffset.y -= _offset2.y;\n        newAttrs.height += this.padding() * 2;\n\n        if (!allowNegativeScale) {\n          this.update();\n          return;\n        }\n      } else if (this._movingAnchorName && newAttrs.height < 0 && this._movingAnchorName.indexOf('bottom') >= 0) {\n        var _offset3 = t.point({\n          x: 0,\n          y: this.padding() * 2\n        });\n\n        this._movingAnchorName = this._movingAnchorName.replace('bottom', 'top');\n        this._anchorDragOffset.x -= _offset3.x;\n        this._anchorDragOffset.y -= _offset3.y;\n        newAttrs.height += this.padding() * 2;\n\n        if (!allowNegativeScale) {\n          this.update();\n          return;\n        }\n      }\n\n      if (this.boundBoxFunc()) {\n        var bounded = this.boundBoxFunc()(oldAttrs, newAttrs);\n\n        if (bounded) {\n          newAttrs = bounded;\n        } else {\n          Util.warn('boundBoxFunc returned falsy. You should return new bound rect from it!');\n        }\n      }\n\n      var baseSize = 10000000;\n      var oldTr = new Transform();\n      oldTr.translate(oldAttrs.x, oldAttrs.y);\n      oldTr.rotate(oldAttrs.rotation);\n      oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);\n      var newTr = new Transform();\n      newTr.translate(newAttrs.x, newAttrs.y);\n      newTr.rotate(newAttrs.rotation);\n      newTr.scale(newAttrs.width / baseSize, newAttrs.height / baseSize);\n      var delta = newTr.multiply(oldTr.invert());\n\n      this._nodes.forEach(function (node) {\n        var _a;\n\n        var parentTransform = node.getParent().getAbsoluteTransform();\n        var localTransform = node.getTransform().copy();\n        localTransform.translate(node.offsetX(), node.offsetY());\n        var newLocalTransform = new Transform();\n        newLocalTransform.multiply(parentTransform.copy().invert()).multiply(delta).multiply(parentTransform).multiply(localTransform);\n        var attrs = newLocalTransform.decompose();\n        node.setAttrs(attrs);\n\n        _this8._fire('transform', {\n          evt: evt,\n          target: node\n        });\n\n        node._fire('transform', {\n          evt: evt,\n          target: node\n        });\n\n        (_a = node.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n      });\n\n      this.rotation(Util._getRotation(newAttrs.rotation));\n\n      this._resetTransformCache();\n\n      this.update();\n      this.getLayer().batchDraw();\n    }\n  }, {\n    key: \"forceUpdate\",\n    value: function forceUpdate() {\n      this._resetTransformCache();\n\n      this.update();\n    }\n  }, {\n    key: \"_batchChangeChild\",\n    value: function _batchChangeChild(selector, attrs) {\n      var anchor = this.findOne(selector);\n      anchor.setAttrs(attrs);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this9 = this;\n\n      var _a;\n\n      var attrs = this._getNodeRect();\n\n      this.rotation(Util._getRotation(attrs.rotation));\n      var width = attrs.width;\n      var height = attrs.height;\n      var enabledAnchors = this.enabledAnchors();\n      var resizeEnabled = this.resizeEnabled();\n      var padding = this.padding();\n      var anchorSize = this.anchorSize();\n      this.find('._anchor').forEach(function (node) {\n        node.setAttrs({\n          width: anchorSize,\n          height: anchorSize,\n          offsetX: anchorSize / 2,\n          offsetY: anchorSize / 2,\n          stroke: _this9.anchorStroke(),\n          strokeWidth: _this9.anchorStrokeWidth(),\n          fill: _this9.anchorFill(),\n          cornerRadius: _this9.anchorCornerRadius()\n        });\n      });\n\n      this._batchChangeChild('.top-left', {\n        x: 0,\n        y: 0,\n        offsetX: anchorSize / 2 + padding,\n        offsetY: anchorSize / 2 + padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('top-left') >= 0\n      });\n\n      this._batchChangeChild('.top-center', {\n        x: width / 2,\n        y: 0,\n        offsetY: anchorSize / 2 + padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('top-center') >= 0\n      });\n\n      this._batchChangeChild('.top-right', {\n        x: width,\n        y: 0,\n        offsetX: anchorSize / 2 - padding,\n        offsetY: anchorSize / 2 + padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('top-right') >= 0\n      });\n\n      this._batchChangeChild('.middle-left', {\n        x: 0,\n        y: height / 2,\n        offsetX: anchorSize / 2 + padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('middle-left') >= 0\n      });\n\n      this._batchChangeChild('.middle-right', {\n        x: width,\n        y: height / 2,\n        offsetX: anchorSize / 2 - padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('middle-right') >= 0\n      });\n\n      this._batchChangeChild('.bottom-left', {\n        x: 0,\n        y: height,\n        offsetX: anchorSize / 2 + padding,\n        offsetY: anchorSize / 2 - padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('bottom-left') >= 0\n      });\n\n      this._batchChangeChild('.bottom-center', {\n        x: width / 2,\n        y: height,\n        offsetY: anchorSize / 2 - padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('bottom-center') >= 0\n      });\n\n      this._batchChangeChild('.bottom-right', {\n        x: width,\n        y: height,\n        offsetX: anchorSize / 2 - padding,\n        offsetY: anchorSize / 2 - padding,\n        visible: resizeEnabled && enabledAnchors.indexOf('bottom-right') >= 0\n      });\n\n      this._batchChangeChild('.rotater', {\n        x: width / 2,\n        y: -this.rotateAnchorOffset() * Util._sign(height) - padding,\n        visible: this.rotateEnabled()\n      });\n\n      this._batchChangeChild('.back', {\n        width: width,\n        height: height,\n        visible: this.borderEnabled(),\n        stroke: this.borderStroke(),\n        strokeWidth: this.borderStrokeWidth(),\n        dash: this.borderDash(),\n        x: 0,\n        y: 0\n      });\n\n      (_a = this.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n    }\n  }, {\n    key: \"isTransforming\",\n    value: function isTransforming() {\n      return this._transforming;\n    }\n  }, {\n    key: \"stopTransform\",\n    value: function stopTransform() {\n      if (this._transforming) {\n        this._removeEvents();\n\n        var anchorNode = this.findOne('.' + this._movingAnchorName);\n\n        if (anchorNode) {\n          anchorNode.stopDrag();\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.getStage() && this._cursorChange) {\n        this.getStage().content && (this.getStage().content.style.cursor = '');\n      }\n\n      Group.prototype.destroy.call(this);\n      this.detach();\n\n      this._removeEvents();\n\n      return this;\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject() {\n      return Node.prototype.toObject.call(this);\n    }\n  }]);\n\n  return Transformer;\n}(Group);\n\nfunction validateAnchors(val) {\n  if (!(val instanceof Array)) {\n    Util.warn('enabledAnchors value should be an array');\n  }\n\n  if (val instanceof Array) {\n    val.forEach(function (name) {\n      if (ANCHORS_NAMES.indexOf(name) === -1) {\n        Util.warn('Unknown anchor name: ' + name + '. Available names are: ' + ANCHORS_NAMES.join(', '));\n      }\n    });\n  }\n\n  return val || [];\n}\n\nTransformer.prototype.className = 'Transformer';\n\n_registerNode(Transformer);\n\nFactory.addGetterSetter(Transformer, 'enabledAnchors', ANCHORS_NAMES, validateAnchors);\nFactory.addGetterSetter(Transformer, 'flipEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Transformer, 'resizeEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorSize', 10, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotateEnabled', true);\nFactory.addGetterSetter(Transformer, 'rotationSnaps', []);\nFactory.addGetterSetter(Transformer, 'rotateAnchorOffset', 50, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotationSnapTolerance', 5, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'anchorStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'anchorFill', 'white');\nFactory.addGetterSetter(Transformer, 'anchorCornerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'borderStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderDash');\nFactory.addGetterSetter(Transformer, 'keepRatio', true);\nFactory.addGetterSetter(Transformer, 'centeredScaling', false);\nFactory.addGetterSetter(Transformer, 'ignoreStroke', false);\nFactory.addGetterSetter(Transformer, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'node');\nFactory.addGetterSetter(Transformer, 'nodes');\nFactory.addGetterSetter(Transformer, 'boundBoxFunc');\nFactory.addGetterSetter(Transformer, 'anchorDragBoundFunc');\nFactory.addGetterSetter(Transformer, 'shouldOverdrawWholeArea', false);\nFactory.addGetterSetter(Transformer, 'useSingleNodeRotation', true);\nFactory.backCompat(Transformer, {\n  lineEnabled: 'borderEnabled',\n  rotateHandlerOffset: 'rotateAnchorOffset',\n  enabledHandlers: 'enabledAnchors'\n});","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnsimoni/repos/jsimoni42.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport var Wedge = /*#__PURE__*/function (_Shape) {\n  _inherits(Wedge, _Shape);\n\n  var _super = _createSuper(Wedge);\n\n  function Wedge() {\n    _classCallCheck(this, Wedge);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Wedge, [{\n    key: \"_sceneFunc\",\n    value: function _sceneFunc(context) {\n      context.beginPath();\n      context.arc(0, 0, this.radius(), 0, Konva.getAngle(this.angle()), this.clockwise());\n      context.lineTo(0, 0);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.radius() * 2;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.radius() * 2;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      this.radius(width / 2);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.radius(height / 2);\n    }\n  }]);\n\n  return Wedge;\n}(Shape);\nWedge.prototype.className = 'Wedge';\nWedge.prototype._centroid = true;\nWedge.prototype._attrsAffectingSize = ['radius'];\n\n_registerNode(Wedge);\n\nFactory.addGetterSetter(Wedge, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'clockwise', false);\nFactory.backCompat(Wedge, {\n  angleDeg: 'angle',\n  getAngleDeg: 'getAngle',\n  setAngleDeg: 'setAngle'\n});","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\n\nfunction BlurStack() {\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n}\n\nvar mul_table = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shg_table = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n\nfunction filterGaussBlurRGBA(imageData, radius) {\n  var pixels = imageData.data,\n      width = imageData.width,\n      height = imageData.height;\n  var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n  var div = radius + radius + 1,\n      widthMinus1 = width - 1,\n      heightMinus1 = height - 1,\n      radiusPlus1 = radius + 1,\n      sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2,\n      stackStart = new BlurStack(),\n      stackEnd = null,\n      stack = stackStart,\n      stackIn = null,\n      stackOut = null,\n      mul_sum = mul_table[radius],\n      shg_sum = shg_table[radius];\n\n  for (i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  yw = yi = 0;\n\n  for (y = 0; y < height; y++) {\n    r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n    r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n    g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n    b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n    a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    a_sum += sumFactor * pa;\n    stack = stackStart;\n\n    for (i = 0; i < radiusPlus1; i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    for (i = 1; i < radiusPlus1; i++) {\n      p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n      r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n      g_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n      b_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n      a_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      a_in_sum += pa;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (x = 0; x < width; x++) {\n      pixels[yi + 3] = pa = a_sum * mul_sum >> shg_sum;\n\n      if (pa !== 0) {\n        pa = 255 / pa;\n        pixels[yi] = (r_sum * mul_sum >> shg_sum) * pa;\n        pixels[yi + 1] = (g_sum * mul_sum >> shg_sum) * pa;\n        pixels[yi + 2] = (b_sum * mul_sum >> shg_sum) * pa;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      a_sum -= a_out_sum;\n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      a_out_sum -= stackIn.a;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      r_in_sum += stackIn.r = pixels[p];\n      g_in_sum += stackIn.g = pixels[p + 1];\n      b_in_sum += stackIn.b = pixels[p + 2];\n      a_in_sum += stackIn.a = pixels[p + 3];\n      r_sum += r_in_sum;\n      g_sum += g_in_sum;\n      b_sum += b_in_sum;\n      a_sum += a_in_sum;\n      stackIn = stackIn.next;\n      r_out_sum += pr = stackOut.r;\n      g_out_sum += pg = stackOut.g;\n      b_out_sum += pb = stackOut.b;\n      a_out_sum += pa = stackOut.a;\n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      a_in_sum -= pa;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (x = 0; x < width; x++) {\n    g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n    yi = x << 2;\n    r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n    g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n    b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n    a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    a_sum += sumFactor * pa;\n    stack = stackStart;\n\n    for (i = 0; i < radiusPlus1; i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    yp = width;\n\n    for (i = 1; i <= radius; i++) {\n      yi = yp + x << 2;\n      r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n      g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n      b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n      a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      a_in_sum += pa;\n      stack = stack.next;\n\n      if (i < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (y = 0; y < height; y++) {\n      p = yi << 2;\n      pixels[p + 3] = pa = a_sum * mul_sum >> shg_sum;\n\n      if (pa > 0) {\n        pa = 255 / pa;\n        pixels[p] = (r_sum * mul_sum >> shg_sum) * pa;\n        pixels[p + 1] = (g_sum * mul_sum >> shg_sum) * pa;\n        pixels[p + 2] = (b_sum * mul_sum >> shg_sum) * pa;\n      } else {\n        pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n      }\n\n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      a_sum -= a_out_sum;\n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      a_out_sum -= stackIn.a;\n      p = x + ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      r_sum += r_in_sum += stackIn.r = pixels[p];\n      g_sum += g_in_sum += stackIn.g = pixels[p + 1];\n      b_sum += b_in_sum += stackIn.b = pixels[p + 2];\n      a_sum += a_in_sum += stackIn.a = pixels[p + 3];\n      stackIn = stackIn.next;\n      r_out_sum += pr = stackOut.r;\n      g_out_sum += pg = stackOut.g;\n      b_out_sum += pb = stackOut.b;\n      a_out_sum += pa = stackOut.a;\n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      a_in_sum -= pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n}\n\nexport var Blur = function Blur(imageData) {\n  var radius = Math.round(this.blurRadius());\n\n  if (radius > 0) {\n    filterGaussBlurRGBA(imageData, radius);\n  }\n};\nFactory.addGetterSetter(Node, 'blurRadius', 0, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var Brighten = function Brighten(imageData) {\n  var brightness = this.brightness() * 255,\n      data = imageData.data,\n      len = data.length,\n      i;\n\n  for (i = 0; i < len; i += 4) {\n    data[i] += brightness;\n    data[i + 1] += brightness;\n    data[i + 2] += brightness;\n  }\n};\nFactory.addGetterSetter(Node, 'brightness', 0, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var Contrast = function Contrast(imageData) {\n  var adjust = Math.pow((this.contrast() + 100) / 100, 2);\n  var data = imageData.data,\n      nPixels = data.length,\n      red = 150,\n      green = 150,\n      blue = 150,\n      i;\n\n  for (i = 0; i < nPixels; i += 4) {\n    red = data[i];\n    green = data[i + 1];\n    blue = data[i + 2];\n    red /= 255;\n    red -= 0.5;\n    red *= adjust;\n    red += 0.5;\n    red *= 255;\n    green /= 255;\n    green -= 0.5;\n    green *= adjust;\n    green += 0.5;\n    green *= 255;\n    blue /= 255;\n    blue -= 0.5;\n    blue *= adjust;\n    blue += 0.5;\n    blue *= 255;\n    red = red < 0 ? 0 : red > 255 ? 255 : red;\n    green = green < 0 ? 0 : green > 255 ? 255 : green;\n    blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;\n    data[i] = red;\n    data[i + 1] = green;\n    data[i + 2] = blue;\n  }\n};\nFactory.addGetterSetter(Node, 'contrast', 0, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\n\nfunction remap(fromValue, fromMin, fromMax, toMin, toMax) {\n  var fromRange = fromMax - fromMin,\n      toRange = toMax - toMin,\n      toValue;\n\n  if (fromRange === 0) {\n    return toMin + toRange / 2;\n  }\n\n  if (toRange === 0) {\n    return toMin;\n  }\n\n  toValue = (fromValue - fromMin) / fromRange;\n  toValue = toRange * toValue + toMin;\n  return toValue;\n}\n\nexport var Enhance = function Enhance(imageData) {\n  var data = imageData.data,\n      nSubPixels = data.length,\n      rMin = data[0],\n      rMax = rMin,\n      r,\n      gMin = data[1],\n      gMax = gMin,\n      g,\n      bMin = data[2],\n      bMax = bMin,\n      b,\n      i;\n  var enhanceAmount = this.enhance();\n\n  if (enhanceAmount === 0) {\n    return;\n  }\n\n  for (i = 0; i < nSubPixels; i += 4) {\n    r = data[i + 0];\n\n    if (r < rMin) {\n      rMin = r;\n    } else if (r > rMax) {\n      rMax = r;\n    }\n\n    g = data[i + 1];\n\n    if (g < gMin) {\n      gMin = g;\n    } else if (g > gMax) {\n      gMax = g;\n    }\n\n    b = data[i + 2];\n\n    if (b < bMin) {\n      bMin = b;\n    } else if (b > bMax) {\n      bMax = b;\n    }\n  }\n\n  if (rMax === rMin) {\n    rMax = 255;\n    rMin = 0;\n  }\n\n  if (gMax === gMin) {\n    gMax = 255;\n    gMin = 0;\n  }\n\n  if (bMax === bMin) {\n    bMax = 255;\n    bMin = 0;\n  }\n\n  var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;\n\n  if (enhanceAmount > 0) {\n    rGoalMax = rMax + enhanceAmount * (255 - rMax);\n    rGoalMin = rMin - enhanceAmount * (rMin - 0);\n    gGoalMax = gMax + enhanceAmount * (255 - gMax);\n    gGoalMin = gMin - enhanceAmount * (gMin - 0);\n    bGoalMax = bMax + enhanceAmount * (255 - bMax);\n    bGoalMin = bMin - enhanceAmount * (bMin - 0);\n  } else {\n    rMid = (rMax + rMin) * 0.5;\n    rGoalMax = rMax + enhanceAmount * (rMax - rMid);\n    rGoalMin = rMin + enhanceAmount * (rMin - rMid);\n    gMid = (gMax + gMin) * 0.5;\n    gGoalMax = gMax + enhanceAmount * (gMax - gMid);\n    gGoalMin = gMin + enhanceAmount * (gMin - gMid);\n    bMid = (bMax + bMin) * 0.5;\n    bGoalMax = bMax + enhanceAmount * (bMax - bMid);\n    bGoalMin = bMin + enhanceAmount * (bMin - bMid);\n  }\n\n  for (i = 0; i < nSubPixels; i += 4) {\n    data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);\n    data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);\n    data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);\n  }\n};\nFactory.addGetterSetter(Node, 'enhance', 0, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var Emboss = function Emboss(imageData) {\n  var strength = this.embossStrength() * 10,\n      greyLevel = this.embossWhiteLevel() * 255,\n      direction = this.embossDirection(),\n      blend = this.embossBlend(),\n      dirY = 0,\n      dirX = 0,\n      data = imageData.data,\n      w = imageData.width,\n      h = imageData.height,\n      w4 = w * 4,\n      y = h;\n\n  switch (direction) {\n    case 'top-left':\n      dirY = -1;\n      dirX = -1;\n      break;\n\n    case 'top':\n      dirY = -1;\n      dirX = 0;\n      break;\n\n    case 'top-right':\n      dirY = -1;\n      dirX = 1;\n      break;\n\n    case 'right':\n      dirY = 0;\n      dirX = 1;\n      break;\n\n    case 'bottom-right':\n      dirY = 1;\n      dirX = 1;\n      break;\n\n    case 'bottom':\n      dirY = 1;\n      dirX = 0;\n      break;\n\n    case 'bottom-left':\n      dirY = 1;\n      dirX = -1;\n      break;\n\n    case 'left':\n      dirY = 0;\n      dirX = -1;\n      break;\n\n    default:\n      Util.error('Unknown emboss direction: ' + direction);\n  }\n\n  do {\n    var offsetY = (y - 1) * w4;\n    var otherY = dirY;\n\n    if (y + otherY < 1) {\n      otherY = 0;\n    }\n\n    if (y + otherY > h) {\n      otherY = 0;\n    }\n\n    var offsetYOther = (y - 1 + otherY) * w * 4;\n    var x = w;\n\n    do {\n      var offset = offsetY + (x - 1) * 4;\n      var otherX = dirX;\n\n      if (x + otherX < 1) {\n        otherX = 0;\n      }\n\n      if (x + otherX > w) {\n        otherX = 0;\n      }\n\n      var offsetOther = offsetYOther + (x - 1 + otherX) * 4;\n      var dR = data[offset] - data[offsetOther];\n      var dG = data[offset + 1] - data[offsetOther + 1];\n      var dB = data[offset + 2] - data[offsetOther + 2];\n      var dif = dR;\n      var absDif = dif > 0 ? dif : -dif;\n      var absG = dG > 0 ? dG : -dG;\n      var absB = dB > 0 ? dB : -dB;\n\n      if (absG > absDif) {\n        dif = dG;\n      }\n\n      if (absB > absDif) {\n        dif = dB;\n      }\n\n      dif *= strength;\n\n      if (blend) {\n        var r = data[offset] + dif;\n        var g = data[offset + 1] + dif;\n        var b = data[offset + 2] + dif;\n        data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;\n        data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;\n        data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;\n      } else {\n        var grey = greyLevel - dif;\n\n        if (grey < 0) {\n          grey = 0;\n        } else if (grey > 255) {\n          grey = 255;\n        }\n\n        data[offset] = data[offset + 1] = data[offset + 2] = grey;\n      }\n    } while (--x);\n  } while (--y);\n};\nFactory.addGetterSetter(Node, 'embossStrength', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossWhiteLevel', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossDirection', 'top-left', null, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossBlend', false, null, Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'luminance', 0, getNumberValidator(), Factory.afterSetFilter);\nexport var HSL = function HSL(imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      v = 1,\n      s = Math.pow(2, this.saturation()),\n      h = Math.abs(this.hue() + 360) % 360,\n      l = this.luminance() * 127,\n      i;\n  var vsu = v * s * Math.cos(h * Math.PI / 180),\n      vsw = v * s * Math.sin(h * Math.PI / 180);\n  var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw,\n      rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw,\n      rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n  var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw,\n      gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw,\n      gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n  var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw,\n      bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw,\n      bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n  var r, g, b, a;\n\n  for (i = 0; i < nPixels; i += 4) {\n    r = data[i + 0];\n    g = data[i + 1];\n    b = data[i + 2];\n    a = data[i + 3];\n    data[i + 0] = rr * r + rg * g + rb * b + l;\n    data[i + 1] = gr * r + gg * g + gb * b + l;\n    data[i + 2] = br * r + bg * g + bb * b + l;\n    data[i + 3] = a;\n  }\n};","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var HSV = function HSV(imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      v = Math.pow(2, this.value()),\n      s = Math.pow(2, this.saturation()),\n      h = Math.abs(this.hue() + 360) % 360,\n      i;\n  var vsu = v * s * Math.cos(h * Math.PI / 180),\n      vsw = v * s * Math.sin(h * Math.PI / 180);\n  var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw,\n      rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw,\n      rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n  var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw,\n      gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw,\n      gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n  var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw,\n      bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw,\n      bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n  var r, g, b, a;\n\n  for (i = 0; i < nPixels; i += 4) {\n    r = data[i + 0];\n    g = data[i + 1];\n    b = data[i + 2];\n    a = data[i + 3];\n    data[i + 0] = rr * r + rg * g + rb * b;\n    data[i + 1] = gr * r + gg * g + gb * b;\n    data[i + 2] = br * r + bg * g + bb * b;\n    data[i + 3] = a;\n  }\n};\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'value', 0, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\n\nfunction pixelAt(idata, x, y) {\n  var idx = (y * idata.width + x) * 4;\n  var d = [];\n  d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);\n  return d;\n}\n\nfunction rgbDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2) + Math.pow(p1[2] - p2[2], 2));\n}\n\nfunction rgbMean(pTab) {\n  var m = [0, 0, 0];\n\n  for (var i = 0; i < pTab.length; i++) {\n    m[0] += pTab[i][0];\n    m[1] += pTab[i][1];\n    m[2] += pTab[i][2];\n  }\n\n  m[0] /= pTab.length;\n  m[1] /= pTab.length;\n  m[2] /= pTab.length;\n  return m;\n}\n\nfunction backgroundMask(idata, threshold) {\n  var rgbv_no = pixelAt(idata, 0, 0);\n  var rgbv_ne = pixelAt(idata, idata.width - 1, 0);\n  var rgbv_so = pixelAt(idata, 0, idata.height - 1);\n  var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);\n  var thres = threshold || 10;\n\n  if (rgbDistance(rgbv_no, rgbv_ne) < thres && rgbDistance(rgbv_ne, rgbv_se) < thres && rgbDistance(rgbv_se, rgbv_so) < thres && rgbDistance(rgbv_so, rgbv_no) < thres) {\n    var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);\n    var mask = [];\n\n    for (var i = 0; i < idata.width * idata.height; i++) {\n      var d = rgbDistance(mean, [idata.data[i * 4], idata.data[i * 4 + 1], idata.data[i * 4 + 2]]);\n      mask[i] = d < thres ? 0 : 255;\n    }\n\n    return mask;\n  }\n}\n\nfunction applyMask(idata, mask) {\n  for (var i = 0; i < idata.width * idata.height; i++) {\n    idata.data[4 * i + 3] = mask[i];\n  }\n}\n\nfunction erodeMask(mask, sw, sh) {\n  var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];\n  var side = Math.round(Math.sqrt(weights.length));\n  var halfSide = Math.floor(side / 2);\n  var maskResult = [];\n\n  for (var y = 0; y < sh; y++) {\n    for (var x = 0; x < sw; x++) {\n      var so = y * sw + x;\n      var a = 0;\n\n      for (var cy = 0; cy < side; cy++) {\n        for (var cx = 0; cx < side; cx++) {\n          var scy = y + cy - halfSide;\n          var scx = x + cx - halfSide;\n\n          if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n            var srcOff = scy * sw + scx;\n            var wt = weights[cy * side + cx];\n            a += mask[srcOff] * wt;\n          }\n        }\n      }\n\n      maskResult[so] = a === 255 * 8 ? 255 : 0;\n    }\n  }\n\n  return maskResult;\n}\n\nfunction dilateMask(mask, sw, sh) {\n  var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];\n  var side = Math.round(Math.sqrt(weights.length));\n  var halfSide = Math.floor(side / 2);\n  var maskResult = [];\n\n  for (var y = 0; y < sh; y++) {\n    for (var x = 0; x < sw; x++) {\n      var so = y * sw + x;\n      var a = 0;\n\n      for (var cy = 0; cy < side; cy++) {\n        for (var cx = 0; cx < side; cx++) {\n          var scy = y + cy - halfSide;\n          var scx = x + cx - halfSide;\n\n          if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n            var srcOff = scy * sw + scx;\n            var wt = weights[cy * side + cx];\n            a += mask[srcOff] * wt;\n          }\n        }\n      }\n\n      maskResult[so] = a >= 255 * 4 ? 255 : 0;\n    }\n  }\n\n  return maskResult;\n}\n\nfunction smoothEdgeMask(mask, sw, sh) {\n  var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n  var side = Math.round(Math.sqrt(weights.length));\n  var halfSide = Math.floor(side / 2);\n  var maskResult = [];\n\n  for (var y = 0; y < sh; y++) {\n    for (var x = 0; x < sw; x++) {\n      var so = y * sw + x;\n      var a = 0;\n\n      for (var cy = 0; cy < side; cy++) {\n        for (var cx = 0; cx < side; cx++) {\n          var scy = y + cy - halfSide;\n          var scx = x + cx - halfSide;\n\n          if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n            var srcOff = scy * sw + scx;\n            var wt = weights[cy * side + cx];\n            a += mask[srcOff] * wt;\n          }\n        }\n      }\n\n      maskResult[so] = a;\n    }\n  }\n\n  return maskResult;\n}\n\nexport var Mask = function Mask(imageData) {\n  var threshold = this.threshold(),\n      mask = backgroundMask(imageData, threshold);\n\n  if (mask) {\n    mask = erodeMask(mask, imageData.width, imageData.height);\n    mask = dilateMask(mask, imageData.width, imageData.height);\n    mask = smoothEdgeMask(mask, imageData.width, imageData.height);\n    applyMask(imageData, mask);\n  }\n\n  return imageData;\n};\nFactory.addGetterSetter(Node, 'threshold', 0, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\n\nvar ToPolar = function ToPolar(src, dst, opt) {\n  var srcPixels = src.data,\n      dstPixels = dst.data,\n      xSize = src.width,\n      ySize = src.height,\n      xMid = opt.polarCenterX || xSize / 2,\n      yMid = opt.polarCenterY || ySize / 2,\n      i,\n      x,\n      y,\n      r = 0,\n      g = 0,\n      b = 0,\n      a = 0;\n  var rad,\n      rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n  x = xSize - xMid;\n  y = ySize - yMid;\n  rad = Math.sqrt(x * x + y * y);\n  rMax = rad > rMax ? rad : rMax;\n  var rSize = ySize,\n      tSize = xSize,\n      radius,\n      theta;\n  var conversion = 360 / tSize * Math.PI / 180,\n      sin,\n      cos;\n\n  for (theta = 0; theta < tSize; theta += 1) {\n    sin = Math.sin(theta * conversion);\n    cos = Math.cos(theta * conversion);\n\n    for (radius = 0; radius < rSize; radius += 1) {\n      x = Math.floor(xMid + rMax * radius / rSize * cos);\n      y = Math.floor(yMid + rMax * radius / rSize * sin);\n      i = (y * xSize + x) * 4;\n      r = srcPixels[i + 0];\n      g = srcPixels[i + 1];\n      b = srcPixels[i + 2];\n      a = srcPixels[i + 3];\n      i = (theta + radius * xSize) * 4;\n      dstPixels[i + 0] = r;\n      dstPixels[i + 1] = g;\n      dstPixels[i + 2] = b;\n      dstPixels[i + 3] = a;\n    }\n  }\n};\n\nvar FromPolar = function FromPolar(src, dst, opt) {\n  var srcPixels = src.data,\n      dstPixels = dst.data,\n      xSize = src.width,\n      ySize = src.height,\n      xMid = opt.polarCenterX || xSize / 2,\n      yMid = opt.polarCenterY || ySize / 2,\n      i,\n      x,\n      y,\n      dx,\n      dy,\n      r = 0,\n      g = 0,\n      b = 0,\n      a = 0;\n  var rad,\n      rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n  x = xSize - xMid;\n  y = ySize - yMid;\n  rad = Math.sqrt(x * x + y * y);\n  rMax = rad > rMax ? rad : rMax;\n  var rSize = ySize,\n      tSize = xSize,\n      radius,\n      theta,\n      phaseShift = opt.polarRotation || 0;\n  var x1, y1;\n\n  for (x = 0; x < xSize; x += 1) {\n    for (y = 0; y < ySize; y += 1) {\n      dx = x - xMid;\n      dy = y - yMid;\n      radius = Math.sqrt(dx * dx + dy * dy) * rSize / rMax;\n      theta = (Math.atan2(dy, dx) * 180 / Math.PI + 360 + phaseShift) % 360;\n      theta = theta * tSize / 360;\n      x1 = Math.floor(theta);\n      y1 = Math.floor(radius);\n      i = (y1 * xSize + x1) * 4;\n      r = srcPixels[i + 0];\n      g = srcPixels[i + 1];\n      b = srcPixels[i + 2];\n      a = srcPixels[i + 3];\n      i = (y * xSize + x) * 4;\n      dstPixels[i + 0] = r;\n      dstPixels[i + 1] = g;\n      dstPixels[i + 2] = b;\n      dstPixels[i + 3] = a;\n    }\n  }\n};\n\nexport var Kaleidoscope = function Kaleidoscope(imageData) {\n  var xSize = imageData.width,\n      ySize = imageData.height;\n  var x, y, xoff, i, r, g, b, a, srcPos, dstPos;\n  var power = Math.round(this.kaleidoscopePower());\n  var angle = Math.round(this.kaleidoscopeAngle());\n  var offset = Math.floor(xSize * (angle % 360) / 360);\n\n  if (power < 1) {\n    return;\n  }\n\n  var tempCanvas = Util.createCanvasElement();\n  tempCanvas.width = xSize;\n  tempCanvas.height = ySize;\n  var scratchData = tempCanvas.getContext('2d').getImageData(0, 0, xSize, ySize);\n  ToPolar(imageData, scratchData, {\n    polarCenterX: xSize / 2,\n    polarCenterY: ySize / 2\n  });\n  var minSectionSize = xSize / Math.pow(2, power);\n\n  while (minSectionSize <= 8) {\n    minSectionSize = minSectionSize * 2;\n    power -= 1;\n  }\n\n  minSectionSize = Math.ceil(minSectionSize);\n  var sectionSize = minSectionSize;\n  var xStart = 0,\n      xEnd = sectionSize,\n      xDelta = 1;\n\n  if (offset + minSectionSize > xSize) {\n    xStart = sectionSize;\n    xEnd = 0;\n    xDelta = -1;\n  }\n\n  for (y = 0; y < ySize; y += 1) {\n    for (x = xStart; x !== xEnd; x += xDelta) {\n      xoff = Math.round(x + offset) % xSize;\n      srcPos = (xSize * y + xoff) * 4;\n      r = scratchData.data[srcPos + 0];\n      g = scratchData.data[srcPos + 1];\n      b = scratchData.data[srcPos + 2];\n      a = scratchData.data[srcPos + 3];\n      dstPos = (xSize * y + x) * 4;\n      scratchData.data[dstPos + 0] = r;\n      scratchData.data[dstPos + 1] = g;\n      scratchData.data[dstPos + 2] = b;\n      scratchData.data[dstPos + 3] = a;\n    }\n  }\n\n  for (y = 0; y < ySize; y += 1) {\n    sectionSize = Math.floor(minSectionSize);\n\n    for (i = 0; i < power; i += 1) {\n      for (x = 0; x < sectionSize + 1; x += 1) {\n        srcPos = (xSize * y + x) * 4;\n        r = scratchData.data[srcPos + 0];\n        g = scratchData.data[srcPos + 1];\n        b = scratchData.data[srcPos + 2];\n        a = scratchData.data[srcPos + 3];\n        dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;\n        scratchData.data[dstPos + 0] = r;\n        scratchData.data[dstPos + 1] = g;\n        scratchData.data[dstPos + 2] = b;\n        scratchData.data[dstPos + 3] = a;\n      }\n\n      sectionSize *= 2;\n    }\n  }\n\n  FromPolar(scratchData, imageData, {\n    polarRotation: 0\n  });\n};\nFactory.addGetterSetter(Node, 'kaleidoscopePower', 2, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'kaleidoscopeAngle', 0, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var Noise = function Noise(imageData) {\n  var amount = this.noise() * 255,\n      data = imageData.data,\n      nPixels = data.length,\n      half = amount / 2,\n      i;\n\n  for (i = 0; i < nPixels; i += 4) {\n    data[i + 0] += half - 2 * half * Math.random();\n    data[i + 1] += half - 2 * half * Math.random();\n    data[i + 2] += half - 2 * half * Math.random();\n  }\n};\nFactory.addGetterSetter(Node, 'noise', 0.2, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Util } from '../Util.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var Pixelate = function Pixelate(imageData) {\n  var pixelSize = Math.ceil(this.pixelSize()),\n      width = imageData.width,\n      height = imageData.height,\n      x,\n      y,\n      i,\n      red,\n      green,\n      blue,\n      alpha,\n      nBinsX = Math.ceil(width / pixelSize),\n      nBinsY = Math.ceil(height / pixelSize),\n      xBinStart,\n      xBinEnd,\n      yBinStart,\n      yBinEnd,\n      xBin,\n      yBin,\n      pixelsInBin,\n      data = imageData.data;\n\n  if (pixelSize <= 0) {\n    Util.error('pixelSize value can not be <= 0');\n    return;\n  }\n\n  for (xBin = 0; xBin < nBinsX; xBin += 1) {\n    for (yBin = 0; yBin < nBinsY; yBin += 1) {\n      red = 0;\n      green = 0;\n      blue = 0;\n      alpha = 0;\n      xBinStart = xBin * pixelSize;\n      xBinEnd = xBinStart + pixelSize;\n      yBinStart = yBin * pixelSize;\n      yBinEnd = yBinStart + pixelSize;\n      pixelsInBin = 0;\n\n      for (x = xBinStart; x < xBinEnd; x += 1) {\n        if (x >= width) {\n          continue;\n        }\n\n        for (y = yBinStart; y < yBinEnd; y += 1) {\n          if (y >= height) {\n            continue;\n          }\n\n          i = (width * y + x) * 4;\n          red += data[i + 0];\n          green += data[i + 1];\n          blue += data[i + 2];\n          alpha += data[i + 3];\n          pixelsInBin += 1;\n        }\n      }\n\n      red = red / pixelsInBin;\n      green = green / pixelsInBin;\n      blue = blue / pixelsInBin;\n      alpha = alpha / pixelsInBin;\n\n      for (x = xBinStart; x < xBinEnd; x += 1) {\n        if (x >= width) {\n          continue;\n        }\n\n        for (y = yBinStart; y < yBinEnd; y += 1) {\n          if (y >= height) {\n            continue;\n          }\n\n          i = (width * y + x) * 4;\n          data[i + 0] = red;\n          data[i + 1] = green;\n          data[i + 2] = blue;\n          data[i + 3] = alpha;\n        }\n      }\n    }\n  }\n};\nFactory.addGetterSetter(Node, 'pixelSize', 8, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var Posterize = function Posterize(imageData) {\n  var levels = Math.round(this.levels() * 254) + 1,\n      data = imageData.data,\n      len = data.length,\n      scale = 255 / levels,\n      i;\n\n  for (i = 0; i < len; i += 1) {\n    data[i] = Math.floor(data[i] / scale) * scale;\n  }\n};\nFactory.addGetterSetter(Node, 'levels', 0.5, getNumberValidator(), Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport var RGB = function RGB(imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      red = this.red(),\n      green = this.green(),\n      blue = this.blue(),\n      i,\n      brightness;\n\n  for (i = 0; i < nPixels; i += 4) {\n    brightness = (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n    data[i] = brightness * red;\n    data[i + 1] = brightness * green;\n    data[i + 2] = brightness * blue;\n    data[i + 3] = data[i + 3];\n  }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport var RGBA = function RGBA(imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      red = this.red(),\n      green = this.green(),\n      blue = this.blue(),\n      alpha = this.alpha(),\n      i,\n      ia;\n\n  for (i = 0; i < nPixels; i += 4) {\n    ia = 1 - alpha;\n    data[i] = red * alpha + data[i] * ia;\n    data[i + 1] = green * alpha + data[i + 1] * ia;\n    data[i + 2] = blue * alpha + data[i + 2] * ia;\n  }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'alpha', 1, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 1) {\n    return 1;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return val;\n  }\n});","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport var Threshold = function Threshold(imageData) {\n  var level = this.threshold() * 255,\n      data = imageData.data,\n      len = data.length,\n      i;\n\n  for (i = 0; i < len; i += 1) {\n    data[i] = data[i] < level ? 0 : 255;\n  }\n};\nFactory.addGetterSetter(Node, 'threshold', 0.5, getNumberValidator(), Factory.afterSetFilter);","import { Konva as Core } from './_CoreInternals.js';\nimport { Arc } from './shapes/Arc.js';\nimport { Arrow } from './shapes/Arrow.js';\nimport { Circle } from './shapes/Circle.js';\nimport { Ellipse } from './shapes/Ellipse.js';\nimport { Image } from './shapes/Image.js';\nimport { Label, Tag } from './shapes/Label.js';\nimport { Line } from './shapes/Line.js';\nimport { Path } from './shapes/Path.js';\nimport { Rect } from './shapes/Rect.js';\nimport { RegularPolygon } from './shapes/RegularPolygon.js';\nimport { Ring } from './shapes/Ring.js';\nimport { Sprite } from './shapes/Sprite.js';\nimport { Star } from './shapes/Star.js';\nimport { Text } from './shapes/Text.js';\nimport { TextPath } from './shapes/TextPath.js';\nimport { Transformer } from './shapes/Transformer.js';\nimport { Wedge } from './shapes/Wedge.js';\nimport { Blur } from './filters/Blur.js';\nimport { Brighten } from './filters/Brighten.js';\nimport { Contrast } from './filters/Contrast.js';\nimport { Emboss } from './filters/Emboss.js';\nimport { Enhance } from './filters/Enhance.js';\nimport { Grayscale } from './filters/Grayscale.js';\nimport { HSL } from './filters/HSL.js';\nimport { HSV } from './filters/HSV.js';\nimport { Invert } from './filters/Invert.js';\nimport { Kaleidoscope } from './filters/Kaleidoscope.js';\nimport { Mask } from './filters/Mask.js';\nimport { Noise } from './filters/Noise.js';\nimport { Pixelate } from './filters/Pixelate.js';\nimport { Posterize } from './filters/Posterize.js';\nimport { RGB } from './filters/RGB.js';\nimport { RGBA } from './filters/RGBA.js';\nimport { Sepia } from './filters/Sepia.js';\nimport { Solarize } from './filters/Solarize.js';\nimport { Threshold } from './filters/Threshold.js';\nexport var Konva = Core.Util._assign(Core, {\n  Arc: Arc,\n  Arrow: Arrow,\n  Circle: Circle,\n  Ellipse: Ellipse,\n  Image: Image,\n  Label: Label,\n  Tag: Tag,\n  Line: Line,\n  Path: Path,\n  Rect: Rect,\n  RegularPolygon: RegularPolygon,\n  Ring: Ring,\n  Sprite: Sprite,\n  Star: Star,\n  Text: Text,\n  TextPath: TextPath,\n  Transformer: Transformer,\n  Wedge: Wedge,\n  Filters: {\n    Blur: Blur,\n    Brighten: Brighten,\n    Contrast: Contrast,\n    Emboss: Emboss,\n    Enhance: Enhance,\n    Grayscale: Grayscale,\n    HSL: HSL,\n    HSV: HSV,\n    Invert: Invert,\n    Kaleidoscope: Kaleidoscope,\n    Mask: Mask,\n    Noise: Noise,\n    Pixelate: Pixelate,\n    Posterize: Posterize,\n    RGB: RGB,\n    RGBA: RGBA,\n    Sepia: Sepia,\n    Solarize: Solarize,\n    Threshold: Threshold\n  }\n});","import { Konva } from './_FullInternals.js';\nexport default Konva;","export var Grayscale = function Grayscale(imageData) {\n  var data = imageData.data,\n      len = data.length,\n      i,\n      brightness;\n\n  for (i = 0; i < len; i += 4) {\n    brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];\n    data[i] = brightness;\n    data[i + 1] = brightness;\n    data[i + 2] = brightness;\n  }\n};","export var Invert = function Invert(imageData) {\n  var data = imageData.data,\n      len = data.length,\n      i;\n\n  for (i = 0; i < len; i += 4) {\n    data[i] = 255 - data[i];\n    data[i + 1] = 255 - data[i + 1];\n    data[i + 2] = 255 - data[i + 2];\n  }\n};","export var Sepia = function Sepia(imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      i,\n      r,\n      g,\n      b;\n\n  for (i = 0; i < nPixels; i += 4) {\n    r = data[i + 0];\n    g = data[i + 1];\n    b = data[i + 2];\n    data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);\n    data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);\n    data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);\n  }\n};","export var Solarize = function Solarize(imageData) {\n  var data = imageData.data,\n      w = imageData.width,\n      h = imageData.height,\n      w4 = w * 4,\n      y = h;\n\n  do {\n    var offsetY = (y - 1) * w4;\n    var x = w;\n\n    do {\n      var offset = offsetY + (x - 1) * 4;\n      var r = data[offset];\n      var g = data[offset + 1];\n      var b = data[offset + 2];\n\n      if (r > 127) {\n        r = 255 - r;\n      }\n\n      if (g > 127) {\n        g = 255 - g;\n      }\n\n      if (b > 127) {\n        b = 255 - b;\n      }\n\n      data[offset] = r;\n      data[offset + 1] = g;\n      data[offset + 2] = b;\n    } while (--x);\n  } while (--y);\n};","import Konva from \"konva\"\nimport React from \"react\"\nimport styled from \"styled-components\"\n\nfunction drawMoon(layer: Konva.Layer, stageWidth: number): void {\n  const moon = new Konva.Circle({\n    x: stageWidth - 50,\n    y: 25,\n    radius: 25,\n    fill: \"red\",\n  })\n\n  layer.add(moon)\n}\n\nfunction drawMountain(\n  layer: Konva.Layer,\n  stageWidth: number,\n  ground: number\n): void {\n  const elevations = [\n    ground,\n    ground - 20,\n    ground - 20,\n    ground - 10,\n    ground - 50,\n    ground - 30,\n    ground - 15,\n    ground - 15,\n    ground - 60,\n    ground - 55,\n    ground - 55,\n    ground - 30,\n    ground - 25,\n    ground - 20,\n    ground - 20,\n    ground - 20,\n    ground - 10,\n    ground - 10,\n    ground,\n  ]\n\n  const points: number[] = []\n  for (let i = 0; i < elevations.length; i++) {\n    points.push(stageWidth * (i / elevations.length), elevations[i])\n  }\n\n  const mountain = new Konva.Line({\n    points,\n    stroke: \"white\",\n    strokeWidth: 1,\n  })\n\n  layer.add(mountain)\n}\n\nfunction drawGrid(\n  layer: Konva.Layer,\n  stageWidth: number,\n  stageHeight: number\n): void {\n  const gridFactor = 10\n\n  for (let x = 0; x < stageWidth; x += gridFactor) {\n    const line = new Konva.Line({\n      points: [x, 0, x, stageHeight],\n      stroke: \"white\",\n      strokeWidth: 1,\n    })\n\n    layer.add(line)\n  }\n\n  for (let y = 0; y < stageHeight; y += gridFactor) {\n    const line = new Konva.Line({\n      points: [0, y, stageWidth, y],\n      stroke: \"white\",\n      strokeWidth: 1,\n    })\n\n    layer.add(line)\n  }\n}\n\nfunction createStage(\n  container: HTMLDivElement | null\n): Konva.Stage | undefined {\n  if (container) {\n    const stage = new Konva.Stage({\n      container,\n      width: container.clientWidth,\n      height: container.clientHeight,\n    })\n\n    const layer = new Konva.Layer()\n\n    // drawGrid(layer, stage.width(), stage.height())\n    drawMountain(layer, stage.width(), stage.height())\n    drawMoon(layer, stage.width())\n\n    stage.add(layer)\n    layer.draw()\n\n    return stage\n  }\n\n  return undefined\n}\n\nexport default function MountainBiking({ className }: { className?: string }) {\n  return <Stage ref={createStage} className={className}></Stage>\n}\n\nconst Stage = styled.div``\n","import React, { FC, HTMLAttributes } from \"react\"\nimport styled from \"styled-components\"\nimport { Index } from \"../../constants/siteConstants\"\nimport { AsciiComputer } from \"../AsciiComputer\"\nimport { CursorRowGroup } from \"../CursorRowGroup\"\nimport MountainBiking from \"../MountainBiking\"\n\nexport const DesktopIndex: FC<HTMLAttributes<HTMLDivElement>> = ({\n  className,\n}) => {\n  const [finishTypingIntro, setFinishTypingIntro] = React.useState(false)\n\n  return (\n    <DesktopContent className={className ?? \"\"}>\n      <HeaderContainer>\n        <Header>{Index.headerName}</Header>\n      </HeaderContainer>\n      <ContentContainer>\n        <BioContainer onDoubleClick={() => setFinishTypingIntro(true)}>\n          <CursorRowGroup\n            contentItems={Index.intro}\n            finishTyping={finishTypingIntro}\n          />\n        </BioContainer>\n        <ComputerContainer>\n          <AsciiComputer>\n            <ComputerContent />\n          </AsciiComputer>\n        </ComputerContainer>\n      </ContentContainer>\n    </DesktopContent>\n  )\n}\n\nconst DesktopContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0 50px;\n`\n\nconst HeaderContainer = styled.div`\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: center;\n`\n\nconst ComputerContent = styled(MountainBiking)`\n  width: 100%;\n  height: 100%;\n`\n\nconst Header = styled.pre`\n  color: white;\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n`\n\nconst ContentContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  flex-grow: 0;\n`\n\nconst DashedContainer = styled.div`\n  border: 5px dashed white;\n  padding: 15px;\n  flex-grow: 1;\n  width: 45%;\n`\n\nconst BioContainer = styled(DashedContainer)`\n  margin-right: 25px;\n  display: grid;\n  grid-row-gap: 15px;\n`\n\nconst ComputerContainer = styled(DashedContainer)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n","import React, { FC, HTMLAttributes } from \"react\"\nimport { RecordPlayer as PlayerComponents } from \"../constants/siteConstants\"\nimport styled, { keyframes, css } from \"styled-components\"\n\ninterface Props extends HTMLAttributes<HTMLDivElement> {\n  isArmRotating: boolean\n  onClick?: () => void\n}\n\nexport const RecordPlayer: FC<Props> = ({\n  className = \"\",\n  isArmRotating,\n  onClick,\n}) => {\n  return (\n    <PlayerContainer className={className} onClick={onClick}>\n      <PlayerArm isArmRotating={isArmRotating}>\n        {PlayerComponents.arm}\n      </PlayerArm>\n      <Player>{PlayerComponents.playerWithoutArm}</Player>\n    </PlayerContainer>\n  )\n}\n\nconst PlayerContainer = styled.div`\n  position: relative;\n  display: inline-block;\n`\n\nconst startingPosition = `\n    transform: rotate(0deg);\n    top: 9px;\n    right: 12px;\n`\n\nconst endingPosition = `\n    transform: rotate(90deg);\n    top: 2px;\n    right: -25px;\n`\n\nconst rotateArm = keyframes`\n    from {\n        ${startingPosition}\n    }\n\n    to {\n        ${endingPosition}\n    }\n`\n\nconst PlayerArm = styled.pre<{ isArmRotating: boolean }>`\n  position: absolute;\n  margin: 0;\n  transform-origin: top left;\n\n  ${({ isArmRotating }) => {\n    if (isArmRotating) {\n      return css`\n        animation: ${rotateArm} 2s linear;\n        ${endingPosition}\n      `\n    } else {\n      return `\n                ${startingPosition}\n            `\n    }\n  }}\n`\n\nconst Player = styled.pre`\n  margin: 0;\n`\n","import React, {\n  FC,\n  HTMLAttributes,\n  useState,\n  useEffect,\n  RefObject,\n} from \"react\"\nimport styled from \"styled-components\"\nimport { Index, AudioUrls } from \"../../constants/siteConstants\"\nimport { CursorRowGroup } from \"../CursorRowGroup\"\nimport { RecordPlayer } from \"../RecordPlayer\"\n\nexport const MobileIndex: FC<HTMLAttributes<HTMLDivElement>> = ({\n  className,\n}) => {\n  const [isPlayingMusic, setIsPlayingMusic] = useState(false)\n  const [currentSongIndex, setCurrentSongIndex] = useState(0)\n\n  useEffect(() => {\n    setTimeout(() => {\n      setIsPlayingMusic(true)\n    }, 3000)\n  }, [])\n\n  const keepPlaying = (ref: HTMLAudioElement | null) => {\n    if (ref) {\n      ref.addEventListener(\"ended\", () => {\n        const nextIndex = (currentSongIndex + 1) % AudioUrls.length\n        setCurrentSongIndex(nextIndex)\n      })\n    }\n  }\n\n  const currentSong = AudioUrls[currentSongIndex]\n\n  const onRecordPlayerClick = () => {\n    setIsPlayingMusic(!isPlayingMusic)\n  }\n\n  return (\n    <MobileContainer className={className ?? \"\"}>\n      <HeaderContainer>\n        <Header>{Index.mobileHeaderName}</Header>\n        <RecordPlayerContainer>\n          <StyledRecordPlayer\n            isArmRotating={isPlayingMusic}\n            onClick={onRecordPlayerClick}\n          />\n          {isPlayingMusic && (\n            <HiddenAudio src={currentSong} autoPlay={true} ref={keepPlaying} />\n          )}\n        </RecordPlayerContainer>\n      </HeaderContainer>\n      <BioContainer>\n        <CursorRowGroup contentItems={Index.intro} />\n      </BioContainer>\n    </MobileContainer>\n  )\n}\n\nconst MobileContainer = styled.div`\n  display: grid;\n  grid-row-gap: 40px;\n  margin: 0 15px;\n`\n\nconst BioContainer = styled.div`\n  border: 5px dashed white;\n  padding: 15px;\n  display: grid;\n  grid-row-gap: 10px;\n  font-size: 0.9rem;\n  min-height: 231px;\n`\n\nconst HeaderContainer = styled.div`\n  text-align: center;\n`\n\nconst Header = styled.pre`\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n  max-width: 100%;\n`\n\nconst StyledRecordPlayer = styled(RecordPlayer)`\n  margin-top: 20px;\n`\n\nconst RecordPlayerContainer = styled.div``\n\nconst HiddenAudio = styled.audio``\n","import { FC, ReactElement, useLayoutEffect, useState } from \"react\"\n\ninterface Props {\n  desktopView: ReactElement\n  mobileView: ReactElement\n  breakpoint: number\n}\n\nexport const ResponsiveBreakpoint: FC<Props> = ({\n  desktopView,\n  mobileView,\n  breakpoint,\n}) => {\n  const [currentView, setView] = useState<\"desktop\" | \"mobile\">(\"desktop\")\n  useLayoutEffect(() => {\n    setView(window.outerWidth >= breakpoint ? \"desktop\" : \"mobile\")\n  })\n\n  switch (currentView) {\n    case \"mobile\":\n      return mobileView\n    case \"desktop\":\n      return desktopView\n  }\n}\n","import React, { FC, useLayoutEffect } from \"react\"\n\nimport styled from \"styled-components\"\nimport { PageWrapper } from \"../components/page-wrapper\"\nimport { DesktopIndex } from \"../components/index/Desktop\"\nimport { MobileIndex } from \"../components/index/Mobile\"\nimport {\n  EMAILME,\n  GALAKSIJA_ARTICLE,\n  MobileBreakpoint,\n  RESUME,\n} from \"../constants/siteConstants\"\nimport { Link } from \"gatsby\"\nimport { ResponsiveBreakpoint } from \"../components/ResponsiveBreakpoint\"\n\nconst IndexPage: FC = () => {\n  return (\n    <>\n      <PageWrapper>\n        <TerminalScreenFrame>\n          <ResponsiveBreakpoint\n            desktopView={<DesktopIndex />}\n            mobileView={<MobileIndex />}\n            breakpoint={parseInt(MobileBreakpoint)}\n          />\n        </TerminalScreenFrame>\n      </PageWrapper>\n      <Footer>\n        <div>\n          <a target=\"_blank\" href={EMAILME}>\n            Write me an e-mail\n          </a>\n        </div>\n        <div>\n          <a target=\"_blank\" href={GALAKSIJA_ARTICLE}>\n            Learn about programs on the radio\n          </a>\n        </div>\n        <Link to=\"/credits\">Give credit where credit is due</Link>\n      </Footer>\n    </>\n  )\n}\n\nconst Footer = styled.footer`\n  display: grid;\n  justify-content: center;\n  margin: 10px 0;\n\n  @media (max-width: ${MobileBreakpoint}) {\n    flex-direction: column;\n    align-items: center;\n  }\n`\n\nconst TerminalScreenFrame = styled.div``\n\nexport default IndexPage\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n"],"sourceRoot":""}